<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Location module &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Modem module" href="modem_module.html" />
    <link rel="prev" title="Debug module" href="debug_module.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../applications.html">Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../connectivity_bridge/README.html">Connectivity bridge</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../README.html">nRF9160: Asset Tracker v2</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="asset_tracker_v2_description.html">Application description</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_behavior.html">Application behavior and functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="firmware_architecture.html">Firmware architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="lwm2m_carrier_library.html">Using the carrier library</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_module.html">Application module</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_module.html">Data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud_module.html">Cloud module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud_wrapper.html">Cloud wrapper API</a></li>
<li class="toctree-l3"><a class="reference internal" href="debug_module.html">Debug module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Location module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-options">Configuration options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-states">Module states</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-events">Module events</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-documentation">API documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modem_module.html">Modem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensor_module.html">Sensor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ui_module.html">User Interface module</a></li>
<li class="toctree-l3"><a class="reference internal" href="util_module.html">Utility module</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules_common.html">Modules common API</a></li>
<li class="toctree-l3"><a class="reference internal" href="unit_test.html">Unit tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../serial_lte_modem/README.html">nRF9160: Serial LTE modem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf_desktop/README.html">nRF Desktop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf5340_audio/README.html">nRF5340 Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../machine_learning/README.html">nRF Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matter_weather_station/README.html">Thingy:53: Matter weather station</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee_weather_station/README.html">Thingy:53: Zigbee weather station</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../applications.html">Applications</a></li>
          <li class="breadcrumb-item"><a href="../README.html">nRF9160: Asset Tracker v2</a></li>
      <li class="breadcrumb-item active">Location module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/applications/asset_tracker_v2/doc/location_module.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="location-module">
<span id="asset-tracker-v2-location-module"></span><h1>Location module<a class="headerlink" href="#location-module" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#features" id="id7">Features</a></p>
<ul>
<li><p><a class="reference internal" href="#location-control" id="id8">Location control</a></p></li>
<li><p><a class="reference internal" href="#gnss-lna-configuration" id="id9">GNSS LNA configuration</a></p></li>
<li><p><a class="reference internal" href="#gps-assistance-data" id="id10">GPS assistance data</a></p></li>
<li><p><a class="reference internal" href="#wi-fi-positioning" id="id11">Wi-Fi positioning</a></p></li>
<li><p><a class="reference internal" href="#module-internals" id="id12">Module internals</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration-options" id="id13">Configuration options</a></p></li>
<li><p><a class="reference internal" href="#module-states" id="id14">Module states</a></p></li>
<li><p><a class="reference internal" href="#module-events" id="id15">Module events</a></p></li>
<li><p><a class="reference internal" href="#dependencies" id="id16">Dependencies</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id17">API documentation</a></p></li>
</ul>
</div>
<p>The location module controls the GNSS, cellular and Wi-Fi positioning functionality.
It can be used to retrieve the location of the device in the form of events containing a position, velocity and time (PVT) structure.</p>
<section id="features">
<h2><a class="toc-backref" href="#id7">Features</a><a class="headerlink" href="#features" title="Permalink to this heading"></a></h2>
<p>This section documents the various features implemented by the module.</p>
<section id="location-control">
<h3><a class="toc-backref" href="#id8">Location control</a><a class="headerlink" href="#location-control" title="Permalink to this heading"></a></h3>
<p>The module uses the <a class="reference internal" href="../../../libraries/modem/location.html#lib-location"><span class="std std-ref">Location</span></a> library to communicate with the nRF9160 modem and
control its GNSS and LTE neighbor cell measurement functionalities as well as with the nRF7002 Wi-Fi positioning functionality.
A location request starts when the module receives an <code class="docutils literal notranslate"><span class="pre">APP_EVT_DATA_GET</span></code> event and
the <code class="docutils literal notranslate"><span class="pre">APP_DATA_LOCATION</span></code> type is listed in the event’s <code class="docutils literal notranslate"><span class="pre">data_list</span></code> member containing the data types that shall be sampled.</p>
<p>The default configuration for the location request is set as follows:</p>
<ul class="simple">
<li><p>GNSS, Wi-Fi and cellular positioning are set in priority order of the location methods.
Wi-Fi is omitted if it is not built into the application.
If GNSS fails, both Wi-Fi and cellular positioning are tried.
The priority order of the methods can be changed through <a class="reference internal" href="../../../libraries/modem/location.html#lib-location"><span class="std std-ref">Location</span></a> library Kconfig options.
Methods that should not be used can be configured by adding them into <code class="docutils literal notranslate"><span class="pre">No</span> <span class="pre">Data</span> <span class="pre">List</span></code>.
See <a class="reference internal" href="app_behavior.html#real-time-configs"><span class="std std-ref">Real-time configurations</span></a> for more information.</p></li>
<li><p>Timeout, which can be configured as part of <a class="reference internal" href="app_behavior.html#real-time-configs"><span class="std std-ref">Real-time configurations</span></a> with <code class="docutils literal notranslate"><span class="pre">Location</span> <span class="pre">timeout</span></code>.</p></li>
</ul>
<p>The location module receives configuration updates as payload in the following two events:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DATA_EVT_CONFIG_INIT</span></code> - The event contains the value configured at build time or received from cloud and stored to flash.
The event is distributed from the data module as part of the application initialization.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DATA_EVT_CONFIG_READY</span></code> - The event is received when the data module has processed an incoming message from cloud with a configuration update.</p></li>
</ul>
<p>The module sends the following events based on the outcome of the location request:
* <code class="docutils literal notranslate"><span class="pre">LOCATION_MODULE_EVT_GNSS_DATA_READY</span></code>: GNSS position has been acquired
* <code class="docutils literal notranslate"><span class="pre">LOCATION_MODULE_EVT_CLOUD_LOCATION_DATA_READY</span></code>: neighbor cell measurements or Wi-Fi access points (or both) have been obtained
* <code class="docutils literal notranslate"><span class="pre">LOCATION_MODULE_EVT_DATA_NOT_READY</span></code>: Location request failed
* <code class="docutils literal notranslate"><span class="pre">LOCATION_MODULE_EVT_TIMEOUT</span></code>: Timeout occurred
* <code class="docutils literal notranslate"><span class="pre">LOCATION_MODULE_EVT_AGPS_NEEDED</span></code>: A-GPS request should be sent to cloud
* <code class="docutils literal notranslate"><span class="pre">LOCATION_MODULE_EVT_PGPS_NEEDED</span></code>: P-GPS request should be sent to cloud</p>
</section>
<section id="gnss-lna-configuration">
<h3><a class="toc-backref" href="#id9">GNSS LNA configuration</a><a class="headerlink" href="#gnss-lna-configuration" title="Permalink to this heading"></a></h3>
<p>Different devices have different GNSS antenna and LNA setups depending on the antenna type (onboard or external).
The application uses the <a class="reference internal" href="../../../libraries/modem/modem_antenna.html#lib-modem-antenna"><span class="std std-ref">Modem antenna</span></a> library for configuring the LNA.
The library has Kconfig options to control the LNA using either the COEX0 or MAGPIO interface of the nRF9160.
See the library documentation for more details on how to configure the antenna and LNA.</p>
</section>
<section id="gps-assistance-data">
<h3><a class="toc-backref" href="#id10">GPS assistance data</a><a class="headerlink" href="#gps-assistance-data" title="Permalink to this heading"></a></h3>
<p>The location module receives requests for GPS assistance data from the <a class="reference internal" href="../../../libraries/modem/location.html#lib-location"><span class="std std-ref">Location</span></a> library.
When the module receives an A-GPS request, it distributes it to the other modules as a <code class="docutils literal notranslate"><span class="pre">LOCATION_MODULE_EVT_AGPS_NEEDED</span></code> event that contains information about the type of assistance data needed.
Providing the requested A-GPS data typically reduces significantly the time it takes to acquire a GNSS fix.</p>
</section>
<section id="wi-fi-positioning">
<h3><a class="toc-backref" href="#id11">Wi-Fi positioning</a><a class="headerlink" href="#wi-fi-positioning" title="Permalink to this heading"></a></h3>
<p>Wi-Fi positioning is supported with an nRF7002 EK on the nRF9160 DK.
To enable Wi-Fi positioning and especially nRF7002 functionality, use a
special DTC overlay with the compiler option <code class="docutils literal notranslate"><span class="pre">-DDTC_OVERLAY_FILE=nrf9160dk_with_nrf7002ek.overlay</span></code> and a
configuration overlay <code class="docutils literal notranslate"><span class="pre">-DOVERLAY_CONFIG=overlay-nrf7002ek-wifi-scan-only.conf</span></code>.</p>
<p>To build for the nRF9160 DK with nRF7002 EK, use the <code class="docutils literal notranslate"><span class="pre">nrf9160dk_nrf9160_ns</span></code> build target with the <code class="docutils literal notranslate"><span class="pre">SHIELD</span></code> CMake option set to <code class="docutils literal notranslate"><span class="pre">nrf7002_ek</span></code> and a scan-only overlay configuration.
The following is an example of the CLI command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west build -p -b nrf9160dk_nrf9160ns -- -DSHIELD=nrf7002_ek -DDTC_OVERLAY_FILE=nrf9160dk_with_nrf7002ek.overlay -DOVERLAY_CONFIG=overlay-nrf7002ek-wifi-scan-only.conf</span>
</pre></div>
</div>
<p>Wi-Fi positioning has the following limitations:</p>
<ul class="simple">
<li><p>Only <a class="reference external" href="https://nrfcloud.com/">nRF Cloud</a> is supported.</p></li>
<li><p>The UI module must be disabled.
Functionalities related to LEDs and buttons have conflicts with the nRF7002 EK.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Wi-Fi configuration uses both flash and SRAM extensively.
You can configure the number of scan results with the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LOCATION_METHOD_WIFI_SCANNING_RESULTS_MAX_CNT</span></code> Kconfig option to reduce SRAM consumption.
You can also change the value of the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_HEAP_MEM_POOL_SIZE</span></code> Kconfig option.</p>
</div>
</section>
<section id="module-internals">
<h3><a class="toc-backref" href="#id12">Module internals</a><a class="headerlink" href="#module-internals" title="Permalink to this heading"></a></h3>
<p>The location module is a threadless module in terms of message processing.
In this sense, it differs from many other modules.</p>
<p>All incoming events from other modules are handled in the context of the Application Event Manager callback, because they all complete fast enough to not require a separate thread.</p>
<p>The <a class="reference internal" href="../../../libraries/modem/location.html#lib-location"><span class="std std-ref">Location</span></a> library handles cellular and Wi-Fi positioning together when the location request method list has them next to each other.
This means that LTE neighbor cell measurements and Wi-Fi scanning results are combined into the same <code class="docutils literal notranslate"><span class="pre">LOCATION_EVT_CLOUD_LOCATION_EXT_REQUEST</span></code> event.
The location module responds to the <a class="reference internal" href="../../../libraries/modem/location.html#lib-location"><span class="std std-ref">Location</span></a> library with unknown location resolution, because it does not request the location back from cloud service.</p>
</section>
</section>
<section id="configuration-options">
<h2><a class="toc-backref" href="#id13">Configuration options</a><a class="headerlink" href="#configuration-options" title="Permalink to this heading"></a></h2>
<dl class="simple" id="config-location-module">
<dt>CONFIG_LOCATION_MODULE</dt><dd><p>Enables the location module.</p>
</dd>
</dl>
</section>
<section id="module-states">
<h2><a class="toc-backref" href="#id14">Module states</a><a class="headerlink" href="#module-states" title="Permalink to this heading"></a></h2>
<p>The location module has an internal state machine with the following states:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">STATE_INIT</span></code> - The initial state of the module in which it awaits the modem to be initialized and receive the location related configuration.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STATE_RUNNING</span></code> - The module has performed all required initialization and can respond to requests to start a location request. The running state has two sub-states:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SUB_STATE_SEARCH</span></code> - A location request is ongoing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SUB_STATE_IDLE</span></code> - The module is idling and can respond to a request to start a location request.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">STATE_SHUTDOWN</span></code> - The module has been shut down after receiving a request from the utility module.</p></li>
</ul>
</div></blockquote>
<p>State transitions take place based on input from other modules, such as the application module, data module, utility module and modem module.</p>
</section>
<section id="module-events">
<h2><a class="toc-backref" href="#id15">Module events</a><a class="headerlink" href="#module-events" title="Permalink to this heading"></a></h2>
<p>The <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/location_module_event.h</span></code> header file contains a list of events sent by the location module with associated payload.</p>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id16">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h2>
<p>The module uses the following nRF Connect SDK libraries:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../libraries/others/app_event_manager.html#app-event-manager"><span class="std std-ref">Application Event Manager</span></a></p></li>
<li><p><a class="reference internal" href="../../../libraries/modem/location.html#lib-location"><span class="std std-ref">Location</span></a></p></li>
</ul>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id17">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/location_module_event.h</span></code></div>
<div class="line">Source files: <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/location_module_event.c</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__location__module__event"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">location_module_event</span></span></dt>
<dd><p>Location module event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.location_module_event_type">
<span class="target" id="group__location__module__event_1gaa5b749f21e25e1ce547ecf3bae87a757"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">location_module_event_type</span></span></span><a class="headerlink" href="#c.location_module_event_type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Location event types submitted by location module. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_GNSS_DATA_READY">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757af4f8672a17df4b9c36832685c8aac2e3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_GNSS_DATA_READY</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_GNSS_DATA_READY" title="Permalink to this definition"></a><br /></dt>
<dd><p>A valid GNSS location has been obtained and the data is ready to be used. The event has associated payload of the type <a class="reference internal" href="#structlocation__module__data"><span class="std std-ref">location_module_data</span></a> in the event struct member <code class="docutils literal notranslate"><span class="pre">data.location</span></code>. All struct members within <code class="docutils literal notranslate"><span class="pre">data.location</span></code> contain valid data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_DATA_NOT_READY">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757a49d6ade073d5b175a54da912b7ebcf59"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_DATA_NOT_READY</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_DATA_NOT_READY" title="Permalink to this definition"></a><br /></dt>
<dd><p>Location could not be obtained and will not be ready for this sampling interval. The event has no associated payload. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_CLOUD_LOCATION_DATA_READY">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757af58eed60b86699e1f6a13594f1c658ef"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_CLOUD_LOCATION_DATA_READY</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_CLOUD_LOCATION_DATA_READY" title="Permalink to this definition"></a><br /></dt>
<dd><p>Neighbor cell measurements and/or Wi-Fi access point information have been gathered and the data is ready. The event has associated payload of type <a class="reference internal" href="#structlocation__module__cloud__location"><span class="std std-ref">location_module_cloud_location</span></a> in the <code class="docutils literal notranslate"><span class="pre">data.cloud_location</span></code> member. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_TIMEOUT">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757aba40021353a78c5202a1ff4f36f10ac5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_TIMEOUT</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_TIMEOUT" title="Permalink to this definition"></a><br /></dt>
<dd><p>The location search timed out without acquiring location. The event has associated payload of the type <code class="docutils literal notranslate"><span class="pre">struct</span> <a class="reference internal" href="#structlocation__module__data"><span class="std std-ref"><span class="pre">location_module_data</span></span></a></code> in the event struct member <code class="docutils literal notranslate"><span class="pre">data.location</span></code>. The <code class="docutils literal notranslate"><span class="pre">data.location</span></code> struct member <code class="docutils literal notranslate"><span class="pre">search_time</span></code> contains valid data and <code class="docutils literal notranslate"><span class="pre">satellites_tracked</span></code> contain valid data for GNSS. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_ACTIVE">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757a0e4a55a6919140f9165f8a2f6d477268"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_ACTIVE</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_ACTIVE" title="Permalink to this definition"></a><br /></dt>
<dd><p>An active location search has started. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_INACTIVE">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757a48b12b8b48e390a56cc6fe7161028207"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_INACTIVE</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_INACTIVE" title="Permalink to this definition"></a><br /></dt>
<dd><p>A location search has stopped, either as a result of timeout, error or acquired location. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_SHUTDOWN_READY">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757a20e3003919d9496d7bda3a1a28d04a7b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_SHUTDOWN_READY</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_SHUTDOWN_READY" title="Permalink to this definition"></a><br /></dt>
<dd><p>The module has been shut down gracefully. The event has associated payload of the type <code class="docutils literal notranslate"><span class="pre">uint32</span></code> in the struct member <code class="docutils literal notranslate"><span class="pre">data.id</span></code> that contains the module ID used when acknowledging a shutdown request from the util module. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_AGPS_NEEDED">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757a2937ce35a73a30b176a07ad71b3aefdc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_AGPS_NEEDED</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_AGPS_NEEDED" title="Permalink to this definition"></a><br /></dt>
<dd><p>The location library has reported that it needs GPS assistance data. The event has associated payload of the type <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">nrf_modem_gnss_agps_data_frame</span></code> in the event struct member <code class="docutils literal notranslate"><span class="pre">data.agps_request</span></code>, which contains the types of A-GPS data that the modem needs. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_PGPS_NEEDED">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757ae83e1c9504bfbeeda6ba739fb3ffcf5b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_PGPS_NEEDED</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_PGPS_NEEDED" title="Permalink to this definition"></a><br /></dt>
<dd><p>The location library has reported that it needs GPS prediction data. The event has associated payload of the type <code class="docutils literal notranslate"><span class="pre">struct</span> <a class="reference internal" href="../../../libraries/networking/nrf_cloud_pgps.html#structgps__pgps__request"><span class="std std-ref"><span class="pre">gps_pgps_request</span></span></a></code> in the event struct member <code class="docutils literal notranslate"><span class="pre">data.pgps_request</span></code>, which specifies the P-GPS data need. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.location_module_event_type.LOCATION_MODULE_EVT_ERROR_CODE">
<span class="target" id="group__location__module__event_1ggaa5b749f21e25e1ce547ecf3bae87a757abcd42de6b9982a5ee5dc54b2d0fea173"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOCATION_MODULE_EVT_ERROR_CODE</span></span></span><a class="headerlink" href="#c.location_module_event_type.LOCATION_MODULE_EVT_ERROR_CODE" title="Permalink to this definition"></a><br /></dt>
<dd><p>An error has occurred, and data may have been lost. The event has associated payload of the type <code class="docutils literal notranslate"><span class="pre">int</span></code> in the struct member <code class="docutils literal notranslate"><span class="pre">data.err</span></code>, that contains the original error code that triggered the sending of this event. </p>
</dd></dl>

</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.location_module_pvt">
<span class="target" id="structlocation__module__pvt"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">location_module_pvt</span></span></span><a class="headerlink" href="#c.location_module_pvt" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;location_module_event.h&gt;</em></div>
<p>Position, velocity and time (PVT) data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_pvt.longitude">
<span class="target" id="structlocation__module__pvt_1ad664e6c7c8ec8c11746230b5ce6f9520"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">longitude</span></span></span><a class="headerlink" href="#c.location_module_pvt.longitude" title="Permalink to this definition"></a><br /></dt>
<dd><p>Longitude in degrees. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_pvt.latitude">
<span class="target" id="structlocation__module__pvt_1a502de792e2584d84e6022f4eb9825eac"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">latitude</span></span></span><a class="headerlink" href="#c.location_module_pvt.latitude" title="Permalink to this definition"></a><br /></dt>
<dd><p>Latitude in degrees. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_pvt.altitude">
<span class="target" id="structlocation__module__pvt_1a99b58102a0a0368c875b5c17a01d8b20"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">altitude</span></span></span><a class="headerlink" href="#c.location_module_pvt.altitude" title="Permalink to this definition"></a><br /></dt>
<dd><p>Altitude above WGS-84 ellipsoid in meters. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_pvt.accuracy">
<span class="target" id="structlocation__module__pvt_1adf4adbb95e98144f998ee049efdb8432"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">accuracy</span></span></span><a class="headerlink" href="#c.location_module_pvt.accuracy" title="Permalink to this definition"></a><br /></dt>
<dd><p>Position accuracy (2D 1-sigma) in meters. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_pvt.speed">
<span class="target" id="structlocation__module__pvt_1ad3b4fe09ea31b74e3d383ac831e4cc3b"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">speed</span></span></span><a class="headerlink" href="#c.location_module_pvt.speed" title="Permalink to this definition"></a><br /></dt>
<dd><p>Horizontal speed in m/s. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_pvt.heading">
<span class="target" id="structlocation__module__pvt_1aa70968b4f1b5e2be494ae2dfa27dc99b"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">heading</span></span></span><a class="headerlink" href="#c.location_module_pvt.heading" title="Permalink to this definition"></a><br /></dt>
<dd><p>Heading of user movement in degrees. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.location_module_neighbor_cells">
<span class="target" id="structlocation__module__neighbor__cells"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">location_module_neighbor_cells</span></span></span><a class="headerlink" href="#c.location_module_neighbor_cells" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;location_module_event.h&gt;</em></div>
<p>Location module data for neighbor cells. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_neighbor_cells.cell_data">
<span class="target" id="structlocation__module__neighbor__cells_1a830e45ff297113b7ac1427a6cbb99c50"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../../../libraries/modem/lte_lc.html#c.lte_lc_cells_info" title="lte_lc_cells_info"><span class="n"><span class="pre">lte_lc_cells_info</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cell_data</span></span></span><a class="headerlink" href="#c.location_module_neighbor_cells.cell_data" title="Permalink to this definition"></a><br /></dt>
<dd><p>Information about the current cell. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_neighbor_cells.neighbor_cells">
<span class="target" id="structlocation__module__neighbor__cells_1a7aedcc4424b9ec9fdeb352f2d18ec90a"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../../../libraries/modem/lte_lc.html#c.lte_lc_ncell" title="lte_lc_ncell"><span class="n"><span class="pre">lte_lc_ncell</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">neighbor_cells</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">CONFIG_LTE_NEIGHBOR_CELLS_MAX</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.location_module_neighbor_cells.neighbor_cells" title="Permalink to this definition"></a><br /></dt>
<dd><p>Information about the neighbor cells. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_neighbor_cells.timestamp">
<span class="target" id="structlocation__module__neighbor__cells_1a24210ee2a04ccf59448e79b9f306065d"></span><span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timestamp</span></span></span><a class="headerlink" href="#c.location_module_neighbor_cells.timestamp" title="Permalink to this definition"></a><br /></dt>
<dd><p>Uptime when the event was sent. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.location_module_cloud_location">
<span class="target" id="structlocation__module__cloud__location"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">location_module_cloud_location</span></span></span><a class="headerlink" href="#c.location_module_cloud_location" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;location_module_event.h&gt;</em></div>
<p>Location module data for associated payload for event of LOCATION_MODULE_EVT_CLOUD_LOCATION_DATA_READY type. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_cloud_location.neighbor_cells_valid">
<span class="target" id="structlocation__module__cloud__location_1a021c73eabe64e060e592d79aacbbce47"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">neighbor_cells_valid</span></span></span><a class="headerlink" href="#c.location_module_cloud_location.neighbor_cells_valid" title="Permalink to this definition"></a><br /></dt>
<dd><p>Neighbor cell information is valid. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_cloud_location.neighbor_cells">
<span class="target" id="structlocation__module__cloud__location_1a39c71a4e4b2985aa4b25e9763f304752"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.location_module_neighbor_cells" title="location_module_neighbor_cells"><span class="n"><span class="pre">location_module_neighbor_cells</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">neighbor_cells</span></span></span><a class="headerlink" href="#c.location_module_cloud_location.neighbor_cells" title="Permalink to this definition"></a><br /></dt>
<dd><p>Neighbor cells. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_cloud_location.timestamp">
<span class="target" id="structlocation__module__cloud__location_1a46204193db003d240881bf88c9b4df46"></span><span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timestamp</span></span></span><a class="headerlink" href="#c.location_module_cloud_location.timestamp" title="Permalink to this definition"></a><br /></dt>
<dd><p>Uptime when the event was sent. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.location_module_data">
<span class="target" id="structlocation__module__data"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">location_module_data</span></span></span><a class="headerlink" href="#c.location_module_data" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;location_module_event.h&gt;</em></div>
<p>Location module data for associated payload for events of LOCATION_MODULE_EVT_TIMEOUT and LOCATION_MODULE_EVT_GNSS_DATA_READY types. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_data.pvt">
<span class="target" id="structlocation__module__data_1a1eca204d1ec3045cb1b65876a615d1fe"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.location_module_pvt" title="location_module_pvt"><span class="n"><span class="pre">location_module_pvt</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pvt</span></span></span><a class="headerlink" href="#c.location_module_data.pvt" title="Permalink to this definition"></a><br /></dt>
<dd><p>Location data in the form of a PVT structure. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_data.satellites_tracked">
<span class="target" id="structlocation__module__data_1a7233277e8e73bc3f5ca41b355b16c86d"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">satellites_tracked</span></span></span><a class="headerlink" href="#c.location_module_data.satellites_tracked" title="Permalink to this definition"></a><br /></dt>
<dd><p>Number of satellites tracked. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_data.search_time">
<span class="target" id="structlocation__module__data_1a6ead0074c2b9ab6102e4bdf240d38040"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">search_time</span></span></span><a class="headerlink" href="#c.location_module_data.search_time" title="Permalink to this definition"></a><br /></dt>
<dd><p>Time when the search was initiated until fix or timeout occurred. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_data.timestamp">
<span class="target" id="structlocation__module__data_1af9c4556ad6eb57f744f7664a0eba3e5a"></span><span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timestamp</span></span></span><a class="headerlink" href="#c.location_module_data.timestamp" title="Permalink to this definition"></a><br /></dt>
<dd><p>Uptime when location was sampled. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.location_module_event">
<span class="target" id="structlocation__module__event"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">location_module_event</span></span></span><a class="headerlink" href="#c.location_module_event" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;location_module_event.h&gt;</em></div>
<p>Location module event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_event.header">
<span class="target" id="structlocation__module__event_1a5a171d884fee66d3d48c401eacafb382"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">app_event_header</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">header</span></span></span><a class="headerlink" href="#c.location_module_event.header" title="Permalink to this definition"></a><br /></dt>
<dd><p>Location module application event header. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_event.type">
<span class="target" id="structlocation__module__event_1a1376e52f69c106501d99045f30b06054"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.location_module_event_type" title="location_module_event_type"><span class="n"><span class="pre">location_module_event_type</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><a class="headerlink" href="#c.location_module_event.type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Location module event type. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_event.location">
<span class="target" id="structlocation__module__event_1a637952fdebdc3921de0a37ace8190735"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.location_module_data" title="location_module_data"><span class="n"><span class="pre">location_module_data</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">location</span></span></span><a class="headerlink" href="#c.location_module_event.location" title="Permalink to this definition"></a><br /></dt>
<dd><p>Data for event LOCATION_MODULE_EVT_GNSS_DATA_READY. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_event.cloud_location">
<span class="target" id="structlocation__module__event_1a346dc20fbe72a9f8541b9ecd67bfb508"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.location_module_cloud_location" title="location_module_cloud_location"><span class="n"><span class="pre">location_module_cloud_location</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cloud_location</span></span></span><a class="headerlink" href="#c.location_module_event.cloud_location" title="Permalink to this definition"></a><br /></dt>
<dd><p>Data for event LOCATION_MODULE_EVT_CLOUD_LOCATION_DATA_READY. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_event.agps_request">
<span class="target" id="structlocation__module__event_1aecb2dfc3e3f1ed98118696e231cb3222"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">nrf_modem_gnss_agps_data_frame</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">agps_request</span></span></span><a class="headerlink" href="#c.location_module_event.agps_request" title="Permalink to this definition"></a><br /></dt>
<dd><p>Data for event LOCATION_MODULE_EVT_AGPS_NEEDED. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_event.err">
<span class="target" id="structlocation__module__event_1a496600318dd6c8daef855c298b5975e7"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">err</span></span></span><a class="headerlink" href="#c.location_module_event.err" title="Permalink to this definition"></a><br /></dt>
<dd><p>Cause of the error for event LOCATION_MODULE_EVT_ERROR_CODE. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.location_module_event.data">
<span class="target" id="structlocation__module__event_1aa97c3c7dc5c5e0b413ad8fd139837638"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><a class="reference internal" href="#c.location_module_event" title="location_module_event"><span class="n"><span class="pre">location_module_event</span></span></a><span class="p"><span class="pre">.</span></span><span class="n"><span class="pre">[anonymous]</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data</span></span></span><a class="headerlink" href="#c.location_module_event.data" title="Permalink to this definition"></a><br /></dt>
<dd><p>Data for different events. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modem_module.html" class="btn btn-neutral float-right" title="Modem module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="debug_module.html" class="btn btn-neutral" title="Debug module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>