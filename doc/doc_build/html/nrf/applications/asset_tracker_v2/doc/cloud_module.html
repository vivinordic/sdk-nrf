<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cloud module &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Cloud wrapper API" href="cloud_wrapper.html" />
    <link rel="prev" title="Data module" href="data_module.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../applications.html">Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../connectivity_bridge/README.html">Connectivity bridge</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../README.html">nRF9160: Asset Tracker v2</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="asset_tracker_v2_description.html">Application description</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_behavior.html">Application behavior and functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="firmware_architecture.html">Firmware architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="lwm2m_carrier_library.html">Using the carrier library</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_module.html">Application module</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_module.html">Data module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Cloud module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-options">Configuration options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-hierarchy">Module hierarchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-states">Module states</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-events">Module events</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-documentation">API documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cloud_wrapper.html">Cloud wrapper API</a></li>
<li class="toctree-l3"><a class="reference internal" href="debug_module.html">Debug module</a></li>
<li class="toctree-l3"><a class="reference internal" href="location_module.html">Location module</a></li>
<li class="toctree-l3"><a class="reference internal" href="modem_module.html">Modem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensor_module.html">Sensor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ui_module.html">User Interface module</a></li>
<li class="toctree-l3"><a class="reference internal" href="util_module.html">Utility module</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules_common.html">Modules common API</a></li>
<li class="toctree-l3"><a class="reference internal" href="unit_test.html">Unit tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../serial_lte_modem/README.html">nRF9160: Serial LTE modem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf_desktop/README.html">nRF Desktop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf5340_audio/README.html">nRF5340 Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../machine_learning/README.html">nRF Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matter_weather_station/README.html">Thingy:53: Matter weather station</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee_weather_station/README.html">Thingy:53: Zigbee weather station</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../applications.html">Applications</a></li>
          <li class="breadcrumb-item"><a href="../README.html">nRF9160: Asset Tracker v2</a></li>
      <li class="breadcrumb-item active">Cloud module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/applications/asset_tracker_v2/doc/cloud_module.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cloud-module">
<span id="asset-tracker-v2-cloud-module"></span><h1>Cloud module<a class="headerlink" href="#cloud-module" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#features" id="id8">Features</a></p>
<ul>
<li><p><a class="reference internal" href="#cloud-services" id="id9">Cloud services</a></p></li>
<li><p><a class="reference internal" href="#nrf-cloud-a-gps-and-p-gps" id="id10">nRF Cloud A-GPS and P-GPS</a></p></li>
<li><p><a class="reference internal" href="#fota" id="id11">FOTA</a></p></li>
<li><p><a class="reference internal" href="#connection-awareness" id="id12">Connection awareness</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration-options" id="id13">Configuration options</a></p>
<ul>
<li><p><a class="reference internal" href="#mandatory-configurations" id="id14">Mandatory configurations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#module-hierarchy" id="id15">Module hierarchy</a></p></li>
<li><p><a class="reference internal" href="#module-states" id="id16">Module states</a></p></li>
<li><p><a class="reference internal" href="#module-events" id="id17">Module events</a></p></li>
<li><p><a class="reference internal" href="#dependencies" id="id18">Dependencies</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id19">API documentation</a></p></li>
</ul>
</div>
<p>The cloud module establishes and maintains the connection to a supported cloud service.
It uses the <a class="reference internal" href="cloud_wrapper.html#api-cloud-wrapper"><span class="std std-ref">Cloud wrapper API</span></a> to integrate and handle the client libraries present in the nRF Connect SDK.</p>
<section id="features">
<h2><a class="toc-backref" href="#id8">Features</a><a class="headerlink" href="#features" title="Permalink to this heading"></a></h2>
<p>This section documents the various features implemented by the module.</p>
<section id="cloud-services">
<h3><a class="toc-backref" href="#id9">Cloud services</a><a class="headerlink" href="#cloud-services" title="Permalink to this heading"></a></h3>
<p>The cloud module supports communication with multiple cloud services, one service at the time.
The <a class="reference internal" href="#supported-cloud-services"><span class="std std-ref">Supported cloud services</span></a> table lists the cloud services supported by the module together with protocols and technologies used with them.
See <a class="reference internal" href="cloud_wrapper.html#api-cloud-wrapper"><span class="std std-ref">Cloud wrapper API</span></a> for more information on how each client library is integrated in the module.</p>
<table class="docutils align-default" id="supported-cloud-services">
<colgroup>
<col style="width: 73%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Cloud service</p></th>
<th class="head"><p>Protocols and technologies</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="6"><p><a class="reference external" href="https://aws.amazon.com/iot-core/">AWS IoT Core</a></p></td>
<td><p><a class="reference external" href="https://en.wikipedia.org/wiki/MQTT">MQTT</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.ietf.org/rfc/rfc5246.txt">TLS</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol">TCP</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf91/nrf91_features.html#nrf9160-fota"><span class="std std-ref">FOTA</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_agps.html#lib-nrf-cloud-agps"><span class="std std-ref">nRF Cloud A-GPS</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_pgps.html#lib-nrf-cloud-pgps"><span class="std std-ref">nRF Cloud P-GPS</span></a></p></td>
</tr>
<tr class="row-even"><td rowspan="6"><p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/">Azure IoT Hub</a></p></td>
<td><p><a class="reference external" href="https://en.wikipedia.org/wiki/MQTT">MQTT</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.ietf.org/rfc/rfc5246.txt">TLS</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol">TCP</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf91/nrf91_features.html#nrf9160-fota"><span class="std std-ref">FOTA</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_agps.html#lib-nrf-cloud-agps"><span class="std std-ref">nRF Cloud A-GPS</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_pgps.html#lib-nrf-cloud-pgps"><span class="std std-ref">nRF Cloud P-GPS</span></a></p></td>
</tr>
<tr class="row-even"><td rowspan="6"><p><a class="reference external" href="https://nrfcloud.com/">nRF Cloud</a></p></td>
<td><p><a class="reference external" href="https://en.wikipedia.org/wiki/MQTT">MQTT</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.ietf.org/rfc/rfc5246.txt">TLS</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol">TCP</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf91/nrf91_features.html#nrf9160-fota"><span class="std std-ref">FOTA</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_agps.html#lib-nrf-cloud-agps"><span class="std std-ref">nRF Cloud A-GPS</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_pgps.html#lib-nrf-cloud-pgps"><span class="std std-ref">nRF Cloud P-GPS</span></a></p></td>
</tr>
<tr class="row-even"><td rowspan="6"><p><a class="reference external" href="https://omaspecworks.org/what-is-oma-specworks/iot/lightweight-m2m-lwm2m/">LwM2M</a> v1.1 compliant service (<a class="reference external" href="https://www.avsystem.com/products/coiote-iot-device-management-platform/">Coiote Device Management</a>, <a class="reference external" href="https://www.eclipse.org/leshan/">Leshan homepage</a>)</p></td>
<td><p><a class="reference external" href="https://omaspecworks.org/what-is-oma-specworks/iot/lightweight-m2m-lwm2m/">LwM2M</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://en.wikipedia.org/wiki/Constrained_Application_Protocol">CoAP</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc6347">DTLS</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://en.wikipedia.org/wiki/User_Datagram_Protocol">UDP protocol</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf91/nrf91_features.html#nrf9160-fota"><span class="std std-ref">FOTA</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_agps.html#lib-nrf-cloud-agps"><span class="std std-ref">nRF Cloud A-GPS</span></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="nrf-cloud-a-gps-and-p-gps">
<span id="nrfcloud-agps-pgps"></span><h3><a class="toc-backref" href="#id10">nRF Cloud A-GPS and P-GPS</a><a class="headerlink" href="#nrf-cloud-a-gps-and-p-gps" title="Permalink to this heading"></a></h3>
<p>When the cloud module is configured to communicate with <a class="reference external" href="https://aws.amazon.com/iot-core/">AWS IoT Core</a>, <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/">Azure IoT Hub</a>, or an <a class="reference external" href="https://omaspecworks.org/what-is-oma-specworks/iot/lightweight-m2m-lwm2m/">LwM2M</a> server, it supports processing of received A-GPS and P-GPS data using the <a class="reference internal" href="../../../libraries/networking/nrf_cloud_agps.html#lib-nrf-cloud-agps"><span class="std std-ref">nRF Cloud A-GPS</span></a> and <a class="reference internal" href="../../../libraries/networking/nrf_cloud_pgps.html#lib-nrf-cloud-pgps"><span class="std std-ref">nRF Cloud P-GPS</span></a> libraries.
This enables the cloud service to fetch A-GPS and P-GPS data directly from <a class="reference external" href="https://nrfcloud.com/">nRF Cloud</a> using REST calls and relay this data to the nRF9160 SiP using the pre-established cloud connection.
By reusing the pre-established connection, the application saves overhead related to maintaining multiple connections at the same time.
When configuring the application to communicate with nRF Cloud, A-GPS and P-GPS data are received directly from the service, and not by proxy.
For more information, see <a class="reference external" href="https://docs.nrfcloud.com/LocationServices/LocationServicesOverview/">nRF Cloud Location Services</a>.</p>
</section>
<section id="fota">
<h3><a class="toc-backref" href="#id11">FOTA</a><a class="headerlink" href="#fota" title="Permalink to this heading"></a></h3>
<p>The client libraries supported by the cloud wrapper API all implement their own version of <a class="reference internal" href="../../../working_with_nrf/nrf91/nrf91_features.html#nrf9160-fota"><span class="std std-ref">FOTA</span></a>.
This enables the cloud to issue FOTA updates and update the application and modem firmware while the device is in field.
For additional documentation on the various FOTA implementations, refer to the respective client library documentation linked to in <a class="reference internal" href="cloud_wrapper.html#id1"><span class="std std-ref">Integration layers</span></a>.</p>
<p>Full modem FOTA updates are only supported by nRF Cloud.
This application implements full modem FOTA only for the nRF9160 development kit version 0.14.0 and higher.
To enable full modem FOTA, add the <code class="docutils literal notranslate"><span class="pre">-DOVERLAY_CONFIG=overlay-full_modem_fota.conf</span></code> parameter to your build command.</p>
<p>Also, specify your development kit version by appending it to the board name.
For example, if your development kit version is 1.0.1, use the board name <code class="docutils literal notranslate"><span class="pre">nrf9160dk_nrf9160_ns&#64;1_0_1</span></code> in your build command.</p>
</section>
<section id="connection-awareness">
<h3><a class="toc-backref" href="#id12">Connection awareness</a><a class="headerlink" href="#connection-awareness" title="Permalink to this heading"></a></h3>
<p>The cloud module implements connection awareness by maintaining an internal state that is based on
events from the modem module and callbacks from the <a class="reference internal" href="cloud_wrapper.html#api-cloud-wrapper"><span class="std std-ref">Cloud wrapper API</span></a>.</p>
<p>If the module is disconnected, it will try to reconnect while the LTE connection is still valid.
To adjust the number of reconnection attempts, set the <a class="reference internal" href="#config-cloud-connect-retries"><span class="std std-ref">CONFIG_CLOUD_CONNECT_RETRIES</span></a> option.
Reconnection is implemented with a binary backoff based on the following lookup table:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">cloud_backoff_delay_lookup</span><span class="w"> </span><span class="n">backoff_delay</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="p">{</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="p">},</span>
<span class="w">   </span><span class="p">{</span><span class="w"> </span><span class="mi">2048</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">4096</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">8192</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">16384</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">32768</span><span class="w"> </span><span class="p">},</span>
<span class="w">   </span><span class="p">{</span><span class="w"> </span><span class="mi">65536</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">131072</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">262144</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">524288</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1048576</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>If the module reaches the maximum number of reconnection attempts, the application receives an error event notification of type <a class="reference internal" href="#c.cloud_module_event_type.CLOUD_EVT_ERROR" title="CLOUD_EVT_ERROR"><code class="xref c c-enum docutils literal notranslate"><span class="pre">CLOUD_EVT_ERROR</span></code></a>, causing the application to perform a reboot.</p>
</section>
</section>
<section id="configuration-options">
<h2><a class="toc-backref" href="#id13">Configuration options</a><a class="headerlink" href="#configuration-options" title="Permalink to this heading"></a></h2>
<dl class="simple" id="config-cloud-thread-stack-size">
<dt>CONFIG_CLOUD_THREAD_STACK_SIZE - Cloud module thread stack size</dt><dd><p>This option increases the cloud module’s internal thread stack size.</p>
</dd>
</dl>
<dl class="simple" id="config-cloud-client-id-use-custom">
<dt>CONFIG_CLOUD_CLIENT_ID_USE_CUSTOM - Configuration for enabling the use of a custom cloud client ID</dt><dd><p>This option is used to enable the use of a custom client ID for connection to the respective cloud service.
By default, the cloud module uses the IMEI of the nRF9160-based device as the client ID.</p>
</dd>
</dl>
<dl id="config-cloud-client-id">
<dt>CONFIG_CLOUD_CLIENT_ID - Configuration for providing a custom cloud client ID</dt><dd><p>This option sets the custom client ID for the respective cloud service.</p>
<p>For setting a custom client ID, you need to set <a class="reference internal" href="#config-cloud-client-id-use-custom"><span class="std std-ref">CONFIG_CLOUD_CLIENT_ID_USE_CUSTOM</span></a> to <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="config-cloud-connect-retries">
<dt>CONFIG_CLOUD_CONNECT_RETRIES - Configuration that sets the number of cloud reconnection attempts</dt><dd><p>This option sets the number of times that a connection will be re-attempted upon a disconnect from the cloud service.</p>
</dd>
</dl>
<section id="mandatory-configurations">
<span id="mandatory-config"></span><h3><a class="toc-backref" href="#id14">Mandatory configurations</a><a class="headerlink" href="#mandatory-configurations" title="Permalink to this heading"></a></h3>
<p>To be able to use a supported cloud client library, you need to set a few mandatory Kconfig options.
These typically include the cloud service hostname and the security tag associated with the certificates used to establish a connection.
Before running the application, you need to provision the certificates to the modem using the same security tag.
For more information on how to set up a connection and provision certificates to the modem, see the documentation for the respective client library in <a class="reference internal" href="cloud_wrapper.html#id1"><span class="std std-ref">Integration layers</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are no mandatory configuration settings for the <a class="reference internal" href="../../../libraries/networking/nrf_cloud.html#lib-nrf-cloud"><span class="std std-ref">nRF Cloud</span></a> library.
The nRF9160 DK and Thingy91 come preprovisioned with certificates required to establish a connection to nRF Cloud.
The default configuration of the <a class="reference internal" href="../../../libraries/networking/nrf_cloud.html#lib-nrf-cloud"><span class="std std-ref">nRF Cloud</span></a> library uses the security tag that the nRF Cloud certificates are stored to.</p>
</div>
<section id="configurations-for-aws-iot-library">
<h4>Configurations for AWS IoT library<a class="headerlink" href="#configurations-for-aws-iot-library" title="Permalink to this heading"></a></h4>
<p>To enable communication with AWS IoT, set the following options in the <code class="file docutils literal notranslate"><span class="pre">overlay-aws.conf</span></code> file:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AWS_IOT_BROKER_HOST_NAME</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AWS_IOT_SEC_TAG</span></code></p></li>
</ul>
</section>
<section id="configurations-for-azure-iot-hub-library">
<h4>Configurations for Azure IoT Hub library<a class="headerlink" href="#configurations-for-azure-iot-hub-library" title="Permalink to this heading"></a></h4>
<p>To enable communication with Azure IoT Hub, set the following options in the <code class="file docutils literal notranslate"><span class="pre">overlay-azure.conf</span></code> file:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_ID_SCOPE</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEC_TAG</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_FOTA_SEC_TAG</span></code></p></li>
</ul>
<p>If not using the default DPS (Device Provisioning Service) host, ensure that the hostname option is correctly set using the following Kconfig option:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_HOSTNAME</span></code></p></li>
</ul>
</section>
<section id="configurations-for-lwm2m-integration-layer">
<span id="assettracker-v2-cloudmodule-lwm2m"></span><h4>Configurations for LwM2M integration layer<a class="headerlink" href="#configurations-for-lwm2m-integration-layer" title="Permalink to this heading"></a></h4>
<p>When building for LwM2M, the cloud module’s default configuration is to communicate with AVSystem’s <a class="reference external" href="https://www.avsystem.com/products/coiote-iot-device-management-platform/">Coiote Device Management</a>, with a runtime provisioned <a class="reference external" href="https://en.wikipedia.org/wiki/Pre-shared_key">Pre-shared key (PSK)</a> set by the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_INTEGRATION_PSK</span></code> option.
This enables the device to work with <a class="reference external" href="https://www.avsystem.com/products/coiote-iot-device-management-platform/">Coiote Device Management</a> without provisioning the PSK to the modem before running the application.
To allow the device to communicate with other LwM2M servers, modify the default configuration by changing the following Kconfig options:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_CLIENT_UTILS_SERVER</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_RD_CLIENT_SUPPORT_BOOTSTRAP</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_INTEGRATION_ENDPOINT_PREFIX</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_INTEGRATION_PSK</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_INTEGRATION_PROVISION_CREDENTIALS</span></code></p></li>
</ul>
<p>See <a class="reference internal" href="../../../samples/nrf9160/lwm2m_client/sample_description.html#server-setup-lwm2m-client"><span class="std std-ref">server setup</span></a> for information on how the <a class="reference external" href="https://eu.iot.avsystem.cloud/">Coiote Device Management server</a> can be configured to communicate with the application.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In production, it is not recommended to use the default PSK that is automatically provisioned by the application.
If possible, bootstrapping should be enabled to periodically change the PSK used in the connection.
The PSK should also be provisioned to the modem before running the application.
Disable the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_INTEGRATION_PROVISION_CREDENTIALS</span></code> option and provision the PSK to a sec tag set by <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_CLIENT_UTILS_SERVER_TLS_TAG</span></code> or <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LWM2M_CLIENT_UTILS_BOOTSTRAP_TLS_TAG</span></code>.</p>
</div>
<p>In addition to the steps documented in the aforementioned section, you must also enable manipulation of the application’s real-time configurations through the <a class="reference external" href="https://www.avsystem.com/products/coiote-iot-device-management-platform/">Coiote Device Management</a> console.
This is documented in <a class="reference internal" href="cloud_wrapper.html#object-xml-config"><span class="std std-ref">Uploading XML definition for configuration object</span></a>.</p>
</section>
</section>
</section>
<section id="module-hierarchy">
<h2><a class="toc-backref" href="#id15">Module hierarchy</a><a class="headerlink" href="#module-hierarchy" title="Permalink to this heading"></a></h2>
<p>The following diagram illustrates the relationship between the cloud module, integration layers, and the client libraries.</p>
<figure class="align-default" id="id7">
<img alt="Cloud module hierarchy" src="../../../_images/asset_tracker_v2_cloud_module_hierarchy.svg" /><figcaption>
<p><span class="caption-text">Cloud module hierarchy</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="module-states">
<h2><a class="toc-backref" href="#id16">Module states</a><a class="headerlink" href="#module-states" title="Permalink to this heading"></a></h2>
<p>The cloud module has an internal state machine with the following states:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">STATE_LTE_INIT</span></code> - The initial state of the module in which it awaits the modem to be initialized.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STATE_LTE_DISCONNECTED</span></code> - The module has performed all required initialization and waits for the modem to connect to LTE.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STATE_LTE_CONNECTED</span></code> - The modem is connected to LTE and the internal cloud connection routine starts. This state has two sub-states:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SUB_STATE_CLOUD_DISCONNECTED</span></code> - The cloud service is disconnected.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SUB_STATE_CLOUD_CONNECTED</span></code> - The cloud service is connected, data can now be sent.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">STATE_SHUTDOWN</span></code> - The module has been shut down after receiving a request to do so from the util module.</p></li>
</ul>
<p>State transitions take place based on events from other modules, such as the app module, data module, and util module.</p>
</section>
<section id="module-events">
<h2><a class="toc-backref" href="#id17">Module events</a><a class="headerlink" href="#module-events" title="Permalink to this heading"></a></h2>
<p>The <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/cloud_module_event.h</span></code> header file contains a list of various events sent by the module.</p>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id18">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h2>
<p>This module uses the following nRF Connect SDK libraries and drivers:</p>
<ul class="simple">
<li><p><a class="reference internal" href="cloud_wrapper.html#api-cloud-wrapper"><span class="std std-ref">Cloud wrapper API</span></a></p></li>
<li><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_agps.html#lib-nrf-cloud-agps"><span class="std std-ref">nRF Cloud A-GPS</span></a></p></li>
<li><p><a class="reference internal" href="../../../libraries/networking/nrf_cloud_pgps.html#lib-nrf-cloud-pgps"><span class="std std-ref">nRF Cloud P-GPS</span></a></p></li>
</ul>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id19">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/cloud_module_event.h</span></code></div>
<div class="line">Source files: <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/cloud_module_event.c</span></code>
<code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/modules/cloud_module.c</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__cloud__module__event"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">cloud_module_event</span></span></dt>
<dd><p>Cloud module event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.cloud_module_event_type">
<span class="target" id="group__cloud__module__event_1ga14be80b1af7ae873ef7bc34eba0036ec"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cloud_module_event_type</span></span></span><a class="headerlink" href="#c.cloud_module_event_type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Event types submitted by the cloud module. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_CONNECTED">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca30bd0a019f29f6dbba94f47e59d459d3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_CONNECTED</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_CONNECTED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Cloud service is connected. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_DISCONNECTED">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca7f4f61ab1c2141f8c4c5354d914c6473"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_DISCONNECTED</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_DISCONNECTED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Cloud service is disconnected. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_CONNECTING">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca327335bba4b9dd730ad17bf2a94eddf0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_CONNECTING</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_CONNECTING" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connecting to a cloud service. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_CONNECTION_TIMEOUT">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036ecae5cfd1c7b12f624f4e1f41dd80f28e33"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_CONNECTION_TIMEOUT</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_CONNECTION_TIMEOUT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connection has timed out. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_LTE_CONNECT">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca75acf5b670e84fdf9caf284e6ca040cd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_LTE_CONNECT</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_LTE_CONNECT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connect to LTE. This event is sent out when the modem should connect to LTE (put into normal mode) post provisioning of server credentials.</p>
<p>Only used when building for LwM2M. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_LTE_DISCONNECT">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca9d01848983e8d228a5c72c67303b9b92"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_LTE_DISCONNECT</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_LTE_DISCONNECT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disconnect from LTE. This event is sent out when the modem should be put into offline mode prior to provisioning of server credentials.</p>
<p>Only used when building for LwM2M. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_USER_ASSOCIATION_REQUEST">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca36cc0c9cf3efdd2171284134ab3f8e15"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_USER_ASSOCIATION_REQUEST</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_USER_ASSOCIATION_REQUEST" title="Permalink to this definition"></a><br /></dt>
<dd><p>User association request received from cloud. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_USER_ASSOCIATED">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca87954da925b612726108c1d72031c9c4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_USER_ASSOCIATED</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_USER_ASSOCIATED" title="Permalink to this definition"></a><br /></dt>
<dd><p>User association completed. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_REBOOT_REQUEST">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca7e7a2ccf995bb4c161b6794433eb7fe5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_REBOOT_REQUEST</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_REBOOT_REQUEST" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reboot requested from cloud. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_CONFIG_RECEIVED">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca54f9dd49554ae0855e4c291ba01b714a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_CONFIG_RECEIVED</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_CONFIG_RECEIVED" title="Permalink to this definition"></a><br /></dt>
<dd><p>A new device configuration has been received from cloud. The payload associated with this event is of type cloud_data_cfg (config). </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_CONFIG_EMPTY">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036ecaf9e55b562b4ffd20e490364a813fc929"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_CONFIG_EMPTY</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_CONFIG_EMPTY" title="Permalink to this definition"></a><br /></dt>
<dd><p>An empty device configuration has been received from cloud. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_FOTA_START">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036ecabae9672c0c9fafb18b9e1e61670487a7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_FOTA_START</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_FOTA_START" title="Permalink to this definition"></a><br /></dt>
<dd><p>A FOTA update has started. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_FOTA_DONE">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036ecab341959d608eb475f3b6799c40d8d84f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_FOTA_DONE</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_FOTA_DONE" title="Permalink to this definition"></a><br /></dt>
<dd><p>FOTA has been performed, a reboot of the application is needed. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_FOTA_ERROR">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036ecaee8e202a1797be01281c0096dbcfc555"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_FOTA_ERROR</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_FOTA_ERROR" title="Permalink to this definition"></a><br /></dt>
<dd><p>An error occurred during a FOTA update. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_DATA_SEND_QOS">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca700d88fc1f9428af9e5aac016e39c7a2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_DATA_SEND_QOS</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_DATA_SEND_QOS" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sending data to cloud using QoS library. The payload associated with this event is of type <a class="reference internal" href="../../../libraries/others/qos.html#structqos__data"><span class="std std-ref">qos_data</span></a> (message).</p>
<p>This event is only meant for the cloud module and is used to filter QoS data through the module’s internal message queue. This event is consumed by the cloud module as soon as it has been processed. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_SHUTDOWN_READY">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036ecae5467f17716324ebd1801a044ca06843"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_SHUTDOWN_READY</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_SHUTDOWN_READY" title="Permalink to this definition"></a><br /></dt>
<dd><p>The cloud module has performed all procedures to prepare for a shutdown of the system. The event carries the ID (id) of the module. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.cloud_module_event_type.CLOUD_EVT_ERROR">
<span class="target" id="group__cloud__module__event_1gga14be80b1af7ae873ef7bc34eba0036eca8d49eb658f77345c2b65ced6d58fed38"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CLOUD_EVT_ERROR</span></span></span><a class="headerlink" href="#c.cloud_module_event_type.CLOUD_EVT_ERROR" title="Permalink to this definition"></a><br /></dt>
<dd><p>An irrecoverable error has occurred in the cloud module. Error details are attached in the event structure. </p>
</dd></dl>

</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.cloud_module_data_ack">
<span class="target" id="structcloud__module__data__ack"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cloud_module_data_ack</span></span></span><a class="headerlink" href="#c.cloud_module_data_ack" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;cloud_module_event.h&gt;</em></div>
<p>Structure used to acknowledge messages sent to the cloud module. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_data_ack.ptr">
<span class="target" id="structcloud__module__data__ack_1aa91994196595778edb4794c092097ed5"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ptr</span></span></span><a class="headerlink" href="#c.cloud_module_data_ack.ptr" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to data that was attempted to be sent. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_data_ack.len">
<span class="target" id="structcloud__module__data__ack_1affc6554214ab4261358c79d5987f6548"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">len</span></span></span><a class="headerlink" href="#c.cloud_module_data_ack.len" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of data that was attempted to be sent. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.cloud_module_event">
<span class="target" id="structcloud__module__event"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cloud_module_event</span></span></span><a class="headerlink" href="#c.cloud_module_event" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;cloud_module_event.h&gt;</em></div>
<p>Cloud module event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_event.header">
<span class="target" id="structcloud__module__event_1a4b2305a5ae60f29b5cc1357f21f31cda"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">app_event_header</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">header</span></span></span><a class="headerlink" href="#c.cloud_module_event.header" title="Permalink to this definition"></a><br /></dt>
<dd><p>Cloud module application event header. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_event.type">
<span class="target" id="structcloud__module__event_1a9641751b516c29d85f1e6e80cbbe9993"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.cloud_module_event_type" title="cloud_module_event_type"><span class="n"><span class="pre">cloud_module_event_type</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><a class="headerlink" href="#c.cloud_module_event.type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Cloud module event type. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_event.config">
<span class="target" id="structcloud__module__event_1a4807494e431aa45a15bc4e33cc28386d"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">cloud_data_cfg</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">config</span></span></span><a class="headerlink" href="#c.cloud_module_event.config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Variable that contains a new configuration received from the cloud service. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_event.ack">
<span class="target" id="structcloud__module__event_1ae48f26d73cbf59071f57985483f09549"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.cloud_module_data_ack" title="cloud_module_data_ack"><span class="n"><span class="pre">cloud_module_data_ack</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ack</span></span></span><a class="headerlink" href="#c.cloud_module_event.ack" title="Permalink to this definition"></a><br /></dt>
<dd><p>Variable that contains data that was attempted to be sent. Could be used to free allocated data post transmission. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_event.message">
<span class="target" id="structcloud__module__event_1ab861891d20e836a0d7d62c212c1bb6c0"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../../../libraries/others/qos.html#c.qos_data" title="qos_data"><span class="n"><span class="pre">qos_data</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">message</span></span></span><a class="headerlink" href="#c.cloud_module_event.message" title="Permalink to this definition"></a><br /></dt>
<dd><p>Variable that contains the message that should be sent to cloud. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_event.id">
<span class="target" id="structcloud__module__event_1a7d349466967848baf01e5d97c96f4151"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">id</span></span></span><a class="headerlink" href="#c.cloud_module_event.id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Module ID, used when acknowledging shutdown requests. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.cloud_module_event.err">
<span class="target" id="structcloud__module__event_1ab3937f843a49a1cd49c2b380d89a0336"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">err</span></span></span><a class="headerlink" href="#c.cloud_module_event.err" title="Permalink to this definition"></a><br /></dt>
<dd><p>Code signifying the cause of error. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cloud_wrapper.html" class="btn btn-neutral float-right" title="Cloud wrapper API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data_module.html" class="btn btn-neutral" title="Data module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>