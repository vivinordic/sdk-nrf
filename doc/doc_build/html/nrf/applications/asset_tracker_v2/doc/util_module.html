<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Utility module &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Modules common API" href="modules_common.html" />
    <link rel="prev" title="User Interface module" href="ui_module.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../applications.html">Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../connectivity_bridge/README.html">Connectivity bridge</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../README.html">nRF9160: Asset Tracker v2</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="asset_tracker_v2_description.html">Application description</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_behavior.html">Application behavior and functionality</a></li>
<li class="toctree-l3"><a class="reference internal" href="firmware_architecture.html">Firmware architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="lwm2m_carrier_library.html">Using the carrier library</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_module.html">Application module</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_module.html">Data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud_module.html">Cloud module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud_wrapper.html">Cloud wrapper API</a></li>
<li class="toctree-l3"><a class="reference internal" href="debug_module.html">Debug module</a></li>
<li class="toctree-l3"><a class="reference internal" href="location_module.html">Location module</a></li>
<li class="toctree-l3"><a class="reference internal" href="modem_module.html">Modem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensor_module.html">Sensor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="ui_module.html">User Interface module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Utility module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-options">Configuration options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-states">Module states</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-events">Module events</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-documentation">API documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modules_common.html">Modules common API</a></li>
<li class="toctree-l3"><a class="reference internal" href="unit_test.html">Unit tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../serial_lte_modem/README.html">nRF9160: Serial LTE modem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf_desktop/README.html">nRF Desktop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf5340_audio/README.html">nRF5340 Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../machine_learning/README.html">nRF Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matter_weather_station/README.html">Thingy:53: Matter weather station</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee_weather_station/README.html">Thingy:53: Zigbee weather station</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../applications.html">Applications</a></li>
          <li class="breadcrumb-item"><a href="../README.html">nRF9160: Asset Tracker v2</a></li>
      <li class="breadcrumb-item active">Utility module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/applications/asset_tracker_v2/doc/util_module.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="utility-module">
<span id="asset-tracker-v2-util-module"></span><h1>Utility module<a class="headerlink" href="#utility-module" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#features" id="id7">Features</a></p>
<ul>
<li><p><a class="reference internal" href="#application-shutdown" id="id8">Application Shutdown</a></p></li>
<li><p><a class="reference internal" href="#watchdog" id="id9">Watchdog</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration-options" id="id10">Configuration options</a></p></li>
<li><p><a class="reference internal" href="#module-states" id="id11">Module states</a></p></li>
<li><p><a class="reference internal" href="#module-events" id="id12">Module events</a></p></li>
<li><p><a class="reference internal" href="#dependencies" id="id13">Dependencies</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id14">API documentation</a></p></li>
</ul>
</div>
<p>The utility module provides the functionality to administer and monitor mechanisms in the application architecture.</p>
<section id="features">
<h2><a class="toc-backref" href="#id7">Features</a><a class="headerlink" href="#features" title="Permalink to this heading"></a></h2>
<p>This section documents the various features implemented by the module.</p>
<section id="application-shutdown">
<h3><a class="toc-backref" href="#id8">Application Shutdown</a><a class="headerlink" href="#application-shutdown" title="Permalink to this heading"></a></h3>
<p>When an irrecoverable error or a successful FOTA update is reported to the utility module, it initiates a shutdown sequence and ensures a graceful shutdown of the application.</p>
<p>During initialization, each module registers if it supports graceful shutdown.
This is done by calling the <a class="reference internal" href="modules_common.html#c.module_start" title="module_start"><code class="xref c c-func docutils literal notranslate"><span class="pre">module_start()</span></code></a> function in the <a class="reference internal" href="modules_common.html#api-modules-common"><span class="std std-ref">Modules common API</span></a> and passing a configuration value in the <a class="reference internal" href="modules_common.html#c.module_data" title="module_data"><code class="xref c c-struct docutils literal notranslate"><span class="pre">module_data</span></code></a> structure for each module that registers for graceful shutdown.
This then expands an internal list in the <a class="reference internal" href="modules_common.html#api-modules-common"><span class="std std-ref">Modules common API</span></a>.</p>
<p>The typical chain of events that completes the shutdown sequence is as follows:</p>
<ol class="arabic simple">
<li><p>A module detects an irrecoverable error and sends an event carrying the associated error code. This event name is typically the module name suffixed with <code class="docutils literal notranslate"><span class="pre">EVT_ERROR</span></code>. For example, <a class="reference internal" href="cloud_module.html#c.cloud_module_event_type.CLOUD_EVT_ERROR" title="CLOUD_EVT_ERROR"><code class="xref c c-enum docutils literal notranslate"><span class="pre">CLOUD_EVT_ERROR</span></code></a>.</p></li>
<li><p>The utility module receives the error event and starts a reboot timer that times out after the duration specified by the <a class="reference internal" href="#config-reboot-timeout"><span class="std std-ref">CONFIG_REBOOT_TIMEOUT</span></a> option. When this timer expires, the application reboots in any case.</p></li>
<li><p>The utility module sends out a shutdown request, <a class="reference internal" href="#c.util_module_event_type.UTIL_EVT_SHUTDOWN_REQUEST" title="UTIL_EVT_SHUTDOWN_REQUEST"><code class="xref c c-enum docutils literal notranslate"><span class="pre">UTIL_EVT_SHUTDOWN_REQUEST</span></code></a>, that is handled individually by each module in the system that supports shutdown.</p></li>
<li><p>When each module has handled the shutdown request, it acknowledges the shutdown by sending an event suffixed with <code class="docutils literal notranslate"><span class="pre">EVT_SHUTDOWN_READY</span></code>. For example, <a class="reference internal" href="cloud_module.html#c.cloud_module_event_type.CLOUD_EVT_SHUTDOWN_READY" title="CLOUD_EVT_SHUTDOWN_READY"><code class="xref c c-enum docutils literal notranslate"><span class="pre">CLOUD_EVT_SHUTDOWN_READY</span></code></a>.</p></li>
<li><p>When the utility module receives a shutdown acknowledgment, for each incoming shutdown acknowledgment, the aforementioned list in the <a class="reference internal" href="modules_common.html#api-modules-common"><span class="std std-ref">Modules common API</span></a> is checked using <a class="reference internal" href="modules_common.html#c.modules_shutdown_register" title="modules_shutdown_register"><code class="xref c c-func docutils literal notranslate"><span class="pre">modules_shutdown_register()</span></code></a>. When all the modules in the list have acknowledged the request, the utility module reboots the application at a much earlier point than the time set initially by the reboot timer.</p></li>
</ol>
</section>
<section id="watchdog">
<h3><a class="toc-backref" href="#id9">Watchdog</a><a class="headerlink" href="#watchdog" title="Permalink to this heading"></a></h3>
<p>The module implements a watchdog library that monitors the system workqueue using the <span class="xref std std-ref">Zephyr Watchdog driver</span>.
To configure the watchdog timeout that is used, set the <a class="reference internal" href="#config-watchdog-application-timeout-sec"><span class="std std-ref">CONFIG_WATCHDOG_APPLICATION_TIMEOUT_SEC</span></a> Kconfig option.
The header file of the library is located at <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/watchdog/watchdog_app.h</span></code>.</p>
<p>If the watchdog is not fed within the timeout indicated by <a class="reference internal" href="#config-watchdog-application-timeout-sec"><span class="std std-ref">CONFIG_WATCHDOG_APPLICATION_TIMEOUT_SEC</span></a>, a watchdog timeout occurs, causing a reboot that is initiated by the watchdog peripheral hardware unit on the nRF9160 DK.
The watchdog library is set up to feed the <span class="xref std std-ref">Zephyr Watchdog driver</span> with the system workqueue constantly at a time interval that equals half of the value specified by <a class="reference internal" href="#config-watchdog-application-timeout-sec"><span class="std std-ref">CONFIG_WATCHDOG_APPLICATION_TIMEOUT_SEC</span></a>.
This means that if the watchdog timeout is set to 60 seconds, the system workqueue feeds the watchdog every 30 seconds.
A reboot caused by a watchdog timeout occurs if the system workqueue is blocked and it is unable to feed the watchdog.</p>
</section>
</section>
<section id="configuration-options">
<h2><a class="toc-backref" href="#id10">Configuration options</a><a class="headerlink" href="#configuration-options" title="Permalink to this heading"></a></h2>
<p>You can set the following options to configure the utility module:</p>
<dl class="simple" id="config-reboot-timeout">
<dt>CONFIG_REBOOT_TIMEOUT - Utility module reboot timeout</dt><dd><p>This option specifies the timeout within which the utility module initiates a reboot, after an irrecoverable error has been reported to the module.
However, if all modules acknowledge the utility module’s shutdown request before this timeout expires, the reboot occurs earlier.</p>
</dd>
</dl>
<dl class="simple" id="config-watchdog-application">
<dt>CONFIG_WATCHDOG_APPLICATION - Enable the application watchdog</dt><dd><p>This option enables the application watchdog timer.</p>
</dd>
</dl>
<dl class="simple" id="config-watchdog-application-timeout-sec">
<dt>CONFIG_WATCHDOG_APPLICATION_TIMEOUT_SEC - Application watchdog timeout</dt><dd><p>This option specifies the watchdog timeout.</p>
</dd>
</dl>
</section>
<section id="module-states">
<h2><a class="toc-backref" href="#id11">Module states</a><a class="headerlink" href="#module-states" title="Permalink to this heading"></a></h2>
<p>This module has no internal states.</p>
</section>
<section id="module-events">
<h2><a class="toc-backref" href="#id12">Module events</a><a class="headerlink" href="#module-events" title="Permalink to this heading"></a></h2>
<p>The <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/util_module_event.h</span></code> header file contains a list of various events sent by the module.</p>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id13">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h2>
<p>This module uses the following nRF Connect SDK libraries and drivers:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../libraries/others/app_event_manager.html#app-event-manager"><span class="std std-ref">Application Event Manager</span></a></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/watchdog/watchdog_app.h</span></code></p></li>
</ul>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id14">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/util_module_event.h</span></code></div>
<div class="line">Source files: <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/events/util_module_event.c</span></code>, <code class="file docutils literal notranslate"><span class="pre">asset_tracker_v2/src/modules/util_module.c</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__util__module__event"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">util_module_event</span></span></dt>
<dd><p>Util module event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.util_module_event_type">
<span class="target" id="group__util__module__event_1ga5256775ef72e91c285cceb370436b3e6"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">util_module_event_type</span></span></span><a class="headerlink" href="#c.util_module_event_type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Event types submitted by the utility module. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.util_module_event_type.UTIL_EVT_SHUTDOWN_REQUEST">
<span class="target" id="group__util__module__event_1gga5256775ef72e91c285cceb370436b3e6a89bd7a0769cd00a5574e359bfaa57772"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">UTIL_EVT_SHUTDOWN_REQUEST</span></span></span><a class="headerlink" href="#c.util_module_event_type.UTIL_EVT_SHUTDOWN_REQUEST" title="Permalink to this definition"></a><br /></dt>
<dd><p>Shutdown request sent to all modules in the system upon an irrecoverable error or finished FOTA update. It is expected that each module performs the necessary shutdown routines and reports back upon this event. </p>
</dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.shutdown_reason">
<span class="target" id="group__util__module__event_1ga955deab111539ac798be4bdbf61bc297"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shutdown_reason</span></span></span><a class="headerlink" href="#c.shutdown_reason" title="Permalink to this definition"></a><br /></dt>
<dd><p>Shutdown reason included in shutdown requests from the utility module. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shutdown_reason.REASON_GENERIC">
<span class="target" id="group__util__module__event_1gga955deab111539ac798be4bdbf61bc297a1e4856d82f4166adf446c62da74696bd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">REASON_GENERIC</span></span></span><a class="headerlink" href="#c.shutdown_reason.REASON_GENERIC" title="Permalink to this definition"></a><br /></dt>
<dd><p>Generic reason, typically an irrecoverable error. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.shutdown_reason.REASON_FOTA_UPDATE">
<span class="target" id="group__util__module__event_1gga955deab111539ac798be4bdbf61bc297a2ca11a0b66f06d33dad738cd8d883b4c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">REASON_FOTA_UPDATE</span></span></span><a class="headerlink" href="#c.shutdown_reason.REASON_FOTA_UPDATE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The application shuts down because a FOTA update finished. </p>
</dd></dl>

</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.util_module_event">
<span class="target" id="structutil__module__event"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">util_module_event</span></span></span><a class="headerlink" href="#c.util_module_event" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;util_module_event.h&gt;</em></div>
<p>Utility module event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.util_module_event.header">
<span class="target" id="structutil__module__event_1a519a33f8ded4c611e552fcd66a581192"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">app_event_header</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">header</span></span></span><a class="headerlink" href="#c.util_module_event.header" title="Permalink to this definition"></a><br /></dt>
<dd><p>Utility module application event header. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.util_module_event.type">
<span class="target" id="structutil__module__event_1aa7bf225a35f5d86eb7e9c22b36948eb9"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.util_module_event_type" title="util_module_event_type"><span class="n"><span class="pre">util_module_event_type</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><a class="headerlink" href="#c.util_module_event.type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Utility module event type. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.util_module_event.reason">
<span class="target" id="structutil__module__event_1ae2a76a906d6e5d46a8f12b6b5e196961"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.shutdown_reason" title="shutdown_reason"><span class="n"><span class="pre">shutdown_reason</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reason</span></span></span><a class="headerlink" href="#c.util_module_event.reason" title="Permalink to this definition"></a><br /></dt>
<dd><p>Variable that contains the reason for the shutdown request. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules_common.html" class="btn btn-neutral float-right" title="Modules common API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ui_module.html" class="btn btn-neutral" title="User Interface module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>