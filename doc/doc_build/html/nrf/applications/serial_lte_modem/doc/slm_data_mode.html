<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Running in data mode &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="SLM-specific AT commands" href="AT_commands_intro.html" />
    <link rel="prev" title="Extending the application" href="slm_extending.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../applications.html">Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../connectivity_bridge/README.html">Connectivity bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../asset_tracker_v2/README.html">nRF9160: Asset Tracker v2</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../README.html">nRF9160: Serial LTE modem</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="slm_description.html">Application description</a></li>
<li class="toctree-l3"><a class="reference internal" href="slm_testing.html">Testing scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="slm_extending.html">Extending the application</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Running in data mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-options">Configuration options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-mode-at-commands">Data mode AT commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="AT_commands_intro.html">SLM-specific AT commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf_desktop/README.html">nRF Desktop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf5340_audio/README.html">nRF5340 Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../machine_learning/README.html">nRF Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matter_weather_station/README.html">Thingy:53: Matter weather station</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee_weather_station/README.html">Thingy:53: Zigbee weather station</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../applications.html">Applications</a></li>
          <li class="breadcrumb-item"><a href="../README.html">nRF9160: Serial LTE modem</a></li>
      <li class="breadcrumb-item active">Running in data mode</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/applications/serial_lte_modem/doc/slm_data_mode.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="running-in-data-mode">
<span id="slm-data-mode"></span><h1>Running in data mode<a class="headerlink" href="#running-in-data-mode" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id9">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#entering-data-mode" id="id10">Entering data mode</a></p></li>
<li><p><a class="reference internal" href="#sending-data-in-data-mode" id="id11">Sending data in data mode</a></p></li>
<li><p><a class="reference internal" href="#exiting-data-mode" id="id12">Exiting data mode</a></p></li>
<li><p><a class="reference internal" href="#triggering-the-transmission" id="id13">Triggering the transmission</a></p></li>
<li><p><a class="reference internal" href="#flow-control-in-data-mode" id="id14">Flow control in data mode</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration-options" id="id15">Configuration options</a></p></li>
<li><p><a class="reference internal" href="#data-mode-at-commands" id="id16">Data mode AT commands</a></p>
<ul>
<li><p><a class="reference internal" href="#data-mode-control-xdatactrl" id="id17">Data mode control #XDATACTRL</a></p></li>
<li><p><a class="reference internal" href="#exit-data-mode-xdatamode" id="id18">Exit data mode #XDATAMODE</a></p></li>
</ul>
</li>
</ul>
</div>
<p>The Serial LTE Modem (SLM) application can run in the two operation modes defined by the AT command set: AT-command mode and data mode.</p>
<p>When running in data mode, the application does the following:</p>
<ul class="simple">
<li><p>It considers all the data received from the MCU over the UART bus as arbitrary data to be streamed through the LTE network by various service modules.</p></li>
<li><p>It considers all the data streamed from a remote service as arbitrary data to be sent to the MCU over the UART bus.</p></li>
</ul>
<section id="overview">
<h2><a class="toc-backref" href="#id9">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>You can manually switch between AT-command mode and data mode.
However, the SLM data mode is applied automatically while using the following modules:</p>
<ul class="simple">
<li><p>Socket <code class="docutils literal notranslate"><span class="pre">send()</span></code> and <code class="docutils literal notranslate"><span class="pre">sendto()</span></code></p></li>
<li><p>TCP/TLS proxy send</p></li>
<li><p>UDP/DTLS proxy send</p></li>
<li><p>FTP put, uput and mput</p></li>
<li><p>MQTT publish</p></li>
<li><p>HTTP request</p></li>
<li><p>GNSS nRF Cloud send message</p></li>
<li><p>LwM2M carrier library app data send</p></li>
</ul>
<section id="entering-data-mode">
<h3><a class="toc-backref" href="#id10">Entering data mode</a><a class="headerlink" href="#entering-data-mode" title="Permalink to this heading"></a></h3>
<p>The SLM application enters data mode when an AT command to send data out does not carry the payload.
See the following examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XSEND</span></code> makes SLM enter data mode to receive arbitrary data to transmit.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XSEND=&quot;data&quot;</span></code> makes SLM transmit data in normal AT Command mode.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the data contains either  <code class="docutils literal notranslate"><span class="pre">,</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> as characters, it can only be sent in data mode.
A typical use case is to send JSON messages.</p>
</div>
<p>Other examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XTCPSEND</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XUDPSEND</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XFTP=&quot;put&quot;,&lt;file&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XFTP=&quot;uput&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XFTP=&quot;mput&quot;,&lt;file&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XMQTTPUB=&lt;topic&gt;,&quot;&quot;,&lt;qos&gt;,&lt;retain&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XNRFCLOUD=2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AT#XCARRIER=&quot;app_data&quot;</span></code></p></li>
</ul>
<p>The SLM application sends an <em>OK</em> response when it successfully enters data mode.</p>
</section>
<section id="sending-data-in-data-mode">
<h3><a class="toc-backref" href="#id11">Sending data in data mode</a><a class="headerlink" href="#sending-data-in-data-mode" title="Permalink to this heading"></a></h3>
<p>Any arbitrary data received from the MCU is sent to LTE network <em>as-is</em>.</p>
<p>If the current sending function succeeds and <a class="reference internal" href="#config-slm-datamode-urc"><span class="std std-ref">CONFIG_SLM_DATAMODE_URC</span></a> is defined, the SLM application reports back the total size as <code class="docutils literal notranslate"><span class="pre">#XDATAMODE:</span> <span class="pre">&lt;size&gt;</span></code>.
The <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code> value is a positive integer.
This Unsolicited Result Code (URC) can also be used to impose flow control on uplink sending.</p>
</section>
<section id="exiting-data-mode">
<h3><a class="toc-backref" href="#id12">Exiting data mode</a><a class="headerlink" href="#exiting-data-mode" title="Permalink to this heading"></a></h3>
<p>To exit data mode, the MCU sends the termination command set by the <a class="reference internal" href="#config-slm-datamode-terminator"><span class="std std-ref">CONFIG_SLM_DATAMODE_TERMINATOR</span></a> configuration option over UART.</p>
<p>The pattern string could be sent alone or as an affix to the data.
The pattern string must be sent in full.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some terminal software, like LTE Link Monitor, always appends an AT command terminator (for example <code class="docutils literal notranslate"><span class="pre">&lt;CR&gt;&lt;LF&gt;</span></code>) to uplink data.
This makes it unsuitable for data mode as exiting data mode can’t work.</p>
</div>
<p>If the current sending function fails, the SLM application exits data mode and returns the error code as <code class="docutils literal notranslate"><span class="pre">#XDATAMODE:</span> <span class="pre">&lt;error&gt;</span></code>.
The <code class="docutils literal notranslate"><span class="pre">&lt;error&gt;</span></code> value is a negative integer.</p>
<p>The SLM application also exits data mode automatically in the following scenarios:</p>
<ul class="simple">
<li><p>The TCP server is stopped.</p></li>
<li><p>The remote server disconnects the TCP client.</p></li>
<li><p>The TCP client disconnects from the remote server due to an error.</p></li>
<li><p>The UDP client disconnects from the remote server due to an error.</p></li>
</ul>
<p>When exiting data mode, the SLM application sends <code class="docutils literal notranslate"><span class="pre">#XDATAMODE:</span> <span class="pre">0</span></code> as an unsolicited notification.</p>
<p>After exiting data mode, the SLM application returns to the AT command mode.</p>
</section>
<section id="triggering-the-transmission">
<h3><a class="toc-backref" href="#id13">Triggering the transmission</a><a class="headerlink" href="#triggering-the-transmission" title="Permalink to this heading"></a></h3>
<p>The SLM application buffers all the arbitrary data received from the UART bus before initiating the transmission.</p>
<p>The transmission of the buffered data to the LTE network is triggered by the time limit when the defined inactivity timer times out.
If there is no time limit configured, the minimum required value applies.
For more information, see the <a class="reference internal" href="#data-mode-control-xdatactrl">Data mode control #XDATACTRL</a>  command.</p>
</section>
<section id="flow-control-in-data-mode">
<h3><a class="toc-backref" href="#id14">Flow control in data mode</a><a class="headerlink" href="#flow-control-in-data-mode" title="Permalink to this heading"></a></h3>
<p>When SLM fills its receiving buffer, the MCU must impose flow control to the SLM over the UART interface to avoid any buffer overflow.
Otherwise, if SLM imposes flow control, it disables the UART reception when it runs out of space in the buffer, potentially leading to data loss.</p>
<p>SLM reenables UART receptions after the transmission of the data previously received has freed up buffer space.
The buffer size is set to 3884 bytes by default.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is no unsolicited notification defined for this event.
UART hardware flow control is responsible for imposing and revoking flow control.</p>
</div>
</section>
</section>
<section id="configuration-options">
<h2><a class="toc-backref" href="#id15">Configuration options</a><a class="headerlink" href="#configuration-options" title="Permalink to this heading"></a></h2>
<p>Check and configure the following configuration options for data mode:</p>
<dl class="simple" id="config-slm-datamode-terminator">
<dt>CONFIG_SLM_DATAMODE_TERMINATOR - Pattern string to terminate data mode</dt><dd><p>This option specifies a pattern string to terminate data mode.
The default pattern string is <code class="docutils literal notranslate"><span class="pre">+++</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="config-slm-datamode-urc">
<dt>CONFIG_SLM_DATAMODE_URC - Send URC in data mode</dt><dd><p>This option reports the result of the previous data-sending operation while the SLM application remains in data mode.
The MCU could use this URC for application-level uplink flow control.
It is not selected by default.</p>
</dd>
</dl>
</section>
<section id="data-mode-at-commands">
<h2><a class="toc-backref" href="#id16">Data mode AT commands</a><a class="headerlink" href="#data-mode-at-commands" title="Permalink to this heading"></a></h2>
<p>The following commands list contains data-mode related AT commands.</p>
<section id="data-mode-control-xdatactrl">
<h3><a class="toc-backref" href="#id17">Data mode control #XDATACTRL</a><a class="headerlink" href="#data-mode-control-xdatactrl" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">#XDATACTRL</span></code> command allows you to configure the time limit used to trigger data transmissions.
It can be applied only after entering data mode.</p>
<p>When the time limit is configured, small-size packets will be sent only after the timeout.</p>
<section id="set-command">
<h4>Set command<a class="headerlink" href="#set-command" title="Permalink to this heading"></a></h4>
<p>The set command allows you to configure the time limit for the data mode.</p>
<section id="syntax">
<h5>Syntax<a class="headerlink" href="#syntax" title="Permalink to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#XDATACTRL=&lt;time_limit&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">&lt;time_limit&gt;</span></code> parameter sets the timeout value in milliseconds.
The default value is the minimum required value, based on the configured UART baud rate.
This value must be long enough to allow for the transmission of one DMA block size of data (hardcoded to 256 bytes).</p></li>
</ul>
</section>
</section>
<section id="read-command">
<h4>Read command<a class="headerlink" href="#read-command" title="Permalink to this heading"></a></h4>
<p>The read command allows you to check the current time limit configuration and the minimum value required, based on the configured UART baud rate.</p>
<section id="id1">
<h5>Syntax<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#XDATACTRL?</span>
</pre></div>
</div>
</section>
<section id="response-syntax">
<h5>Response syntax<a class="headerlink" href="#response-syntax" title="Permalink to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#XDATACTRL: &lt;current_time_limit&gt;,&lt;minimal_time_limit&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="test-command">
<h4>Test command<a class="headerlink" href="#test-command" title="Permalink to this heading"></a></h4>
<p>The test command tests the existence of the command and provides information about the type of its subparameters.</p>
<section id="id2">
<h5>Syntax<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#XDATACTRL=?</span>
</pre></div>
</div>
</section>
<section id="id3">
<h5>Response syntax<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#XDATACTRL=&lt;time_limit&gt;</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="exit-data-mode-xdatamode">
<h3><a class="toc-backref" href="#id18">Exit data mode #XDATAMODE</a><a class="headerlink" href="#exit-data-mode-xdatamode" title="Permalink to this heading"></a></h3>
<p>When the application exits data mode, it sends the <code class="docutils literal notranslate"><span class="pre">#XDATAMODE</span></code> unsolicited notification.</p>
<section id="unsolicited-notification">
<h4>Unsolicited notification<a class="headerlink" href="#unsolicited-notification" title="Permalink to this heading"></a></h4>
<p>The application sends the following unsolicited notification when it exits data mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#XDATAMODE: &lt;size&gt;</span>
<span class="c1">#XDATAMODE: &lt;error&gt;</span>
<span class="c1">#XDATAMODE: 0</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code> value returns a positive integer indicating the total size of the sending operation in data mode.
The <code class="docutils literal notranslate"><span class="pre">&lt;error&gt;</span></code> value returns a negative integer indicating the error code of the sending operation in data mode.
The <code class="docutils literal notranslate"><span class="pre">0</span></code> value indicates that the SLM application quit data mode and returned to AT command mode.</p>
<section id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="c1">#XSEND</span>
<span class="n">OK</span>
<span class="n">Test</span> <span class="n">TCP</span> <span class="n">datamode</span>
<span class="c1">#XDATAMODE: 15</span>
<span class="o">+++</span>
<span class="c1">#XDATAMODE: 0</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="AT_commands_intro.html" class="btn btn-neutral float-right" title="SLM-specific AT commands" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="slm_extending.html" class="btn btn-neutral" title="Extending the application" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>