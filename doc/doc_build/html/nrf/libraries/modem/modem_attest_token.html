<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modem attestation token &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../_static/js/ncs.js"
></script>
<script src="../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Modem information" href="modem_info.html" />
    <link rel="prev" title="Modem antenna" href="modem_antenna.html" />
<link
  href="../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers.html">Drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bin/index.html">Binary libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth_services/index.html">Bluetooth libraries and services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bootloader/index.html">Bootloader libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caf/index.html">Common Application Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug/index.html">Debug libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dfu/index.html">DFU libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gazell/index.html">Gazell libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Modem libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="at_cmd_parser.html">AT command parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="at_custom_cmd.html">Custom AT commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="at_host.html">AT Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="at_monitor.html">AT monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="at_params.html">AT parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="at_shell.html">AT shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="gcf_sms_lib.html">GCF SMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="location.html">Location</a></li>
<li class="toctree-l3"><a class="reference internal" href="lte_lc.html">LTE link controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="modem_antenna.html">Modem antenna</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Modem attestation token</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-documentation">API documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="modem_info.html">Modem information</a></li>
<li class="toctree-l3"><a class="reference internal" href="modem_jwt.html">Modem JWT</a></li>
<li class="toctree-l3"><a class="reference internal" href="modem_key_mgmt.html">Modem key management</a></li>
<li class="toctree-l3"><a class="reference internal" href="modem_slm.html">Modem SLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_modem_lib.html">Modem library integration layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="pdn.html">PDN</a></li>
<li class="toctree-l3"><a class="reference internal" href="sms.html">SMS subscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="zzhc.html">China Telecom ZZHC library</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mpsl/index.html">Multiprotocol Service Layer libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Libraries for networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nfc/index.html">Libraries for NFC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nrf_rpc/index.html">nRF RPC libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/index.html">Other libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tfm/index.html">TF-M libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zigbee/index.html">Libraries for Zigbee</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Libraries</a></li>
          <li class="breadcrumb-item"><a href="index.html">Modem libraries</a></li>
      <li class="breadcrumb-item active">Modem attestation token</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/libraries/modem/modem_attest_token.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="modem-attestation-token">
<span id="lib-modem-attest-token"></span><h1>Modem attestation token<a class="headerlink" href="#modem-attestation-token" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#configuration" id="id7">Configuration</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id8">API documentation</a></p></li>
</ul>
</div>
<p>The Modem attestation token library is used to obtain an attestation token from an nRF9160-based device.</p>
<p>Attestation tokens are used to verify the authenticity of the device.
An attestation token includes the device’s internal UUID and the UUID of the modem firmware that is installed in the device.
An attestation token consists of two base64url strings.
The format is <code class="docutils literal notranslate"><span class="pre">base64url1.base64url2</span></code>.
The first base64url string (<code class="docutils literal notranslate"><span class="pre">base64url1</span></code>) is the Device Identity Attestation message, which is a CBOR encoded payload containing the device UUID, device type, and modem firmware UUID.
The second base64url string (<code class="docutils literal notranslate"><span class="pre">base64url2</span></code>) is the <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc8152">CBOR Object Signing and Encryption (COSE)</a> authentication metadata.</p>
<p>To use the library to obtain the attestation token, complete the following steps:</p>
<ul class="simple">
<li><p>Enable the Modem attestation token library.</p></li>
<li><p>Initialize the <a class="reference internal" href="nrf_modem_lib.html#nrf-modem-lib-readme"><span class="std std-ref">Modem library integration layer</span></a> and <a class="reference internal" href="at_cmd_parser.html#at-cmd-parser-readme"><span class="std std-ref">AT command parser</span></a> libraries.</p></li>
<li><p>Call the <a class="reference internal" href="#c.modem_attest_token_get" title="modem_attest_token_get"><code class="xref c c-func docutils literal notranslate"><span class="pre">modem_attest_token_get()</span></code></a> function to obtain the two base64url strings in the <a class="reference internal" href="#c.nrf_attestation_token" title="nrf_attestation_token"><code class="xref c c-struct docutils literal notranslate"><span class="pre">nrf_attestation_token</span></code></a> structure.</p></li>
<li><p>Enable token parsing (<code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MODEM_ATTEST_TOKEN_PARSING</span></code>).</p></li>
<li><p>Call the <a class="reference internal" href="#c.modem_attest_token_parse" title="modem_attest_token_parse"><code class="xref c c-func docutils literal notranslate"><span class="pre">modem_attest_token_parse()</span></code></a> function to parse the token.</p></li>
</ul>
<p>The function <a class="reference internal" href="#c.modem_attest_token_parse" title="modem_attest_token_parse"><code class="xref c c-func docutils literal notranslate"><span class="pre">modem_attest_token_parse()</span></code></a> parses <a class="reference internal" href="#c.nrf_attestation_token" title="nrf_attestation_token"><code class="xref c c-struct docutils literal notranslate"><span class="pre">nrf_attestation_token</span></code></a> and populates the <a class="reference internal" href="#c.nrf_attestation_data" title="nrf_attestation_data"><code class="xref c c-struct docutils literal notranslate"><span class="pre">nrf_attestation_data</span></code></a> structure with the data.
To obtain only the device UUID string or the modem firmware UUID string or both, you must call <a class="reference internal" href="#c.modem_attest_token_get_uuids" title="modem_attest_token_get_uuids"><code class="xref c c-func docutils literal notranslate"><span class="pre">modem_attest_token_get_uuids()</span></code></a>.</p>
<section id="configuration">
<h2><a class="toc-backref" href="#id7">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>Configure the following options when using this library:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MODEM_ATTEST_TOKEN</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MODEM_ATTEST_TOKEN_PARSING</span></code></p></li>
</ul>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id8">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">include/modem/modem_attest_token.h</span></code></div>
<div class="line">Source file: <code class="file docutils literal notranslate"><span class="pre">lib/modem/modem_attest_token.c</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__modem__attest__token"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">modem_attest_token</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.NRF_UUID_BYTE_SZ">
<span class="target" id="group__modem__attest__token_1gaf1d4195c63dbc78cd529aadd9e7d82ae"></span><span class="sig-name descname"><span class="n"><span class="pre">NRF_UUID_BYTE_SZ</span></span></span><a class="headerlink" href="#c.NRF_UUID_BYTE_SZ" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NRF_DEVICE_UUID_SZ">
<span class="target" id="group__modem__attest__token_1ga0eedca5b6db979140bc8165902f7963b"></span><span class="sig-name descname"><span class="n"><span class="pre">NRF_DEVICE_UUID_SZ</span></span></span><a class="headerlink" href="#c.NRF_DEVICE_UUID_SZ" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NRF_MODEM_FW_UUID_SZ">
<span class="target" id="group__modem__attest__token_1ga23153cc9b15210c4870511e2433696da"></span><span class="sig-name descname"><span class="n"><span class="pre">NRF_MODEM_FW_UUID_SZ</span></span></span><a class="headerlink" href="#c.NRF_MODEM_FW_UUID_SZ" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NRF_ATTEST_NONCE_SZ">
<span class="target" id="group__modem__attest__token_1gae794a8071e45d3f8a18cdd6139fbd734"></span><span class="sig-name descname"><span class="n"><span class="pre">NRF_ATTEST_NONCE_SZ</span></span></span><a class="headerlink" href="#c.NRF_ATTEST_NONCE_SZ" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NRF_UUID_V4_STR_LEN">
<span class="target" id="group__modem__attest__token_1gaecbbce231d1b9a6a3503ea26e2752223"></span><span class="sig-name descname"><span class="n"><span class="pre">NRF_UUID_V4_STR_LEN</span></span></span><a class="headerlink" href="#c.NRF_UUID_V4_STR_LEN" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NRF_DEVICE_UUID_STR_LEN">
<span class="target" id="group__modem__attest__token_1gabd1040b13b2ab420805fbac81f89ef9c"></span><span class="sig-name descname"><span class="n"><span class="pre">NRF_DEVICE_UUID_STR_LEN</span></span></span><a class="headerlink" href="#c.NRF_DEVICE_UUID_STR_LEN" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.NRF_MODEM_FW_UUID_STR_LEN">
<span class="target" id="group__modem__attest__token_1gad4dee3ed708a721451853e7b6f035163"></span><span class="sig-name descname"><span class="n"><span class="pre">NRF_MODEM_FW_UUID_STR_LEN</span></span></span><a class="headerlink" href="#c.NRF_MODEM_FW_UUID_STR_LEN" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.nrf_id_srvc_msg_type">
<span class="target" id="group__modem__attest__token_1ga6ecc908d88bf9dadfbf328c520accbbb"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrf_id_srvc_msg_type</span></span></span><a class="headerlink" href="#c.nrf_id_srvc_msg_type" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_INVALID">
<span class="target" id="group__modem__attest__token_1gga6ecc908d88bf9dadfbf328c520accbbbae4d18a6ea77819a3501aa3c8bd14c845"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_ID_SRVC_MSG_TYPE_INVALID</span></span></span><a class="headerlink" href="#c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_INVALID" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_ID_V1">
<span class="target" id="group__modem__attest__token_1gga6ecc908d88bf9dadfbf328c520accbbba40b40189e87af1216d85a6e2f2ec95ab"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_ID_SRVC_MSG_TYPE_ID_V1</span></span></span><a class="headerlink" href="#c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_ID_V1" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_PROV_RESP_V1">
<span class="target" id="group__modem__attest__token_1gga6ecc908d88bf9dadfbf328c520accbbba819fba983374630ef759e73cef54c396"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_ID_SRVC_MSG_TYPE_PROV_RESP_V1</span></span></span><a class="headerlink" href="#c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_PROV_RESP_V1" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_PUB_KEY_V2">
<span class="target" id="group__modem__attest__token_1gga6ecc908d88bf9dadfbf328c520accbbba174b7dd0f70a526a653321842a1138ac"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_ID_SRVC_MSG_TYPE_PUB_KEY_V2</span></span></span><a class="headerlink" href="#c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_PUB_KEY_V2" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_CSR_V2">
<span class="target" id="group__modem__attest__token_1gga6ecc908d88bf9dadfbf328c520accbbbade9f72d20195c0272cba1a248413bfb6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_ID_SRVC_MSG_TYPE_CSR_V2</span></span></span><a class="headerlink" href="#c.nrf_id_srvc_msg_type.NRF_ID_SRVC_MSG_TYPE_CSR_V2" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.nrf_device_type">
<span class="target" id="group__modem__attest__token_1gac5350fd92a3f5db56d85d0d90425f34d"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrf_device_type</span></span></span><a class="headerlink" href="#c.nrf_device_type" title="Permalink to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_device_type.NRF_DEVICE_TYPE_INVALID">
<span class="target" id="group__modem__attest__token_1ggac5350fd92a3f5db56d85d0d90425f34da15c7f69869f921ac0147b26f0613d883"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_DEVICE_TYPE_INVALID</span></span></span><a class="headerlink" href="#c.nrf_device_type.NRF_DEVICE_TYPE_INVALID" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_device_type.NRF_DEVICE_TYPE_9160_SIAA">
<span class="target" id="group__modem__attest__token_1ggac5350fd92a3f5db56d85d0d90425f34da764ddb2116ff4d7fe2d4a4f87e45531b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_DEVICE_TYPE_9160_SIAA</span></span></span><a class="headerlink" href="#c.nrf_device_type.NRF_DEVICE_TYPE_9160_SIAA" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_device_type.NRF_DEVICE_TYPE_9160_SIBA">
<span class="target" id="group__modem__attest__token_1ggac5350fd92a3f5db56d85d0d90425f34da68bc77f41ec5adcf32f544185e8a7b1d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_DEVICE_TYPE_9160_SIBA</span></span></span><a class="headerlink" href="#c.nrf_device_type.NRF_DEVICE_TYPE_9160_SIBA" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.nrf_device_type.NRF_DEVICE_TYPE_9160_SICA">
<span class="target" id="group__modem__attest__token_1ggac5350fd92a3f5db56d85d0d90425f34daac5328b198724d0618f556e1801bacad"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NRF_DEVICE_TYPE_9160_SICA</span></span></span><a class="headerlink" href="#c.nrf_device_type.NRF_DEVICE_TYPE_9160_SICA" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.modem_attest_token_get">
<span class="target" id="group__modem__attest__token_1gadcef1681985230996157f2b9489ca98c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modem_attest_token_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.nrf_attestation_token" title="nrf_attestation_token"><span class="n"><span class="pre">nrf_attestation_token</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">token</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.modem_attest_token_get" title="Permalink to this definition"></a><br /></dt>
<dd><p>Gets the device attestation token from the modem. If successful, the base64url attestation string and base64url COSE string will be stored in the supplied struct. This function will allocate memory for the strings if buffers are not provided by the user. In that case, the user is responsible for freeing the memory by calling <a class="reference internal" href="#group__modem__attest__token_1ga9aa172510da6aa66dc676747e326d7ad"><span class="std std-ref">modem_attest_token_free</span></a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token</strong> – <strong>[inout]</strong> Pointer to struct containing attestation token strings.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>0</strong> – If the operation was successful. Otherwise, a (negative) error code is returned. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.modem_attest_token_free">
<span class="target" id="group__modem__attest__token_1ga9aa172510da6aa66dc676747e326d7ad"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modem_attest_token_free</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.nrf_attestation_token" title="nrf_attestation_token"><span class="n"><span class="pre">nrf_attestation_token</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">token</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.modem_attest_token_free" title="Permalink to this definition"></a><br /></dt>
<dd><p>Frees the memory allocated by <a class="reference internal" href="#group__modem__attest__token_1gadcef1681985230996157f2b9489ca98c"><span class="std std-ref">modem_attest_token_get</span></a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token</strong> – <strong>[in]</strong> Pointer to attestation token. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.modem_attest_token_parse">
<span class="target" id="group__modem__attest__token_1ga52cabfe26aa03fb426f652c6bff87412"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modem_attest_token_parse</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.nrf_attestation_token" title="nrf_attestation_token"><span class="n"><span class="pre">nrf_attestation_token</span></span></a><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">token_in</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.nrf_attestation_data" title="nrf_attestation_data"><span class="n"><span class="pre">nrf_attestation_data</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">data_out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.modem_attest_token_parse" title="Permalink to this definition"></a><br /></dt>
<dd><p>Parses attestation token. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>token_in</strong> – <strong>[in]</strong> Pointer to struct containing attestation token strings. </p></li>
<li><p><strong>data_out</strong> – <strong>[out]</strong> Pointer to struct containing parsed attestation data.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>0</strong> – If the operation was successful. Otherwise, a (negative) error code is returned. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.modem_attest_token_get_uuids">
<span class="target" id="group__modem__attest__token_1ga05ebac76a65fb35feb309735c102a812"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modem_attest_token_get_uuids</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.nrf_device_uuid" title="nrf_device_uuid"><span class="n"><span class="pre">nrf_device_uuid</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.nrf_modem_fw_uuid" title="nrf_modem_fw_uuid"><span class="n"><span class="pre">nrf_modem_fw_uuid</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mfw</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.modem_attest_token_get_uuids" title="Permalink to this definition"></a><br /></dt>
<dd><p>Gets the device and/or modem firmware UUID from the modem and returns it as a NULL terminated string in the supplied struct(s). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dev</strong> – <strong>[out]</strong> Pointer to struct containing device UUID string. Can be NULL if UUID is not wanted. </p></li>
<li><p><strong>mfw</strong> – <strong>[out]</strong> Pointer to struct containing modem fw UUID string. Can be NULL if UUID is not wanted.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>0</strong> – If the operation was successful. Otherwise, a (negative) error code is returned. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.nrf_attestation_token">
<span class="target" id="structnrf__attestation__token"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrf_attestation_token</span></span></span><a class="headerlink" href="#c.nrf_attestation_token" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;modem_attest_token.h&gt;</em></div>
<p>Base64url attestation and COSE strings. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.nrf_attestation_token.attest">
<span class="target" id="structnrf__attestation__token_1a11c114cd35b7ea6ef45026f1ac43fbcf"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">attest</span></span></span><a class="headerlink" href="#c.nrf_attestation_token.attest" title="Permalink to this definition"></a><br /></dt>
<dd><p>NULL terminated base64url attestation string buffer </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.nrf_attestation_token.attest_sz">
<span class="target" id="structnrf__attestation__token_1a26ecb12fee91a88481a7fd9342ace157"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">attest_sz</span></span></span><a class="headerlink" href="#c.nrf_attestation_token.attest_sz" title="Permalink to this definition"></a><br /></dt>
<dd><p>Size of the attestation buffer </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.nrf_attestation_token.cose">
<span class="target" id="structnrf__attestation__token_1aacd3229f8a53a090a493ce0317eca57a"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">cose</span></span></span><a class="headerlink" href="#c.nrf_attestation_token.cose" title="Permalink to this definition"></a><br /></dt>
<dd><p>NULL terminated base64url COSE string buffer </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.nrf_attestation_token.cose_sz">
<span class="target" id="structnrf__attestation__token_1a840184360f58aba80148c2e66cec96ea"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cose_sz</span></span></span><a class="headerlink" href="#c.nrf_attestation_token.cose_sz" title="Permalink to this definition"></a><br /></dt>
<dd><p>Size of the COSE buffer </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.nrf_attestation_data">
<span class="target" id="structnrf__attestation__data"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrf_attestation_data</span></span></span><a class="headerlink" href="#c.nrf_attestation_data" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;modem_attest_token.h&gt;</em></div>
<p>Parsed attestation token data. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.nrf_device_uuid">
<span class="target" id="structnrf__device__uuid"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrf_device_uuid</span></span></span><a class="headerlink" href="#c.nrf_device_uuid" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;modem_attest_token.h&gt;</em></div>
<p>Device UUID string (UUID v4 format) </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.nrf_modem_fw_uuid">
<span class="target" id="structnrf__modem__fw__uuid"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nrf_modem_fw_uuid</span></span></span><a class="headerlink" href="#c.nrf_modem_fw_uuid" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;modem_attest_token.h&gt;</em></div>
<p>Modem firmware UUID string (UUID v4 format) </p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modem_info.html" class="btn btn-neutral float-right" title="Modem information" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modem_antenna.html" class="btn btn-neutral" title="Modem antenna" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>