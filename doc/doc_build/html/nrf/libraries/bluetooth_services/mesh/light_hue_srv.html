<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Light Hue Server &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Light Saturation Server" href="light_sat_srv.html" />
    <link rel="prev" title="Light HSL Server" href="light_hsl_srv.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../bin/index.html">Binary libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Bluetooth libraries and services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../adv_prov.html">Bluetooth LE advertising providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../conn_ctx.html">Bluetooth connection context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../enocean.html">Bluetooth EnOcean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gatt_dm.html">GATT Discovery Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gatt_pool.html">Bluetooth GATT attribute pools</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../mesh.html">Bluetooth mesh profile</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="model_types.html">Bluetooth mesh models overview</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="models.html">Bluetooth mesh models</a></li>
<li class="toctree-l4"><a class="reference internal" href="properties.html">Bluetooth mesh properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="dk_prov.html">Bluetooth mesh provisioning handler for Nordic DKs</a></li>
<li class="toctree-l4"><a class="reference internal" href="sensor.html">Bluetooth mesh sensors</a></li>
<li class="toctree-l4"><a class="reference internal" href="sensor_types.html">Bluetooth mesh sensor types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rpc.html">Bluetooth Low Energy Remote Procedure Call</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scan.html">Scanning module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/ams_client.html">Apple Media Service (AMS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/ancs_client.html">Apple Notification Center Service (ANCS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/bas_client.html">GATT Battery Service (BAS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/bms.html">GATT Bond Management Service (BMS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/cgms.html">GATT Continuous Glucose Monitoring Service (CGMS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/cts_client.html">GATT Current Time Service (CTS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/ddfs.html">Direction and Distance Finding Service (DDFS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/dfu_smp.html">GATT DFU SMP Service Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/fast_pair.html">Google Fast Pair Service (GFPS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/gattp.html">Generic Attribute (GATT) Profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/hids.html">GATT Human Interface Device (HID) Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/hogp.html">GATT Human Interface Device Service (HIDS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/hrs_client.html">GATT Heart Rate Service (HRS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/latency.html">GATT Latency Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/latency_client.html">GATT Latency Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/lbs.html">LED Button Service (LBS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/mds.html">Memfault Diagnostic Service (MDS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/nsms.html">Nordic Status Message Service (NSMS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/nus.html">Nordic UART Service (NUS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/nus_client.html">Nordic UART Service (NUS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/rscs.html">Running Speed and Cadence Service (RSCS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/throughput.html">GATT Throughput Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/wifi_prov.html">Wi-Fi Provisioning Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bootloader/index.html">Bootloader libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../caf/index.html">Common Application Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debug/index.html">Debug libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dfu/index.html">DFU libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gazell/index.html">Gazell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modem/index.html">Modem libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mpsl/index.html">Multiprotocol Service Layer libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../networking/index.html">Libraries for networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nfc/index.html">Libraries for NFC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf_rpc/index.html">nRF RPC libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/index.html">Other libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/index.html">Shell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tfm/index.html">TF-M libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee/index.html">Libraries for Zigbee</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Libraries</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Bluetooth libraries and services</a></li>
          <li class="breadcrumb-item"><a href="../mesh.html">Bluetooth mesh profile</a></li>
          <li class="breadcrumb-item"><a href="models.html">Bluetooth mesh models</a></li>
          <li class="breadcrumb-item"><a href="light_hsl.html">Light HSL models</a></li>
      <li class="breadcrumb-item active">Light Hue Server</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/libraries/bluetooth_services/mesh/light_hue_srv.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="light-hue-server">
<span id="bt-mesh-light-hue-srv-readme"></span><h1>Light Hue Server<a class="headerlink" href="#light-hue-server" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#states" id="id7">States</a></p></li>
<li><p><a class="reference internal" href="#extended-models" id="id8">Extended models</a></p></li>
<li><p><a class="reference internal" href="#persistent-storage" id="id9">Persistent storage</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id10">API documentation</a></p></li>
</ul>
</div>
<p>The Light Hue Server controls the hue of the light color.
It should be instantiated in the light fixture node.</p>
<p>The Light Hue Server adds a single model instance to the composition data, in addition to the extended <a class="reference internal" href="gen_lvl_srv.html#bt-mesh-lvl-srv-readme"><span class="std std-ref">Generic Level Server</span></a>.
Although the Light Hue Server contains <code class="docutils literal notranslate"><span class="pre">range</span></code> and <code class="docutils literal notranslate"><span class="pre">default</span></code> states like other lighting models, the states cannot be accessed directly by other nodes without a <a class="reference internal" href="light_hsl_srv.html#bt-mesh-light-hsl-srv-readme"><span class="std std-ref">Light HSL Server</span></a>.</p>
<p>Unlike the other Lightness models, the Hue Server model’s Hue state will wrap around when reaching its maximum or minimum values as defined in <a class="reference internal" href="#c.bt_mesh_light_hue_srv.range" title="bt_mesh_light_hue_srv.range"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_light_hue_srv.range</span></code></a>.
To be able to handle this effectively in the application, the Light Hue Server model exposes the underlying Generic Level Server’s Move and Delta Set messages, which must be implemented.
If the application gets a call to the <a class="reference internal" href="#c.bt_mesh_light_hue_srv_handlers.delta_set" title="bt_mesh_light_hue_srv_handlers.delta_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_light_hue_srv_handlers.delta_set</span></code></a> callback, it must move the Hue relative to its current value, in the direction determined by the <code class="docutils literal notranslate"><span class="pre">delta_set</span></code> message.
Note that this may cause the Hue state to wrap around.
Similarly, if the application gets a call to the <a class="reference internal" href="#c.bt_mesh_light_hue_srv_handlers.move_set" title="bt_mesh_light_hue_srv_handlers.move_set"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_light_hue_srv_handlers.move_set</span></code></a> callback, it must start a continuous transition of the Hue state in the direction and rate determined by the <code class="docutils literal notranslate"><span class="pre">move_set</span></code> message.
This move transition continues until the Hue Server receives a new <code class="docutils literal notranslate"><span class="pre">set</span></code>, <code class="docutils literal notranslate"><span class="pre">delta_set</span></code> or <code class="docutils literal notranslate"><span class="pre">move_set</span></code> message, or the device reboots.</p>
<section id="states">
<h2><a class="toc-backref" href="#id7">States</a><a class="headerlink" href="#states" title="Permalink to this heading"></a></h2>
<dl>
<dt>Hue: <code class="docutils literal notranslate"><span class="pre">uint16_t</span></code></dt><dd><p>The Hue controls the light’s angle on the color wheel.
The Hue values <code class="docutils literal notranslate"><span class="pre">0</span></code> - <code class="docutils literal notranslate"><span class="pre">65535</span></code> can represent any position on the color spectrum, starting at red, moving through green and blue, before coming back to red at the maximum value.
The Hue state should wrap around when it reaches the end of the spectrum, so that a <em>Generic Level Move</em> message to the extended Generic Level Server should start a never-ending cycling through the hue spectrum, unless it is restricted by the Hue Range.</p>
<p>The Hue state power-up behavior is determined by the On Power Up state of the extended <a class="reference internal" href="gen_ponoff_srv.html#bt-mesh-ponoff-srv-readme"><span class="std std-ref">Generic Power OnOff Server</span></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="gen_ponoff.html#c.bt_mesh_on_power_up.BT_MESH_ON_POWER_UP_OFF" title="BT_MESH_ON_POWER_UP_OFF"><code class="xref c c-enumerator docutils literal notranslate"><span class="pre">BT_MESH_ON_POWER_UP_OFF</span></code></a> - The Hue state is set to the Default Hue state on power-up.</p></li>
<li><p><a class="reference internal" href="gen_ponoff.html#c.bt_mesh_on_power_up.BT_MESH_ON_POWER_UP_ON" title="BT_MESH_ON_POWER_UP_ON"><code class="xref c c-enumerator docutils literal notranslate"><span class="pre">BT_MESH_ON_POWER_UP_ON</span></code></a> - The Hue state is set to the Default Hue state on power-up.</p></li>
<li><p><a class="reference internal" href="gen_ponoff.html#c.bt_mesh_on_power_up.BT_MESH_ON_POWER_UP_RESTORE" title="BT_MESH_ON_POWER_UP_RESTORE"><code class="xref c c-enumerator docutils literal notranslate"><span class="pre">BT_MESH_ON_POWER_UP_RESTORE</span></code></a> - The Hue state is set to the last known Hue value on power-up.</p></li>
</ul>
<p>Your application is expected to hold the state memory and provide access to the state through the <a class="reference internal" href="#c.bt_mesh_light_hue_srv_handlers" title="bt_mesh_light_hue_srv_handlers"><code class="xref c c-struct docutils literal notranslate"><span class="pre">bt_mesh_light_hue_srv_handlers</span></code></a> handler structure.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Hue Server is part of an HSL Server, the application must publish the HSL status using <a class="reference internal" href="light_hsl_srv.html#c.bt_mesh_light_hsl_srv_pub" title="bt_mesh_light_hsl_srv_pub"><code class="xref c c-func docutils literal notranslate"><span class="pre">bt_mesh_light_hsl_srv_pub()</span></code></a> whenever the Hue state changes.
This is not handled automatically by the HSL Server.</p>
</div>
</dd>
<dt>Hue Range: <a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hsl_range" title="bt_mesh_light_hsl_range"><code class="xref c c-struct docutils literal notranslate"><span class="pre">bt_mesh_light_hsl_range</span></code></a></dt><dd><p>The Hue Range is a meta state that defines the valid range for the Hue state.
The Hue should never go outside the Hue Range.</p>
<p>The memory for the Hue Range state is held by the model, and the application may receive updates on state changes through the <code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_light_hue_handlers.range_update</span></code> callback.</p>
</dd>
<dt>Default Hue: <code class="docutils literal notranslate"><span class="pre">uint16_t</span></code></dt><dd><p>The Default Hue state is only used when the model is instantiated as part of a <a class="reference internal" href="light_hsl_srv.html#bt-mesh-light-hsl-srv-readme"><span class="std std-ref">Light HSL Server</span></a>.
The Default Hue determines the initial Hue when the node is powered on, and the On Power Up state of the <a class="reference internal" href="light_hsl_srv.html#bt-mesh-light-hsl-srv-readme"><span class="std std-ref">Light HSL Server</span></a>’s extended <a class="reference internal" href="gen_ponoff_srv.html#bt-mesh-ponoff-srv-readme"><span class="std std-ref">Generic Power OnOff Server</span></a> is <code class="docutils literal notranslate"><span class="pre">ON</span></code> or <code class="docutils literal notranslate"><span class="pre">OFF</span></code>.</p>
<p>The memory for the Default Hue state is held by the model, and the application may receive updates on state changes through the <code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_light_hue_handlers.default_update</span></code> callback.</p>
</dd>
</dl>
</section>
<section id="extended-models">
<h2><a class="toc-backref" href="#id8">Extended models</a><a class="headerlink" href="#extended-models" title="Permalink to this heading"></a></h2>
<p>The Light Hue Server extends the following models:</p>
<ul class="simple">
<li><p><a class="reference internal" href="gen_lvl_srv.html#bt-mesh-lvl-srv-readme"><span class="std std-ref">Generic Level Server</span></a></p></li>
</ul>
<p>As the state of the extended model is bound to the Hue state, the extended model is not exposed directly to the application.</p>
</section>
<section id="persistent-storage">
<h2><a class="toc-backref" href="#id9">Persistent storage</a><a class="headerlink" href="#persistent-storage" title="Permalink to this heading"></a></h2>
<p>The Light Hue Server stores the following information:</p>
<ul class="simple">
<li><p>Any changes to the Default Hue and Hue Range states.</p></li>
<li><p>The last known Hue level.</p></li>
</ul>
<p>This information is used to reestablish the correct Hue level when the device powers up.</p>
<p>If <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_SETTINGS</span></code> is enabled, the Light Hue Server stores all its states persistently using a configurable storage delay to stagger storing.
See <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_MESH_MODEL_SRV_STORE_TIMEOUT</span></code>.</p>
<p>The Light Hue Server can use the <a class="reference internal" href="../../others/emds.html#emds-readme"><span class="std std-ref">emergency data storage (EMDS)</span></a> together with persistent storage to:</p>
<ul class="simple">
<li><p>Extend the flash memory life expectancy.</p></li>
<li><p>Reduce the use of resources by reducing the number of writes to flash memory.</p></li>
</ul>
<p>If option <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS</span></code> is enabled, the Light Hue Server continues to store the default Hue and Hue range states to the flash memory through the settings library, but the last known Hue level is stored by using the <a class="reference internal" href="../../others/emds.html#emds-readme"><span class="std std-ref">EMDS</span></a> library. The values stored by <a class="reference internal" href="../../others/emds.html#emds-readme"><span class="std std-ref">EMDS</span></a> will be lost at first boot when the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS</span></code> is enabled.
This split is done so the values that may change often are stored on shutdown only, while the rarely changed values are immediately stored in flash memory.</p>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id10">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">include/bluetooth/mesh/light_hue_srv.h</span></code></div>
<div class="line">Source file: <code class="file docutils literal notranslate"><span class="pre">subsys/bluetooth/mesh/light_hue_srv.c</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__bt__mesh__light__hue__srv"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">bt_mesh_light_hue_srv</span></span></dt>
<dd><p>API for the Light Hue Server model. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.BT_MESH_LIGHT_HUE_SRV_INIT">
<span class="target" id="group__bt__mesh__light__hue__srv_1ga667fdc6e1bea532655cfdca13f5c3c08"></span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_LIGHT_HUE_SRV_INIT</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_handlers</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.BT_MESH_LIGHT_HUE_SRV_INIT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialization parameters for a <a class="reference internal" href="#group__bt__mesh__light__hue__srv"><span class="std std-ref">Light Hue Server model</span></a> instance. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_handlers</strong> – <strong>[in]</strong> HSL Hue Server callbacks. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.BT_MESH_MODEL_LIGHT_HUE_SRV">
<span class="target" id="group__bt__mesh__light__hue__srv_1ga1399b8264e24fdcf8779eb44dc1db75e"></span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_MODEL_LIGHT_HUE_SRV</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_srv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.BT_MESH_MODEL_LIGHT_HUE_SRV" title="Permalink to this definition"></a><br /></dt>
<dd><p>HSL Hue Server model composition data entry. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_srv</strong> – <strong>[in]</strong> Pointer to a <a class="reference internal" href="#group__bt__mesh__light__hue__srv"><span class="std std-ref">Light Hue Server model</span></a> instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv_pub">
<span class="target" id="group__bt__mesh__light__hue__srv_1ga21d2cc6245e290b44a8d1765738f854b"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_light_hue_srv_pub</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hue_srv" title="bt_mesh_light_hue_srv"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">srv</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_msg_ctx</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hue_status" title="bt_mesh_light_hue_status"><span class="n"><span class="pre">bt_mesh_light_hue_status</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_light_hue_srv_pub" title="Permalink to this definition"></a><br /></dt>
<dd><p>Publish the current HSL Hue status. </p>
<p>Asynchronously publishes a HSL Hue status message with the configured publish parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API is only used publishing unprompted status messages. Response messages for get and set messages are handled internally.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>srv</strong> – <strong>[in]</strong> Server instance to publish on. </p></li>
<li><p><strong>ctx</strong> – <strong>[in]</strong> Message context to send with, or NULL to send with the default publish parameters. </p></li>
<li><p><strong>status</strong> – <strong>[in]</strong> Status parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – Successfully sent the message. </p></li>
<li><p><strong>-EADDRNOTAVAIL</strong> – A message context was not provided and publishing is not configured. </p></li>
<li><p><strong>-EAGAIN</strong> – The device has not been provisioned. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv_handlers">
<span class="target" id="structbt__mesh__light__hue__srv__handlers"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_light_hue_srv_handlers</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv_handlers" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;light_hue_srv.h&gt;</em></div>
<p>HSL Hue Server state access handlers. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv_handlers.set">
<span class="target" id="structbt__mesh__light__hue__srv__handlers_1a9afa3fea1b9485585a4f8628393de87e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hue_srv" title="bt_mesh_light_hue_srv"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">srv</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_msg_ctx</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hue" title="bt_mesh_light_hue"><span class="n"><span class="pre">bt_mesh_light_hue</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">set</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hue_status" title="bt_mesh_light_hue_status"><span class="n"><span class="pre">bt_mesh_light_hue_status</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">rsp</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv_handlers.set" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the Hue state. </p>
<p>When a set message is received, the model publishes a status message, with the response set to <code class="docutils literal notranslate"><span class="pre">rsp</span></code>. When an acknowledged set message is received, the model also sends a response back to a client. If a state change is non-instantaneous, for example when <a class="reference internal" href="model_types.html#group__bt__mesh__model__types_1gaa845685eb265d1294b17bb80fbde4996"><span class="std std-ref">bt_mesh_model_transition_time</span></a> returns a nonzero value, the application is responsible for publishing a value of the Hue state at the end of the transition.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This handler is mandatory.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param srv</dt>
<dd class="field-odd"><p><strong>[in]</strong> Server to set the Hue state of. </p>
</dd>
<dt class="field-even">Param ctx</dt>
<dd class="field-even"><p><strong>[in]</strong> Message context. </p>
</dd>
<dt class="field-odd">Param set</dt>
<dd class="field-odd"><p><strong>[in]</strong> Parameters of the state change. </p>
</dd>
<dt class="field-even">Param rsp</dt>
<dd class="field-even"><p><strong>[out]</strong> Response structure to be filled. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv_handlers.delta_set">
<span class="target" id="structbt__mesh__light__hue__srv__handlers_1a7634a2517b195e170cc9e24ccf15446a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">delta_set</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hue_srv" title="bt_mesh_light_hue_srv"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">srv</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_msg_ctx</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hue_delta" title="bt_mesh_light_hue_delta"><span class="n"><span class="pre">bt_mesh_light_hue_delta</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">delta_set</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hue_status" title="bt_mesh_light_hue_status"><span class="n"><span class="pre">bt_mesh_light_hue_status</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">rsp</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv_handlers.delta_set" title="Permalink to this definition"></a><br /></dt>
<dd><p>Change the hue relative to its current value. </p>
<p>If <code class="docutils literal notranslate"><span class="pre">delta_set::new_transaction</span></code> is false, the state transition should use the same start point as the previous delta_set message, effectively overriding the previous message. If it’s true, the level transition should start from the current level, stopping any ongoing transitions.</p>
<p>When reaching the border values for the state, the value should wrap around. While the server is executing a move command, it should report its <code class="docutils literal notranslate"><span class="pre">target</span></code> value as <a class="reference internal" href="light_hsl.html#group__bt__mesh__light__hsl_1ga90792694de7a358fd1efa17abd86ee5e"><span class="std std-ref">BT_MESH_LIGHT_HSL_MIN</span></a> or <a class="reference internal" href="light_hsl.html#group__bt__mesh__light__hsl_1ga8d238b6f6d899eea4a6a36a86fd13438"><span class="std std-ref">BT_MESH_LIGHT_HSL_MAX</span></a>, depending on whether it’s moving up or down.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This handler is mandatory.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param srv</dt>
<dd class="field-odd"><p><strong>[in]</strong> Light Hue server. </p>
</dd>
<dt class="field-even">Param ctx</dt>
<dd class="field-even"><p><strong>[in]</strong> Message context, or NULL if the callback was not triggered by a mesh message. </p>
</dd>
<dt class="field-odd">Param delta_set</dt>
<dd class="field-odd"><p><strong>[in]</strong> Parameters of the state change. Note that the transition will always be non-NULL. </p>
</dd>
<dt class="field-even">Param rsp</dt>
<dd class="field-even"><p><strong>[out]</strong> Response structure to be filled. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv_handlers.move_set">
<span class="target" id="structbt__mesh__light__hue__srv__handlers_1a57e4a47f1025283837d9154774698186"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">move_set</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hue_srv" title="bt_mesh_light_hue_srv"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">srv</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_msg_ctx</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hue_move" title="bt_mesh_light_hue_move"><span class="n"><span class="pre">bt_mesh_light_hue_move</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">move</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hue_status" title="bt_mesh_light_hue_status"><span class="n"><span class="pre">bt_mesh_light_hue_status</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">rsp</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv_handlers.move_set" title="Permalink to this definition"></a><br /></dt>
<dd><p>Move the hue continuously at a certain rate. </p>
<p>The hue state should move <code class="docutils literal notranslate"><span class="pre">move_set::delta</span></code> units for every <code class="docutils literal notranslate"><span class="pre">move_set::transition::time</span></code> milliseconds. For instance, if delta is 5 and the transition time is 100ms, the state should move at a rate of 50 per second.</p>
<p>When reaching the border values for the state, the value should wrap around. While the server is executing a move command, it should report its <code class="docutils literal notranslate"><span class="pre">target</span></code> value as <a class="reference internal" href="light_hsl.html#group__bt__mesh__light__hsl_1ga90792694de7a358fd1efa17abd86ee5e"><span class="std std-ref">BT_MESH_LIGHT_HSL_MIN</span></a> or <a class="reference internal" href="light_hsl.html#group__bt__mesh__light__hsl_1ga8d238b6f6d899eea4a6a36a86fd13438"><span class="std std-ref">BT_MESH_LIGHT_HSL_MAX</span></a>, depending on whether it’s moving up or down.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This handler is mandatory.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param srv</dt>
<dd class="field-odd"><p><strong>[in]</strong> Server to set the Hue state of. </p>
</dd>
<dt class="field-even">Param ctx</dt>
<dd class="field-even"><p><strong>[in]</strong> Message context. </p>
</dd>
<dt class="field-odd">Param move</dt>
<dd class="field-odd"><p><strong>[in]</strong> Parameters of the state change. </p>
</dd>
<dt class="field-even">Param rsp</dt>
<dd class="field-even"><p><strong>[out]</strong> Response structure to be filled. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv_handlers.get">
<span class="target" id="structbt__mesh__light__hue__srv__handlers_1abef3cca0a1dde98737f745305a7e8ee0"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hue_srv" title="bt_mesh_light_hue_srv"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">srv</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_msg_ctx</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hue_status" title="bt_mesh_light_hue_status"><span class="n"><span class="pre">bt_mesh_light_hue_status</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">rsp</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv_handlers.get" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the Hue state. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This handler is mandatory.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param srv</dt>
<dd class="field-odd"><p><strong>[in]</strong> Server to get the CTL state of. </p>
</dd>
<dt class="field-even">Param ctx</dt>
<dd class="field-even"><p><strong>[in]</strong> Message context. </p>
</dd>
<dt class="field-odd">Param rsp</dt>
<dd class="field-odd"><p><strong>[out]</strong> Response structure to be filled. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv_handlers.default_update">
<span class="target" id="structbt__mesh__light__hue__srv__handlers_1a1897d5a65617b4fa4a1afbeb570bda00"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">default_update</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hue_srv" title="bt_mesh_light_hue_srv"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">srv</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_msg_ctx</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">old_default</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">new_default</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv_handlers.default_update" title="Permalink to this definition"></a><br /></dt>
<dd><p>The default hue has been updated. </p>
<dl class="field-list simple">
<dt class="field-odd">Param srv</dt>
<dd class="field-odd"><p><strong>[in]</strong> Light Hue server. </p>
</dd>
<dt class="field-even">Param ctx</dt>
<dd class="field-even"><p><strong>[in]</strong> Message context, or NULL if the callback was not triggered by a mesh message </p>
</dd>
<dt class="field-odd">Param old_default</dt>
<dd class="field-odd"><p><strong>[in]</strong> Default value before the update. </p>
</dd>
<dt class="field-even">Param new_default</dt>
<dd class="field-even"><p><strong>[in]</strong> Default value after the update. </p>
</dd>
</dl>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv_handlers.range_update">
<span class="target" id="structbt__mesh__light__hue__srv__handlers_1a6a69a767a3f96574d1253c4967be8f0b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">range_update</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hue_srv" title="bt_mesh_light_hue_srv"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">srv</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_msg_ctx</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hsl_range" title="bt_mesh_light_hsl_range"><span class="n"><span class="pre">bt_mesh_light_hsl_range</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">old_range</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hsl_range" title="bt_mesh_light_hsl_range"><span class="n"><span class="pre">bt_mesh_light_hsl_range</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">new_range</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv_handlers.range_update" title="Permalink to this definition"></a><br /></dt>
<dd><p>The valid hue range has been updated. </p>
<dl class="field-list simple">
<dt class="field-odd">Param srv</dt>
<dd class="field-odd"><p><strong>[in]</strong> Light Hue server. </p>
</dd>
<dt class="field-even">Param ctx</dt>
<dd class="field-even"><p><strong>[in]</strong> Message context, or NULL if the callback was not triggered by a mesh message </p>
</dd>
<dt class="field-odd">Param old_range</dt>
<dd class="field-odd"><p><strong>[in]</strong> Range before the update. </p>
</dd>
<dt class="field-even">Param new_range</dt>
<dd class="field-even"><p><strong>[in]</strong> Range after the update. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv">
<span class="target" id="structbt__mesh__light__hue__srv"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;light_hue_srv.h&gt;</em></div>
<p>HSL Hue Server instance. Should be initialized with <a class="reference internal" href="#group__bt__mesh__light__hue__srv_1ga667fdc6e1bea532655cfdca13f5c3c08"><span class="std std-ref">BT_MESH_LIGHT_HUE_SRV_INIT</span></a>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.lvl">
<span class="target" id="structbt__mesh__light__hue__srv_1a21d3b66c871f8fd33a740bed3e320884"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="gen_lvl_srv.html#c.bt_mesh_lvl_srv" title="bt_mesh_lvl_srv"><span class="n"><span class="pre">bt_mesh_lvl_srv</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">lvl</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.lvl" title="Permalink to this definition"></a><br /></dt>
<dd><p>Light Level Server instance. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.handlers">
<span class="target" id="structbt__mesh__light__hue__srv_1a3a2ce459b9e596e62de2cdbf1f075486"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hue_srv_handlers" title="bt_mesh_light_hue_srv_handlers"><span class="n"><span class="pre">bt_mesh_light_hue_srv_handlers</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">handlers</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.handlers" title="Permalink to this definition"></a><br /></dt>
<dd><p>Handler function structure. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.model">
<span class="target" id="structbt__mesh__light__hue__srv_1a546cc9260a9708cabbdc6d85af4a5369"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_model</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">model</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.model" title="Permalink to this definition"></a><br /></dt>
<dd><p>Model entry. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.hsl">
<span class="target" id="structbt__mesh__light__hue__srv_1a5f8031fdfd7255e2386e8bb5a0a91496"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl_srv.html#c.bt_mesh_light_hsl_srv" title="bt_mesh_light_hsl_srv"><span class="n"><span class="pre">bt_mesh_light_hsl_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">hsl</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.hsl" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to the corresponding HSL server, if it has one. Is set automatically by the HSL server. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.pub">
<span class="target" id="structbt__mesh__light__hue__srv_1aa3a24986481ff15a946f2e4fa690f459"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_model_pub</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pub</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.pub" title="Permalink to this definition"></a><br /></dt>
<dd><p>Publish parameters. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.buf">
<span class="target" id="structbt__mesh__light__hue__srv_1aa454e74d23318061e8758a4544cabd91"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">net_buf_simple</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buf</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.buf" title="Permalink to this definition"></a><br /></dt>
<dd><p>Publication buffer </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.pub_data">
<span class="target" id="structbt__mesh__light__hue__srv_1a78d798130faac4b6de0a2fb8b938bfba"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pub_data</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">BT_MESH_MODEL_BUF_LEN</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">BT_MESH_LIGHT_HUE_OP_STATUS</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">BT_MESH_LIGHT_HSL_MSG_MAXLEN_HUE_STATUS</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.pub_data" title="Permalink to this definition"></a><br /></dt>
<dd><p>Publication buffer data </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.prev_transaction">
<span class="target" id="structbt__mesh__light__hue__srv_1ac7c8602c07e937c2826879da867215aa"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="model_types.html#c.bt_mesh_tid_ctx" title="bt_mesh_tid_ctx"><span class="n"><span class="pre">bt_mesh_tid_ctx</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">prev_transaction</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.prev_transaction" title="Permalink to this definition"></a><br /></dt>
<dd><p>Transaction ID tracker for the set messages. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.range">
<span class="target" id="structbt__mesh__light__hue__srv_1a3c2b31a698e01a2b3a426922f20540ec"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hsl_range" title="bt_mesh_light_hsl_range"><span class="n"><span class="pre">bt_mesh_light_hsl_range</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">range</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.range" title="Permalink to this definition"></a><br /></dt>
<dd><p>Hue range </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.dflt">
<span class="target" id="structbt__mesh__light__hue__srv_1ae1bc8f296d9ccc1c264715c0e5aa743a"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dflt</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.dflt" title="Permalink to this definition"></a><br /></dt>
<dd><p>Default Hue level </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hue_srv.last">
<span class="target" id="structbt__mesh__light__hue__srv_1afc4d781a2264eae7d7b20e4e444bfc16"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hue_srv.last" title="Permalink to this definition"></a><br /></dt>
<dd><p>Last known Hue level </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="light_sat_srv.html" class="btn btn-neutral float-right" title="Light Saturation Server" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="light_hsl_srv.html" class="btn btn-neutral" title="Light HSL Server" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>