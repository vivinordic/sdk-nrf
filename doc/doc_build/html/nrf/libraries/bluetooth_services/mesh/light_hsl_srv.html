<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Light HSL Server &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Light Hue Server" href="light_hue_srv.html" />
    <link rel="prev" title="Light HSL Client" href="light_hsl_cli.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../bin/index.html">Binary libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Bluetooth libraries and services</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../adv_prov.html">Bluetooth LE advertising providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../conn_ctx.html">Bluetooth connection context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../enocean.html">Bluetooth EnOcean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gatt_dm.html">GATT Discovery Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gatt_pool.html">Bluetooth GATT attribute pools</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../mesh.html">Bluetooth mesh profile</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="model_types.html">Bluetooth mesh models overview</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="models.html">Bluetooth mesh models</a></li>
<li class="toctree-l4"><a class="reference internal" href="properties.html">Bluetooth mesh properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="dk_prov.html">Bluetooth mesh provisioning handler for Nordic DKs</a></li>
<li class="toctree-l4"><a class="reference internal" href="sensor.html">Bluetooth mesh sensors</a></li>
<li class="toctree-l4"><a class="reference internal" href="sensor_types.html">Bluetooth mesh sensor types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../rpc.html">Bluetooth Low Energy Remote Procedure Call</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scan.html">Scanning module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/ams_client.html">Apple Media Service (AMS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/ancs_client.html">Apple Notification Center Service (ANCS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/bas_client.html">GATT Battery Service (BAS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/bms.html">GATT Bond Management Service (BMS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/cgms.html">GATT Continuous Glucose Monitoring Service (CGMS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/cts_client.html">GATT Current Time Service (CTS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/ddfs.html">Direction and Distance Finding Service (DDFS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/dfu_smp.html">GATT DFU SMP Service Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/fast_pair.html">Google Fast Pair Service (GFPS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/gattp.html">Generic Attribute (GATT) Profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/hids.html">GATT Human Interface Device (HID) Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/hogp.html">GATT Human Interface Device Service (HIDS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/hrs_client.html">GATT Heart Rate Service (HRS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/latency.html">GATT Latency Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/latency_client.html">GATT Latency Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/lbs.html">LED Button Service (LBS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/mds.html">Memfault Diagnostic Service (MDS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/nsms.html">Nordic Status Message Service (NSMS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/nus.html">Nordic UART Service (NUS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/nus_client.html">Nordic UART Service (NUS) Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/rscs.html">Running Speed and Cadence Service (RSCS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/throughput.html">GATT Throughput Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../services/wifi_prov.html">Wi-Fi Provisioning Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bootloader/index.html">Bootloader libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../caf/index.html">Common Application Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debug/index.html">Debug libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dfu/index.html">DFU libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gazell/index.html">Gazell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modem/index.html">Modem libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mpsl/index.html">Multiprotocol Service Layer libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../networking/index.html">Libraries for networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nfc/index.html">Libraries for NFC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf_rpc/index.html">nRF RPC libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../others/index.html">Other libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/index.html">Shell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tfm/index.html">TF-M libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee/index.html">Libraries for Zigbee</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Libraries</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Bluetooth libraries and services</a></li>
          <li class="breadcrumb-item"><a href="../mesh.html">Bluetooth mesh profile</a></li>
          <li class="breadcrumb-item"><a href="models.html">Bluetooth mesh models</a></li>
          <li class="breadcrumb-item"><a href="light_hsl.html">Light HSL models</a></li>
      <li class="breadcrumb-item active">Light HSL Server</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/libraries/bluetooth_services/mesh/light_hsl_srv.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="light-hsl-server">
<span id="bt-mesh-light-hsl-srv-readme"></span><h1>Light HSL Server<a class="headerlink" href="#light-hsl-server" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#model-composition" id="id7">Model composition</a></p></li>
<li><p><a class="reference internal" href="#states" id="id8">States</a></p></li>
<li><p><a class="reference internal" href="#extended-models" id="id9">Extended models</a></p></li>
<li><p><a class="reference internal" href="#persistent-storage" id="id10">Persistent storage</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id11">API documentation</a></p></li>
</ul>
</div>
<p>The Light HSL Server represents a single colored light.
It should be instantiated in the light fixture node.</p>
<p>The Light HSL Server provides functionality for working on the individual hue, saturation and lightness channels in a combined message interface, controlled by a <a class="reference internal" href="light_hsl_cli.html#bt-mesh-light-hsl-cli-readme"><span class="std std-ref">Light HSL Client</span></a>.</p>
<p>The Light HSL Server adds the following new model instances in the composition data:</p>
<ul class="simple">
<li><p>Light HSL Server</p></li>
<li><p>Light HSL Setup Server</p></li>
</ul>
<p>These model instances share the states of the Light HSL Server, but accept different messages.
This allows for a fine-grained control of the access rights for the Light HSL states, as these model instances can be bound to different application keys:</p>
<ul class="simple">
<li><p>The Light HSL Server only provides write access to the HSL state for the user, in addition to read access to all the meta states.</p></li>
<li><p>The Light HSL Setup Server provides write access to the corresponding <a class="reference internal" href="light_hue_srv.html#bt-mesh-light-hue-srv-readme"><span class="std std-ref">Light Hue Server</span></a> and <a class="reference internal" href="light_sat_srv.html#bt-mesh-light-sat-srv-readme"><span class="std std-ref">Light Saturation Server</span></a> models’ meta states.
This allows the configurator devices to set up the range and the default value for the various HSL states.</p></li>
</ul>
<p>The extended <a class="reference internal" href="lightness_srv.html#bt-mesh-lightness-srv-readme"><span class="std std-ref">Light Lightness Server</span></a> model should be defined and initialized separately, and the pointer to this model should be passed to the Light HSL Server initialization macro.</p>
<section id="model-composition">
<h2><a class="toc-backref" href="#id7">Model composition</a><a class="headerlink" href="#model-composition" title="Permalink to this heading"></a></h2>
<p>The Light HSL Server requires a <a class="reference internal" href="light_hue_srv.html#bt-mesh-light-hue-srv-readme"><span class="std std-ref">Light Hue Server</span></a> and a <a class="reference internal" href="light_sat_srv.html#bt-mesh-light-sat-srv-readme"><span class="std std-ref">Light Saturation Server</span></a> model to be instantiated in any of the following elements.
As each of the Light Hue, Saturation and Lightness Server models extend the <a class="reference internal" href="gen_lvl_srv.html#bt-mesh-lvl-srv-readme"><span class="std std-ref">Generic Level Server</span></a> model, they cannot be instantiated on the same element.</p>
<p>The recommended configuration for the Light HSL Server model is to instantiate the Light HSL Server (with its extended Light Lightness Server model) on one element, then instantiate the corresponding Light Hue Server model on the subsequent element, and the corresponding Light Saturation Server model on the next element after that:</p>
<table class="docutils align-center">
<colgroup>
<col style="width: 37%" />
<col style="width: 27%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element N</p></th>
<th class="head"><p>Element N+1</p></th>
<th class="head"><p>Element N+2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Light Lightness Server</p></td>
<td><p>Light Hue Server</p></td>
<td><p>Light Saturation Server</p></td>
</tr>
<tr class="row-odd"><td><p>Light HSL Server</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>In the application code, this would look like this:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">bt_mesh_lightness_srv</span><span class="w"> </span><span class="n">lightess_srv</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="n">BT_MESH_LIGHTNESS_SRV_INIT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lightness_cb</span><span class="p">);</span>

<span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">bt_mesh_light_hsl_srv</span><span class="w"> </span><span class="n">hsl_srv</span><span class="w"> </span><span class="o">=</span>
<span class="w">     </span><span class="n">BT_MESH_LIGHT_HSL_SRV_INIT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lightness_srv</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">hue_cb</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sat_cb</span><span class="p">);</span>

<span class="k">static</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">bt_mesh_elem</span><span class="w"> </span><span class="n">elements</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">BT_MESH_ELEM</span><span class="p">(</span>
<span class="w">             </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">BT_MESH_MODEL_LIST</span><span class="p">(</span>
<span class="w">         </span><span class="n">BT_MESH_MODEL_LIGHTNESS_SRV</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lightness_srv</span><span class="p">),</span>
<span class="w">         </span><span class="n">BT_MESH_MODEL_LIGHT_HSL_SRV</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hsl_srv</span><span class="p">)),</span>
<span class="w">             </span><span class="n">BT_MESH_MODEL_NONE</span><span class="p">),</span>
<span class="w">     </span><span class="n">BT_MESH_ELEM</span><span class="p">(</span>
<span class="w">             </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">BT_MESH_MODEL_LIST</span><span class="p">(</span><span class="n">BT_MESH_MODEL_LIGHT_HUE_SRV</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hsl_srv</span><span class="p">.</span><span class="n">hue</span><span class="p">)),</span>
<span class="w">             </span><span class="n">BT_MESH_MODEL_NONE</span><span class="p">),</span>
<span class="w">     </span><span class="n">BT_MESH_ELEM</span><span class="p">(</span>
<span class="w">             </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">BT_MESH_MODEL_LIST</span><span class="p">(</span><span class="n">BT_MESH_MODEL_LIGHT_SAT_SRV</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hsl_srv</span><span class="p">.</span><span class="n">sat</span><span class="p">)),</span>
<span class="w">             </span><span class="n">BT_MESH_MODEL_NONE</span><span class="p">),</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#c.bt_mesh_light_hsl_srv" title="bt_mesh_light_hsl_srv"><code class="xref c c-struct docutils literal notranslate"><span class="pre">bt_mesh_light_hsl_srv</span></code></a> contains the memory for its corresponding Light Hue Server and Light Saturation Server.
When instantiating these models in the composition data, the model entries must point to these substructures.
The <a class="reference internal" href="#c.bt_mesh_light_hsl_srv" title="bt_mesh_light_hsl_srv"><code class="xref c c-struct docutils literal notranslate"><span class="pre">bt_mesh_light_hsl_srv</span></code></a> also contains a pointer to the Light Lightness Server model.
Pointer to this model should be passed to the Light HSL Server initialization macro.</p>
</div>
<p>The Light HSL Server does not contain any states on its own, but instead operates on the underlying Light Hue, Saturation and Lightness Server models’ states.
Because of this, the Light HSL Server does not have a message handler structure, but will instead defer its messages to the individual submodels’ handler callbacks.</p>
<p>It’s also possible to combine the Light HSL Server model with a <a class="reference internal" href="light_xyl_srv.html#bt-mesh-light-xyl-srv-readme"><span class="std std-ref">Light xyL Server</span></a>.
See <a class="reference internal" href="light_xyl_srv.html#bt-mesh-light-xyl-hsl-srv"><span class="std std-ref">Usage with the Light HSL Server</span></a> for details.</p>
</section>
<section id="states">
<h2><a class="toc-backref" href="#id8">States</a><a class="headerlink" href="#states" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
<section id="extended-models">
<h2><a class="toc-backref" href="#id9">Extended models</a><a class="headerlink" href="#extended-models" title="Permalink to this heading"></a></h2>
<p>The Light HSL Server extends the following models:</p>
<ul class="simple">
<li><p><a class="reference internal" href="lightness_srv.html#bt-mesh-lightness-srv-readme"><span class="std std-ref">Light Lightness Server</span></a></p></li>
</ul>
<p>Additionally, the Light HSL Server model requires a <a class="reference internal" href="light_hue_srv.html#bt-mesh-light-hue-srv-readme"><span class="std std-ref">Light Hue Server</span></a> and a <a class="reference internal" href="light_sat_srv.html#bt-mesh-light-sat-srv-readme"><span class="std std-ref">Light Saturation Server</span></a> to be instantiated on any of the following elements, using the <a class="reference internal" href="#c.bt_mesh_light_hsl_srv.hue" title="bt_mesh_light_hsl_srv.hue"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_light_hsl_srv.hue</span></code></a> and <a class="reference internal" href="#c.bt_mesh_light_hsl_srv.sat" title="bt_mesh_light_hsl_srv.sat"><code class="xref c c-member docutils literal notranslate"><span class="pre">bt_mesh_light_hsl_srv.sat</span></code></a> structures.</p>
</section>
<section id="persistent-storage">
<h2><a class="toc-backref" href="#id10">Persistent storage</a><a class="headerlink" href="#persistent-storage" title="Permalink to this heading"></a></h2>
<p>The Light HSL Server does not store any data persistently, but will control the underlying Light Hue Server and Light Saturation Server models’ state when the device is powered up.</p>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id11">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">include/bluetooth/mesh/light_hsl_srv.h</span></code></div>
<div class="line">Source file: <code class="file docutils literal notranslate"><span class="pre">subsys/bluetooth/mesh/light_hsl_srv.c</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__bt__mesh__light__hsl__srv"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">bt_mesh_light_hsl_srv</span></span></dt>
<dd><p>API for the Light HSL Server model. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.BT_MESH_LIGHT_HSL_SRV_INIT">
<span class="target" id="group__bt__mesh__light__hsl__srv_1gad8712bba4f5a213056b511eed063b26f"></span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_LIGHT_HSL_SRV_INIT</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_lightness_srv</span></span>, <span class="n"><span class="pre">_hue_handlers</span></span>, <span class="n"><span class="pre">_sat_handlers</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.BT_MESH_LIGHT_HSL_SRV_INIT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialization parameters for a <a class="reference internal" href="#group__bt__mesh__light__hsl__srv"><span class="std std-ref">Light HSL Server model</span></a> instance. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_lightness_srv</strong> – <strong>[in]</strong> Pointer to the Lightness Server instance. </p></li>
<li><p><strong>_hue_handlers</strong> – <strong>[in]</strong> Hue Server model handlers. </p></li>
<li><p><strong>_sat_handlers</strong> – <strong>[in]</strong> Saturation Server model handlers. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.BT_MESH_MODEL_LIGHT_HSL_SRV">
<span class="target" id="group__bt__mesh__light__hsl__srv_1gae6cb958e72a573ba347d30b7eaf65003"></span><span class="sig-name descname"><span class="n"><span class="pre">BT_MESH_MODEL_LIGHT_HSL_SRV</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_srv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.BT_MESH_MODEL_LIGHT_HSL_SRV" title="Permalink to this definition"></a><br /></dt>
<dd><p>Light HSL Server model composition data entry. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_srv</strong> – <strong>[in]</strong> Pointer to a <a class="reference internal" href="#group__bt__mesh__light__hsl__srv"><span class="std std-ref">Light HSL Server model</span></a> instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv_pub">
<span class="target" id="group__bt__mesh__light__hsl__srv_1ga2a66827c74a41dc8a5ca42a9c3db53ad"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_light_hsl_srv_pub</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.bt_mesh_light_hsl_srv" title="bt_mesh_light_hsl_srv"><span class="n"><span class="pre">bt_mesh_light_hsl_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">srv</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_msg_ctx</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hsl.html#c.bt_mesh_light_hsl_status" title="bt_mesh_light_hsl_status"><span class="n"><span class="pre">bt_mesh_light_hsl_status</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv_pub" title="Permalink to this definition"></a><br /></dt>
<dd><p>Publish the current HSL status. </p>
<p>Asynchronously publishes a HSL status message with the configured publish parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API is only used publishing unprompted status messages. Response messages for get and set messages are handled internally.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>srv</strong> – <strong>[in]</strong> Server instance to publish on. </p></li>
<li><p><strong>ctx</strong> – <strong>[in]</strong> Message context to send with, or NULL to send with the configured publish parameters. </p></li>
<li><p><strong>status</strong> – <strong>[in]</strong> Status parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – Successfully sent the message. </p></li>
<li><p><strong>-EADDRNOTAVAIL</strong> – A message context was not provided and publishing is not configured. </p></li>
<li><p><strong>-EAGAIN</strong> – The device has not been provisioned. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv">
<span class="target" id="structbt__mesh__light__hsl__srv"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bt_mesh_light_hsl_srv</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;light_hsl_srv.h&gt;</em></div>
<p>Light HSL Server instance. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.hue">
<span class="target" id="structbt__mesh__light__hsl__srv_1a3798a7726a76fe412397d8e184311a3d"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_hue_srv.html#c.bt_mesh_light_hue_srv" title="bt_mesh_light_hue_srv"><span class="n"><span class="pre">bt_mesh_light_hue_srv</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hue</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.hue" title="Permalink to this definition"></a><br /></dt>
<dd><p>Light Hue Server instance. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.sat">
<span class="target" id="structbt__mesh__light__hsl__srv_1a023bfe22b0fba77e691d9668b976453b"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="light_sat_srv.html#c.bt_mesh_light_sat_srv" title="bt_mesh_light_sat_srv"><span class="n"><span class="pre">bt_mesh_light_sat_srv</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sat</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.sat" title="Permalink to this definition"></a><br /></dt>
<dd><p>Light Saturation Server instance. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.lightness">
<span class="target" id="structbt__mesh__light__hsl__srv_1ac560bc7d415814546c6383879835c23a"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="lightness_srv.html#c.bt_mesh_lightness_srv" title="bt_mesh_lightness_srv"><span class="n"><span class="pre">bt_mesh_lightness_srv</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">lightness</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.lightness" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to Lightness Server instance. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.model">
<span class="target" id="structbt__mesh__light__hsl__srv_1ad6e6562b48258d1564eba49ced2ca6b9"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_model</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">model</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.model" title="Permalink to this definition"></a><br /></dt>
<dd><p>Model entry. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.pub">
<span class="target" id="structbt__mesh__light__hsl__srv_1a137869ce45362e713d490a8e22cdb81d"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">bt_mesh_model_pub</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pub</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.pub" title="Permalink to this definition"></a><br /></dt>
<dd><p>Publish parameters. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.buf">
<span class="target" id="structbt__mesh__light__hsl__srv_1aafd2fed224e96a1228ec7c75ed51f7e1"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">net_buf_simple</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buf</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.buf" title="Permalink to this definition"></a><br /></dt>
<dd><p>Publish message buffer </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.pub_data">
<span class="target" id="structbt__mesh__light__hsl__srv_1ad93c1306808013d8d943e932c1da9afe"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pub_data</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">BT_MESH_MODEL_BUF_LEN</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">BT_MESH_LIGHT_HSL_OP_STATUS</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">BT_MESH_LIGHT_HSL_MSG_MAXLEN_STATUS</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.pub_data" title="Permalink to this definition"></a><br /></dt>
<dd><p>Publish message buffer data </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.pub_pending">
<span class="target" id="structbt__mesh__light__hsl__srv_1aed56f64e4e6d52ec3efc8506e7f2e9e7"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pub_pending</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.pub_pending" title="Permalink to this definition"></a><br /></dt>
<dd><p>A publication is pending, and any calls to <a class="reference internal" href="#group__bt__mesh__light__hsl__srv_1ga2a66827c74a41dc8a5ca42a9c3db53ad"><span class="std std-ref">bt_mesh_light_hsl_srv_pub</span></a> will return successfully without sending a message. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.bt_mesh_light_hsl_srv.prev_transaction">
<span class="target" id="structbt__mesh__light__hsl__srv_1a68fa67ca7c128c6c72a71e54b9c986d2"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="model_types.html#c.bt_mesh_tid_ctx" title="bt_mesh_tid_ctx"><span class="n"><span class="pre">bt_mesh_tid_ctx</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">prev_transaction</span></span></span><a class="headerlink" href="#c.bt_mesh_light_hsl_srv.prev_transaction" title="Permalink to this definition"></a><br /></dt>
<dd><p>Transaction ID tracker for the set messages. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="light_hue_srv.html" class="btn btn-neutral float-right" title="Light Hue Server" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="light_hsl_cli.html" class="btn btn-neutral" title="Light HSL Client" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>