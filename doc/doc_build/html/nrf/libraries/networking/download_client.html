<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Download client &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../_static/js/ncs.js"
></script>
<script src="../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="FOTA download" href="fota_download.html" />
    <link rel="prev" title="CoAP utils" href="coap_utils.html" />
<link
  href="../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers.html">Drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bin/index.html">Binary libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth_services/index.html">Bluetooth libraries and services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bootloader/index.html">Bootloader libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caf/index.html">Common Application Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug/index.html">Debug libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dfu/index.html">DFU libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gazell/index.html">Gazell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modem/index.html">Modem libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mpsl/index.html">Multiprotocol Service Layer libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Libraries for networking</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="aws_fota.html">AWS FOTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="aws_iot.html">AWS IoT</a></li>
<li class="toctree-l3"><a class="reference internal" href="aws_jobs.html">AWS jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="azure_fota.html">Azure FOTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="azure_iot_hub.html">Azure IoT Hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="coap_utils.html">CoAP utils</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Download client</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#limitations">Limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-documentation">API documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fota_download.html">FOTA download</a></li>
<li class="toctree-l3"><a class="reference internal" href="ftp_client.html">FTP client</a></li>
<li class="toctree-l3"><a class="reference internal" href="icalendar_parser.html">iCalendar parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="lwm2m_client_utils.html">LwM2M client utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="lwm2m_location_assistance.html">LwM2M location assistance</a></li>
<li class="toctree-l3"><a class="reference internal" href="mqtt_helper.html">MQTT helper</a></li>
<li class="toctree-l3"><a class="reference internal" href="multicell_location.html">Multicell location</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud.html">nRF Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_agps.html">nRF Cloud A-GPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_alerts.html">nRF Cloud Alerts</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_location.html">nRF Cloud location</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_pgps.html">nRF Cloud P-GPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_rest.html">nRF Cloud REST</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest_client.html">REST client</a></li>
<li class="toctree-l3"><a class="reference internal" href="wifi_credentials.html">Wi-Fi credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="wifi_mgmt_ext.html">Wi-Fi management extension</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../nfc/index.html">Libraries for NFC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nrf_rpc/index.html">nRF RPC libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/index.html">Other libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tfm/index.html">TF-M libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zigbee/index.html">Libraries for Zigbee</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Libraries</a></li>
          <li class="breadcrumb-item"><a href="index.html">Libraries for networking</a></li>
      <li class="breadcrumb-item active">Download client</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/libraries/networking/download_client.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="download-client">
<span id="lib-download-client"></span><h1>Download client<a class="headerlink" href="#download-client" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id7">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#protocols" id="id8">Protocols</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration" id="id9">Configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#configuring-http-and-https-tls-1-2" id="id10">Configuring HTTP and HTTPS (TLS 1.2)</a></p></li>
<li><p><a class="reference internal" href="#configuring-coap-and-coaps-dtls-1-2" id="id11">Configuring CoAP and CoAPS (DTLS 1.2)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#limitations" id="id12">Limitations</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id13">API documentation</a></p></li>
</ul>
</div>
<p>The download client library can be used to download files from an HTTP or a CoAP server.</p>
<section id="overview">
<h2><a class="toc-backref" href="#id7">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>The download is carried out in a separate thread, and the application receives events such as <a class="reference internal" href="#c.download_client_evt_id.DOWNLOAD_CLIENT_EVT_FRAGMENT" title="DOWNLOAD_CLIENT_EVT_FRAGMENT"><code class="xref c c-enumerator docutils literal notranslate"><span class="pre">DOWNLOAD_CLIENT_EVT_FRAGMENT</span></code></a> that contain the data fragments as the download progresses.
The fragment size can be configured independently for HTTP and CoAP (block-wise transfer).
When the download completes, the library sends the <a class="reference internal" href="#c.download_client_evt_id.DOWNLOAD_CLIENT_EVT_DONE" title="DOWNLOAD_CLIENT_EVT_DONE"><code class="xref c c-enumerator docutils literal notranslate"><span class="pre">DOWNLOAD_CLIENT_EVT_DONE</span></code></a> event to the application.</p>
<section id="protocols">
<h3><a class="toc-backref" href="#id8">Protocols</a><a class="headerlink" href="#protocols" title="Permalink to this heading"></a></h3>
<p>The library supports HTTP, HTTPS (TLS 1.2), CoAP, and CoAPS (DTLS 1.2) over IPv4 and IPv6.</p>
<section id="http-and-https-tls-1-2">
<span id="download-client-https"></span><h4>HTTP and HTTPS (TLS 1.2)<a class="headerlink" href="#http-and-https-tls-1-2" title="Permalink to this heading"></a></h4>
<p>In the case of download using HTTP, the library sends only one HTTP request to the server and receives only one HTTP response.</p>
<p>In the case of download using HTTPS, it is carried out through <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc7233">Content-Range requests (IETF RFC 7233)</a> due to memory constraints that limit the maximum HTTPS message size to 2 kilobytes.
The library thus sends and receives as many requests and responses as the number of fragments that constitutes the download.
For example, to download a file of size 47 kilobytes file with a fragment size of 2 kilobytes, a total of 24 HTTP GET requests are sent.
It is therefore recommended to use the largest fragment size to minimize the network usage.</p>
</section>
<section id="coap-and-coaps-dtls-1-2">
<h4>CoAP and CoAPS (DTLS 1.2)<a class="headerlink" href="#coap-and-coaps-dtls-1-2" title="Permalink to this heading"></a></h4>
<p>When downloading from a CoAP server, the library uses the CoAP block-wise transfer.</p>
</section>
</section>
</section>
<section id="configuration">
<h2><a class="toc-backref" href="#id9">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>The configuration of the library depends on the protocol you are using.</p>
<section id="configuring-http-and-https-tls-1-2">
<h3><a class="toc-backref" href="#id10">Configuring HTTP and HTTPS (TLS 1.2)</a><a class="headerlink" href="#configuring-http-and-https-tls-1-2" title="Permalink to this heading"></a></h3>
<p>Set the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_DOWNLOAD_CLIENT_BUF_SIZE</span></code> and <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_DOWNLOAD_CLIENT_HTTP_FRAG_SIZE</span></code> Kconfig options, so that the buffer is large enough to accommodate the entire HTTP header of the request and the response.</p>
<p>Moreover, the application must provision the TLS credentials and pass the security tag to the library when using HTTPS and calling the <a class="reference internal" href="#c.download_client_connect" title="download_client_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">download_client_connect()</span></code></a> function.
To provision a TLS certificate to the modem, use <a class="reference internal" href="../modem/modem_key_mgmt.html#c.modem_key_mgmt_write" title="modem_key_mgmt_write"><code class="xref c c-func docutils literal notranslate"><span class="pre">modem_key_mgmt_write()</span></code></a> and other <a class="reference internal" href="../modem/modem_key_mgmt.html#modem-key-mgmt"><span class="std std-ref">Modem key management</span></a> APIs.</p>
</section>
<section id="configuring-coap-and-coaps-dtls-1-2">
<h3><a class="toc-backref" href="#id11">Configuring CoAP and CoAPS (DTLS 1.2)</a><a class="headerlink" href="#configuring-coap-and-coaps-dtls-1-2" title="Permalink to this heading"></a></h3>
<p>Make sure to configure the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_DOWNLOAD_CLIENT_BUF_SIZE</span></code> and <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_DOWNLOAD_CLIENT_COAP_BLOCK_SIZE</span></code> Kconfig options, so that the buffer is large enough to accommodate the entire CoAP header and the CoAP block.</p>
<p>The application must provision the TLS credentials and pass the security tag to the library when using CoAPS and calling <a class="reference internal" href="#c.download_client_connect" title="download_client_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">download_client_connect()</span></code></a>.</p>
</section>
</section>
<section id="limitations">
<h2><a class="toc-backref" href="#id12">Limitations</a><a class="headerlink" href="#limitations" title="Permalink to this heading"></a></h2>
<p>The library requires the host server to provide a Content-Range field in the HTTP GET header when using HTTPS.
If this header field is missing, the library logs the following error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">err</span><span class="o">&gt;</span> <span class="n">download_client</span><span class="p">:</span> <span class="n">Server</span> <span class="n">did</span> <span class="ow">not</span> <span class="n">send</span> <span class="s2">&quot;Content-Range&quot;</span> <span class="ow">in</span> <span class="n">response</span>
</pre></div>
</div>
<p>It is not possible to use a CoAP block size of 1024 bytes, due to internal limitations.</p>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id13">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">include/download_client.h</span></code></div>
<div class="line">Source files: <code class="file docutils literal notranslate"><span class="pre">subsys/net/lib/download_client/src/</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__dl__client"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">dl_client</span></span></dt>
<dd><p>Client for downloading an object. </p>
<p>The download client provides APIs for:<ul class="simple">
<li><p>connecting to a remote server,</p></li>
<li><p>downloading an object from the server,</p></li>
<li><p>disconnecting from the server,</p></li>
<li><p>receiving asynchronous event notifications on the download status. </p></li>
</ul>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.download_client_callback_t">
<span class="target" id="group__dl__client_1gad1970f12cef5b5715577dd5573737b9b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">download_client_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client_evt" title="download_client_evt"><span class="n"><span class="pre">download_client_evt</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.download_client_callback_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Download client asynchronous event handler. </p>
<p>Through this callback, the application receives events, such as download of a fragment, download completion, or errors.</p>
<p>If the callback returns a non-zero value, the download stops. To resume the download, use <a class="reference internal" href="#group__dl__client_1ga9c6e4153ef22913ea5f57aa7aed884e7"><span class="std std-ref">download_client_start()</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Param event</dt>
<dd class="field-odd"><p><strong>[in]</strong> The event.</p>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><p>Zero to continue the download, non-zero otherwise. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.download_client_evt_id">
<span class="target" id="group__dl__client_1gaabb2b65eab84b7897a777243fbec4cba"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_evt_id</span></span></span><a class="headerlink" href="#c.download_client_evt_id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Download client event IDs. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.download_client_evt_id.DOWNLOAD_CLIENT_EVT_FRAGMENT">
<span class="target" id="group__dl__client_1ggaabb2b65eab84b7897a777243fbec4cbaa9390918b083ef76c302619ce78109596"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DOWNLOAD_CLIENT_EVT_FRAGMENT</span></span></span><a class="headerlink" href="#c.download_client_evt_id.DOWNLOAD_CLIENT_EVT_FRAGMENT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Event contains a fragment. The application may return any non-zero value to stop the download. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.download_client_evt_id.DOWNLOAD_CLIENT_EVT_ERROR">
<span class="target" id="group__dl__client_1ggaabb2b65eab84b7897a777243fbec4cbaa46f57e634ec999ade6cb1ca425a5a275"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DOWNLOAD_CLIENT_EVT_ERROR</span></span></span><a class="headerlink" href="#c.download_client_evt_id.DOWNLOAD_CLIENT_EVT_ERROR" title="Permalink to this definition"></a><br /></dt>
<dd><p>An error has occurred during download and the connection to the server has been lost.</p>
<p>Error reason may be one of the following:<ul class="simple">
<li><p>ECONNRESET: socket error, peer closed connection</p></li>
<li><p>ETIMEDOUT: socket error, connection timed out</p></li>
<li><p>EHOSTDOWN: host went down during download</p></li>
<li><p>EBADMSG: HTTP response header not as expected</p></li>
<li><p>E2BIG: HTTP response header could not fit in buffer</p></li>
</ul>
</p>
<p>In case of errors on the socket during send() or recv() (ECONNRESET), returning zero from the callback will let the library attempt to reconnect to the server and download the last fragment again. Otherwise, the application may return any non-zero value to stop the download.</p>
<p>In case the download is stopped, the application should manually disconnect (<a class="reference internal" href="#group__dl__client_1gad7b57bcb40afbc67eac590a9e4fa7348"><span class="std std-ref">download_client_disconnect</span></a>) to clean up the network socket as necessary before re-attempting the download. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.download_client_evt_id.DOWNLOAD_CLIENT_EVT_DONE">
<span class="target" id="group__dl__client_1ggaabb2b65eab84b7897a777243fbec4cbaa971c88cd05f88be6990c67e4804bd5f5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DOWNLOAD_CLIENT_EVT_DONE</span></span></span><a class="headerlink" href="#c.download_client_evt_id.DOWNLOAD_CLIENT_EVT_DONE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Download complete. </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.download_client_init">
<span class="target" id="group__dl__client_1ga95e6622d190c00d790a041c8054cc748"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_init</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client" title="download_client"><span class="n"><span class="pre">download_client</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">client</span></span>, <a class="reference internal" href="#c.download_client_callback_t" title="download_client_callback_t"><span class="n"><span class="pre">download_client_callback_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">callback</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.download_client_init" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize the download client. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – <strong>[in]</strong> Client instance. </p></li>
<li><p><strong>callback</strong> – <strong>[in]</strong> Callback function.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>int</strong> – Zero on success, otherwise a negative error code. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.download_client_connect">
<span class="target" id="group__dl__client_1gaa890ed293e1d2372d36b8c77a6b15537"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_connect</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client" title="download_client"><span class="n"><span class="pre">download_client</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">host</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client_cfg" title="download_client_cfg"><span class="n"><span class="pre">download_client_cfg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.download_client_connect" title="Permalink to this definition"></a><br /></dt>
<dd><p>Establish a connection to the server. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – <strong>[in]</strong> Client instance. </p></li>
<li><p><strong>host</strong> – <strong>[in]</strong> Name of the host to connect to, null-terminated. Can include scheme and port number, defaults to HTTP or HTTPS if no scheme is provided. </p></li>
<li><p><strong>config</strong> – <strong>[in]</strong> Configuration options.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>int</strong> – Zero on success, a negative error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.download_client_start">
<span class="target" id="group__dl__client_1ga9c6e4153ef22913ea5f57aa7aed884e7"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_start</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client" title="download_client"><span class="n"><span class="pre">download_client</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">file</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">from</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.download_client_start" title="Permalink to this definition"></a><br /></dt>
<dd><p>Download a file. </p>
<p>The download is carried out in fragments of up to <span> <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_DOWNLOAD_CLIENT_HTTP_FRAG_SIZE</span></code> </span> bytes for HTTP, or <span> <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_DOWNLOAD_CLIENT_COAP_BLOCK_SIZE</span></code> </span> bytes for CoAP, which are delivered to the application via <a class="reference internal" href="#group__dl__client_1ggaabb2b65eab84b7897a777243fbec4cbaa9390918b083ef76c302619ce78109596"><span class="std std-ref">DOWNLOAD_CLIENT_EVT_FRAGMENT</span></a> events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – <strong>[in]</strong> Client instance. </p></li>
<li><p><strong>file</strong> – <strong>[in]</strong> File to download, null-terminated. </p></li>
<li><p><strong>from</strong> – <strong>[in]</strong> Offset from where to resume the download, or zero to download from the beginning.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>int</strong> – Zero on success, a negative error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.download_client_pause">
<span class="target" id="group__dl__client_1ga2e306ab9f1bb31c2ecb7c91acc5e12fd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_pause</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client" title="download_client"><span class="n"><span class="pre">download_client</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.download_client_pause" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pause the download. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – <strong>[in]</strong> Client instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.download_client_resume">
<span class="target" id="group__dl__client_1ga68a5e169d2d9d30c2024a7eba75c1eeb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_resume</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client" title="download_client"><span class="n"><span class="pre">download_client</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.download_client_resume" title="Permalink to this definition"></a><br /></dt>
<dd><p>Resume the download. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – <strong>[in]</strong> Client instance. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.download_client_file_size_get">
<span class="target" id="group__dl__client_1gadcc82980c5f6c24b358fdf9430c11011"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_file_size_get</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client" title="download_client"><span class="n"><span class="pre">download_client</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">client</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.download_client_file_size_get" title="Permalink to this definition"></a><br /></dt>
<dd><p>Retrieve the size of the file being downloaded, in bytes. </p>
<p>The file size is only available after the download has begun.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – <strong>[in]</strong> Client instance. </p></li>
<li><p><strong>size</strong> – <strong>[out]</strong> File size.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><p><strong>int</strong> – Zero on success, a negative error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.download_client_disconnect">
<span class="target" id="group__dl__client_1gad7b57bcb40afbc67eac590a9e4fa7348"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_disconnect</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client" title="download_client"><span class="n"><span class="pre">download_client</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.download_client_disconnect" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disconnect from the server. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – <strong>[in]</strong> Client instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Zero on success, a negative error code otherwise. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.download_fragment">
<span class="target" id="structdownload__fragment"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_fragment</span></span></span><a class="headerlink" href="#c.download_fragment" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;download_client.h&gt;</em></div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.download_client_evt">
<span class="target" id="structdownload__client__evt"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_evt</span></span></span><a class="headerlink" href="#c.download_client_evt" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;download_client.h&gt;</em></div>
<p>Download client event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.download_client_evt.id">
<span class="target" id="structdownload__client__evt_1a8864fa0d31da67e9339acc3e7a44d2c1"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client_evt_id" title="download_client_evt_id"><span class="n"><span class="pre">download_client_evt_id</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">id</span></span></span><a class="headerlink" href="#c.download_client_evt.id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Event ID. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client_evt.error">
<span class="target" id="structdownload__client__evt_1a16a8312b61de0b3e899c1e9d96d09201"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">error</span></span></span><a class="headerlink" href="#c.download_client_evt.error" title="Permalink to this definition"></a><br /></dt>
<dd><p>Error cause. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client_evt.fragment">
<span class="target" id="structdownload__client__evt_1ae5da04e5a1509158f05f8d4bb3555a08"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_fragment" title="download_fragment"><span class="n"><span class="pre">download_fragment</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fragment</span></span></span><a class="headerlink" href="#c.download_client_evt.fragment" title="Permalink to this definition"></a><br /></dt>
<dd><p>Fragment data. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.download_client_cfg">
<span class="target" id="structdownload__client__cfg"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client_cfg</span></span></span><a class="headerlink" href="#c.download_client_cfg" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;download_client.h&gt;</em></div>
<p>Download client configuration options. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.download_client_cfg.sec_tag">
<span class="target" id="structdownload__client__cfg_1a576a877c28f895b33a6e1fac7d0107c7"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sec_tag</span></span></span><a class="headerlink" href="#c.download_client_cfg.sec_tag" title="Permalink to this definition"></a><br /></dt>
<dd><p>TLS security tag. Pass -1 to disable TLS. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client_cfg.pdn_id">
<span class="target" id="structdownload__client__cfg_1a30c38fda06999643f58b72f3643fb20f"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pdn_id</span></span></span><a class="headerlink" href="#c.download_client_cfg.pdn_id" title="Permalink to this definition"></a><br /></dt>
<dd><p>PDN ID to be used for the download. Zero is the default PDN. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client_cfg.frag_size_override">
<span class="target" id="structdownload__client__cfg_1a60551f647bf13a15ca1a44fa1dcdb893"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">frag_size_override</span></span></span><a class="headerlink" href="#c.download_client_cfg.frag_size_override" title="Permalink to this definition"></a><br /></dt>
<dd><p>Maximum fragment size to download. 0 indicates that values configured using Kconfig shall be used. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client_cfg.set_tls_hostname">
<span class="target" id="structdownload__client__cfg_1ab06f9c3d44ffe1031a43af7752940d24"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_tls_hostname</span></span></span><a class="headerlink" href="#c.download_client_cfg.set_tls_hostname" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set hostname for TLS Server Name Indication extension </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.download_client">
<span class="target" id="structdownload__client"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">download_client</span></span></span><a class="headerlink" href="#c.download_client" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;download_client.h&gt;</em></div>
<p>Download client instance. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.fd">
<span class="target" id="structdownload__client_1ae4f22633c3b6fd502becaa3cfbc4df47"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fd</span></span></span><a class="headerlink" href="#c.download_client.fd" title="Permalink to this definition"></a><br /></dt>
<dd><p>Socket descriptor. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.remote_addr">
<span class="target" id="structdownload__client_1ac4ea2eefb4debe36e47c665ac9d0d000"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">sockaddr</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">remote_addr</span></span></span><a class="headerlink" href="#c.download_client.remote_addr" title="Permalink to this definition"></a><br /></dt>
<dd><p>Destination address storage </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.buf">
<span class="target" id="structdownload__client_1aa5251ba984eeffade62d83fa4a9448ca"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buf</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">CONFIG_DOWNLOAD_CLIENT_BUF_SIZE</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#c.download_client.buf" title="Permalink to this definition"></a><br /></dt>
<dd><p>Response buffer. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.offset">
<span class="target" id="structdownload__client_1a3c7d0441bc84537011f5aaa5f2f81223"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">offset</span></span></span><a class="headerlink" href="#c.download_client.offset" title="Permalink to this definition"></a><br /></dt>
<dd><p>Buffer offset. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.file_size">
<span class="target" id="structdownload__client_1a54c4ea4419be9f6c53ad840a67eb774b"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">file_size</span></span></span><a class="headerlink" href="#c.download_client.file_size" title="Permalink to this definition"></a><br /></dt>
<dd><p>Size of the file being downloaded, in bytes. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.progress">
<span class="target" id="structdownload__client_1a31e5e7ee0c0707c56aa6443487c88f22"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">progress</span></span></span><a class="headerlink" href="#c.download_client.progress" title="Permalink to this definition"></a><br /></dt>
<dd><p>Download progress, number of bytes downloaded. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.host">
<span class="target" id="structdownload__client_1a1560200310c2276ab5375a0c8bd95ba7"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">host</span></span></span><a class="headerlink" href="#c.download_client.host" title="Permalink to this definition"></a><br /></dt>
<dd><p>Server hosting the file, null-terminated. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.file">
<span class="target" id="structdownload__client_1a8a7d0654331c52e7a422990c71f7e770"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">file</span></span></span><a class="headerlink" href="#c.download_client.file" title="Permalink to this definition"></a><br /></dt>
<dd><p>File name, null-terminated. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.config">
<span class="target" id="structdownload__client_1a5322256e9ba5e0edca321d773246c536"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.download_client_cfg" title="download_client_cfg"><span class="n"><span class="pre">download_client_cfg</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">config</span></span></span><a class="headerlink" href="#c.download_client.config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configuration options. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.proto">
<span class="target" id="structdownload__client_1a49c7b1033715eac8cc2c47291bfc3862"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">proto</span></span></span><a class="headerlink" href="#c.download_client.proto" title="Permalink to this definition"></a><br /></dt>
<dd><p>Protocol for current download. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.has_header">
<span class="target" id="structdownload__client_1a2cf0f5f46f30435ef48fd7205bff2def"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">has_header</span></span></span><a class="headerlink" href="#c.download_client.has_header" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether the HTTP header for the current fragment has been processed. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.connection_close">
<span class="target" id="structdownload__client_1ab0da11c63bcfb167df0796f5300e1203"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">connection_close</span></span></span><a class="headerlink" href="#c.download_client.connection_close" title="Permalink to this definition"></a><br /></dt>
<dd><p>The server has closed the connection. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.block_ctx">
<span class="target" id="structdownload__client_1af787db061b31a05fb34b442f982e5725"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">coap_block_context</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">block_ctx</span></span></span><a class="headerlink" href="#c.download_client.block_ctx" title="Permalink to this definition"></a><br /></dt>
<dd><p>CoAP block context. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.pending">
<span class="target" id="structdownload__client_1a3d292d9e398de00487b2deb855c9ca62"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">coap_pending</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pending</span></span></span><a class="headerlink" href="#c.download_client.pending" title="Permalink to this definition"></a><br /></dt>
<dd><p>CoAP pending object. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.tid">
<span class="target" id="structdownload__client_1a41816cf86afc761beea4c32823a565e3"></span><span class="n"><span class="pre">k_tid_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tid</span></span></span><a class="headerlink" href="#c.download_client.tid" title="Permalink to this definition"></a><br /></dt>
<dd><p>Internal thread ID. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.thread">
<span class="target" id="structdownload__client_1a83a59e766a672fce67fba4c9a2be66d8"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">k_thread</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">thread</span></span></span><a class="headerlink" href="#c.download_client.thread" title="Permalink to this definition"></a><br /></dt>
<dd><p>Internal download thread. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.wait_for_download">
<span class="target" id="structdownload__client_1a0f4df0069ec1a673b32b04ab504dabf2"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">k_sem</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wait_for_download</span></span></span><a class="headerlink" href="#c.download_client.wait_for_download" title="Permalink to this definition"></a><br /></dt>
<dd><p>Ensure that thread is ready for download </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.callback">
<span class="target" id="structdownload__client_1af71dd0e4a8ab854442c03568b43474fa"></span><a class="reference internal" href="#c.download_client_callback_t" title="download_client_callback_t"><span class="n"><span class="pre">download_client_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">callback</span></span></span><a class="headerlink" href="#c.download_client.callback" title="Permalink to this definition"></a><br /></dt>
<dd><p>Event handler. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.download_client.set_native_tls">
<span class="target" id="structdownload__client_1a336917f77d2e056d678b03f04c09f63a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_native_tls</span></span></span><a class="headerlink" href="#c.download_client.set_native_tls" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set socket to native TLS </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fota_download.html" class="btn btn-neutral float-right" title="FOTA download" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="coap_utils.html" class="btn btn-neutral" title="CoAP utils" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>