<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Azure IoT Hub &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../_static/js/ncs.js"
></script>
<script src="../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="CoAP utils" href="coap_utils.html" />
    <link rel="prev" title="Azure FOTA" href="azure_fota.html" />
<link
  href="../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers.html">Drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bin/index.html">Binary libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth_services/index.html">Bluetooth libraries and services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bootloader/index.html">Bootloader libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caf/index.html">Common Application Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug/index.html">Debug libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dfu/index.html">DFU libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gazell/index.html">Gazell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modem/index.html">Modem libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mpsl/index.html">Multiprotocol Service Layer libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Libraries for networking</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="aws_fota.html">AWS FOTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="aws_iot.html">AWS IoT</a></li>
<li class="toctree-l3"><a class="reference internal" href="aws_jobs.html">AWS jobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="azure_fota.html">Azure FOTA</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Azure IoT Hub</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites-for-connecting-to-azure-iot-hub">Prerequisites for connecting to Azure IoT Hub</a></li>
<li class="toctree-l4"><a class="reference internal" href="#application-integration">Application integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-documentation">API documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="coap_utils.html">CoAP utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="download_client.html">Download client</a></li>
<li class="toctree-l3"><a class="reference internal" href="fota_download.html">FOTA download</a></li>
<li class="toctree-l3"><a class="reference internal" href="ftp_client.html">FTP client</a></li>
<li class="toctree-l3"><a class="reference internal" href="icalendar_parser.html">iCalendar parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="lwm2m_client_utils.html">LwM2M client utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="lwm2m_location_assistance.html">LwM2M location assistance</a></li>
<li class="toctree-l3"><a class="reference internal" href="mqtt_helper.html">MQTT helper</a></li>
<li class="toctree-l3"><a class="reference internal" href="multicell_location.html">Multicell location</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud.html">nRF Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_agps.html">nRF Cloud A-GPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_alerts.html">nRF Cloud Alerts</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_location.html">nRF Cloud location</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_pgps.html">nRF Cloud P-GPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_cloud_rest.html">nRF Cloud REST</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest_client.html">REST client</a></li>
<li class="toctree-l3"><a class="reference internal" href="wifi_credentials.html">Wi-Fi credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="wifi_mgmt_ext.html">Wi-Fi management extension</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../nfc/index.html">Libraries for NFC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nrf_rpc/index.html">nRF RPC libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../others/index.html">Other libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tfm/index.html">TF-M libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zigbee/index.html">Libraries for Zigbee</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Libraries</a></li>
          <li class="breadcrumb-item"><a href="index.html">Libraries for networking</a></li>
      <li class="breadcrumb-item active">Azure IoT Hub</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/libraries/networking/azure_iot_hub.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="azure-iot-hub">
<span id="lib-azure-iot-hub"></span><h1>Azure IoT Hub<a class="headerlink" href="#azure-iot-hub" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#prerequisites-for-connecting-to-azure-iot-hub" id="id10">Prerequisites for connecting to Azure IoT Hub</a></p>
<ul>
<li><p><a class="reference internal" href="#provisioning-of-the-certificates" id="id11">Provisioning of the certificates</a></p></li>
<li><p><a class="reference internal" href="#configuring-the-library" id="id12">Configuring the library</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#application-integration" id="id13">Application integration</a></p>
<ul>
<li><p><a class="reference internal" href="#initializing-the-library" id="id14">Initializing the library</a></p></li>
<li><p><a class="reference internal" href="#using-the-device-provisioning-service" id="id15">Using the Device Provisioning Service</a></p></li>
<li><p><a class="reference internal" href="#connecting-to-azure-iot-hub" id="id16">Connecting to Azure IoT Hub</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration" id="id17">Configuration</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id18">API documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#azure-iot-hub-api" id="id19">Azure IoT Hub API</a></p></li>
<li><p><a class="reference internal" href="#azure-iot-hub-dps-api" id="id20">Azure IoT Hub DPS API</a></p></li>
</ul>
</li>
</ul>
</div>
<p>The Azure IoT Hub library provides an API to connect to an <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/">Azure IoT Hub</a> instance and interact with it.
It connects to Azure IoT Hub using MQTT over TLS.</p>
<p>Optionally, the library supports <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-dps/">Azure IoT Hub Device Provisioning Service (DPS)</a>.
DPS can be enabled at compile time to make use of the device provisioning services for onboarding of devices to Azure IoT Hub.
When the device provisioning is complete, the library automatically connects to the assigned Azure IoT Hub.</p>
<p>The library also has integrated support for a proprietary FOTA solution.
For more information on Azure FOTA, see the documentation on <a class="reference internal" href="azure_fota.html#lib-azure-fota"><span class="std std-ref">Azure FOTA</span></a> library and <a class="reference internal" href="../../samples/nrf9160/azure_fota/README.html#azure-fota-sample"><span class="std std-ref">nRF9160: Azure FOTA</span></a> sample.</p>
<p>The library uses <a class="reference external" href="https://azure.github.io/azure-sdk-for-c/">Azure SDK for Embedded C</a> for message processing and other operations.
For more information on how Azure SDK for Embedded C is integrated in this library, see <a class="reference external" href="https://github.com/nrfconnect/azure-sdk-for-c/blob/308c171cb4b5eed266649012a68406487ec81fb2/sdk/docs/iot/README.md">Azure SDK for Embedded C IoT client libraries</a>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If the server sends a device-bound message when the device is unavailable for a period of time, for instance while in LTE Power Saving Mode, the server will most likely terminate the TCP connection.
This will result in additional data traffic as the device has to reconnect to the server, which in turn requires a new TLS handshake and MQTT connection establishment.</p>
</div>
<section id="prerequisites-for-connecting-to-azure-iot-hub">
<span id="prereq-connect-to-azure-iot-hub"></span><h2><a class="toc-backref" href="#id10">Prerequisites for connecting to Azure IoT Hub</a><a class="headerlink" href="#prerequisites-for-connecting-to-azure-iot-hub" title="Permalink to this heading"></a></h2>
<p>In order to connect to Azure IoT Hub, an Azure account and an Azure IoT Hub instance must first be created and configured.
See <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-create-through-portal">Creating an Azure IoT Hub instance using the Azure portal</a> for more information.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you do not use DPS to provision devices to your IoT Hub, make sure that you select <code class="docutils literal notranslate"><span class="pre">X.509</span> <span class="pre">CA</span> <span class="pre">Signed</span></code> as the <em>Authentication type</em> while <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-create-through-portal#register-a-new-device-in-the-iot-hub">Registering the device with Azure IoT Hub</a>.</p>
</div>
<p>The connection to Azure IoT Hub with MQTT is secured using TLS.
For testing purposes, see <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/tutorial-x509-scripts">Creating Azure IoT Hub certificates</a> for the steps to create certificates and a private key for the leaf device, and to register the generated test root certificate to be used with an IoT hub.</p>
<p>The Azure IoT Hub library requires provisioning of the following certificates and a private key for a successful TLS connection:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt.pem">Baltimore CyberTrust Root Certificate</a> - Server certificate, used to verify the server’s certificate while connecting.</p></li>
<li><p>Public device certificate - generated by the procedures described in <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/tutorial-x509-scripts">Creating Azure IoT Hub certificates</a> , used by Azure IoT Hub to authenticate the device.</p></li>
<li><p>Private key of the device.</p></li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Azure has started the process of migrating their IoT Hub and DPS server certificates from <a class="reference external" href="https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt.pem">Baltimore CyberTrust Root Certificate</a> to <a class="reference external" href="https://cacerts.digicert.com/DigiCertGlobalG2TLSRSASHA2562020CA1.crt.pem">DigiCert Global Root G2</a>.
Azure advises to have both Baltimore CyberTrust Root and DigiCert Global Root G2 certificates for all devices to avoid disruption of service during the transition.
Refer to <a class="reference external" href="https://techcommunity.microsoft.com/t5/internet-of-things-blog/azure-iot-tls-critical-changes-are-almost-here-and-why-you/ba-p/2393169">Azure IoT TLS: Critical changes</a> for updated information and timeline.
Due to this, it is recommended to provision the DigiCert Root G2 certificate to a secondary security tag set by the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SECONDARY_SEC_TAG</span></code> option.
This ensures that the device can connect after the transition.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The location and name of the generated public device certificate and private key files vary depending on the method you use for the credential generation.
For PowerShell scripts, the device certificate is called <code class="file docutils literal notranslate"><span class="pre">mydevice-public.pem</span></code> and the private key is <code class="file docutils literal notranslate"><span class="pre">mydevice-private.pem</span></code>.
These files are located in the working directory with the other generated files.</p>
<p>For bash scripts, the public device certificate is called <code class="file docutils literal notranslate"><span class="pre">new-device.cert.pem</span></code> and is located in a directory called <code class="file docutils literal notranslate"><span class="pre">certs</span></code> within the <code class="file docutils literal notranslate"><span class="pre">script</span></code> directory.
The private key is called <code class="file docutils literal notranslate"><span class="pre">new-device.key.pem</span></code> and located in a directory called <code class="file docutils literal notranslate"><span class="pre">private</span></code> within the <code class="file docutils literal notranslate"><span class="pre">script</span></code> directory.</p>
<p>The file and directory names may change if Azure changes their scripts.</p>
</div>
<section id="provisioning-of-the-certificates">
<span id="azure-iot-hub-flash-certs"></span><h3><a class="toc-backref" href="#id11">Provisioning of the certificates</a><a class="headerlink" href="#provisioning-of-the-certificates" title="Permalink to this heading"></a></h3>
<p>To provision the certificates and the private key to the nRF9160 modem, complete the following steps:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop/Download#infotabs">Download nRF Connect for Desktop</a>.</p></li>
<li><p>Update the modem firmware on the onboard modem of the nRF9160-based device to the latest version by following the steps in <a class="reference internal" href="../../working_with_nrf/nrf91/nrf9160_gs.html#nrf9160-gs-updating-fw-modem"><span class="std std-ref">Updating the modem firmware</span></a>.</p></li>
<li><p>Build and program the <a class="reference internal" href="../../samples/nrf9160/at_client/README.html#at-client-sample"><span class="std std-ref">nRF9160: AT Client</span></a> sample to the nRF9160-based device as explained in <a class="reference internal" href="../../getting_started/programming.html#gs-programming"><span class="std std-ref">Building and programming an application</span></a>.</p></li>
<li><p>Launch the <a class="reference external" href="https://infocenter.nordicsemi.com/topic/ug_link_monitor/UG/link_monitor/lm_intro.html">LTE Link Monitor</a> application, which is part of <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop">nRF Connect for Desktop</a>.</p></li>
<li><p>Click <span class="guilabel">CERTIFICATE MANAGER</span> located at the upper right corner.</p></li>
<li><p>Copy the server root certificate into the <code class="docutils literal notranslate"><span class="pre">CA</span> <span class="pre">certificate</span></code> entry.</p></li>
<li><p>Copy and paste the device certificate and the private key into the respective entries (<code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">certificate</span></code>, <code class="docutils literal notranslate"><span class="pre">Private</span> <span class="pre">key</span></code>).</p></li>
<li><p>Select a desired security tag (any positive integer in the range of 0 to 2147483647) and click <span class="guilabel">Update certificates</span>.</p></li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The default security tag set by the <strong>CERTIFICATE MANAGER</strong> <em>16842753</em> is reserved for communications with <a class="reference internal" href="nrf_cloud.html#lib-nrf-cloud"><span class="std std-ref">nRF Cloud</span></a>.
Overwriting this security tag entry will require you to flash new certificates if you want to establish a connection to the nRF Cloud.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The chosen security tag while provisioning the certificates must be same as the security tag configured by the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEC_TAG</span></code> option.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If more than one root server certificate is used, the second one can be provisioned to a different security tag and configured in the application using the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SECONDARY_SEC_TAG</span></code> Kconfig option.
The modem will check both security tags if necessary when verifying the server’s certificate.</p>
</div>
</section>
<section id="configuring-the-library">
<h3><a class="toc-backref" href="#id12">Configuring the library</a><a class="headerlink" href="#configuring-the-library" title="Permalink to this heading"></a></h3>
<p>You can configure the library to connect to Azure IoT Hub with or without using DPS.</p>
<section id="configuration-without-using-dps">
<h4>Configuration without using DPS<a class="headerlink" href="#configuration-without-using-dps" title="Permalink to this heading"></a></h4>
<p>To connect to Azure IoT Hub without using DPS, complete the following minimum required configuration:</p>
<ol class="arabic">
<li><p>In the <a class="reference external" href="https://portal.azure.com/">Azure Portal</a>, navigate to <span class="guilabel">IoT Hub</span> and select the desired IoT hub.</p></li>
<li><p>In the overview page, locate and copy the <code class="docutils literal notranslate"><span class="pre">Hostname</span></code> and configure <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_HOSTNAME</span></code> to this address.</p>
<p>The hostname can also be set at run time.</p>
</li>
<li><p>Set the option <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DEVICE_ID</span></code> to the device ID.</p>
<p>The device ID must match with the one used while creating the certificates.
You can also set the device ID at run time by populating the <code class="docutils literal notranslate"><span class="pre">device_id</span></code> member of the <a class="reference internal" href="#c.azure_iot_hub_config" title="azure_iot_hub_config"><code class="xref c c-struct docutils literal notranslate"><span class="pre">azure_iot_hub_config</span></code></a> structure passed to the <a class="reference internal" href="#c.azure_iot_hub_connect" title="azure_iot_hub_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_connect()</span></code></a> function when connecting.
If the <code class="docutils literal notranslate"><span class="pre">device_id.size</span></code> buffer size is zero, the compile-time option <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DEVICE_ID`</span></code> is used.</p>
</li>
<li><p>Make sure that the device is already registered with your Azure IoT Hub, or follow the instructions in <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-create-through-portal#register-a-new-device-in-the-iot-hub">Registering the device with Azure IoT Hub</a>.</p></li>
<li><p>Set the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEC_TAG</span></code> option to the security tag used in <a class="reference internal" href="#azure-iot-hub-flash-certs"><span class="std std-ref">Provisioning of the certificates</span></a>.</p>
<p>Optionally, set the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEC_TAG</span></code> option if multiple server certificates are provisioned.</p>
</li>
</ol>
</section>
<section id="configuration-using-dps">
<span id="dps-config"></span><h4>Configuration using DPS<a class="headerlink" href="#configuration-using-dps" title="Permalink to this heading"></a></h4>
<p>To connect to Azure IoT Hub using DPS, complete the following steps:</p>
<ol class="arabic">
<li><p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-dps/quick-setup-auto-provision">Set up an Azure IoT Hub Device Provisioning Service (DPS) instance</a> and obtain the ID scope.</p></li>
<li><p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-dps/how-to-verify-certificates">Add certificates to the DPS instance</a>.</p></li>
<li><p>Create an <em>enrollment group</em> as described in <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-dps/how-to-manage-enrollments">Device enrollments with Azure Portal</a> and link it to your IoT hub. Select the certificate added in the previous step as the <em>Primary certificate​​​​​​​</em>.</p></li>
<li><p>Enable <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS</span></code>.</p></li>
<li><p>In the <a class="reference external" href="https://portal.azure.com/">Azure Portal</a>, click <span class="guilabel">Device Provisioning Services</span> and select the DPS instance to use.</p></li>
<li><p>In the overview page, locate and copy the <code class="docutils literal notranslate"><span class="pre">ID</span> <span class="pre">Scope</span></code> and set the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_ID_SCOPE</span></code> option to this string.</p>
<p>Alternatively, you can set the registration ID at run time.</p>
</li>
<li><p>Set the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_REG_ID</span></code> option to the registration ID.</p>
<p>You can also set the registration ID at run time.</p>
</li>
<li><p>Set <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEC_TAG</span></code> to the security tag used while <a class="reference internal" href="#azure-iot-hub-flash-certs"><span class="std std-ref">Provisioning of the certificates</span></a>.
Optionally, set the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEC_TAG</span></code> option if multiple server certificates are provisioned.</p></li>
</ol>
</section>
</section>
</section>
<section id="application-integration">
<h2><a class="toc-backref" href="#id13">Application integration</a><a class="headerlink" href="#application-integration" title="Permalink to this heading"></a></h2>
<section id="initializing-the-library">
<h3><a class="toc-backref" href="#id14">Initializing the library</a><a class="headerlink" href="#initializing-the-library" title="Permalink to this heading"></a></h3>
<p>The library is initialized by calling the <a class="reference internal" href="#c.azure_iot_hub_init" title="azure_iot_hub_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_init()</span></code></a> function.
The initialization must be successful to make the other APIs in the library available for the application.
An event handler is passed as the only argument to the <a class="reference internal" href="#c.azure_iot_hub_init" title="azure_iot_hub_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_init()</span></code></a> function.
The library calls this function with data associated to the application, such as incoming data and other events.
For an exhaustive list of event types and associated data, see <a class="reference internal" href="#c.azure_iot_hub_evt_type" title="azure_iot_hub_evt_type"><code class="xref c c-enum docutils literal notranslate"><span class="pre">azure_iot_hub_evt_type</span></code></a>.</p>
</section>
<section id="using-the-device-provisioning-service">
<h3><a class="toc-backref" href="#id15">Using the Device Provisioning Service</a><a class="headerlink" href="#using-the-device-provisioning-service" title="Permalink to this heading"></a></h3>
<p>You can use the Azure IoT Hub Device Provisioning Service to provision the device to an IoT Hub.
When the registration process has completed successfully, the device receives its assigned hostname and device ID to use when connecting to Azure IoT Hub.
The assigned hostname and device ID are stored to the non-volatile memory on the device and are available also after a reset and power outage.</p>
<p>This code example shows how to configure and use DPS:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">dps_handler</span><span class="p">(</span><span class="k">enum</span><span class="w"> </span><span class="n">azure_iot_hub_dps_reg_status</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">   </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="k">case</span><span class="w"> </span><span class="no">AZURE_IOT_HUB_DPS_REG_STATUS_NOT_STARTED</span><span class="p">:</span>
<span class="w">      </span><span class="n">LOG_INF</span><span class="p">(</span><span class="s">&quot;AZURE_IOT_HUB_DPS_REG_STATUS_NOT_STARTED&quot;</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">   </span><span class="k">case</span><span class="w"> </span><span class="no">AZURE_IOT_HUB_DPS_REG_STATUS_ASSIGNING</span><span class="p">:</span>
<span class="w">      </span><span class="n">LOG_INF</span><span class="p">(</span><span class="s">&quot;AZURE_IOT_HUB_DPS_REG_STATUS_ASSIGNING&quot;</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">   </span><span class="k">case</span><span class="w"> </span><span class="no">AZURE_IOT_HUB_DPS_REG_STATUS_ASSIGNED</span><span class="p">:</span>
<span class="w">      </span><span class="n">LOG_INF</span><span class="p">(</span><span class="s">&quot;AZURE_IOT_HUB_DPS_REG_STATUS_ASSIGNED&quot;</span><span class="p">);</span>

<span class="w">      </span><span class="cm">/* Act on assignment */</span>
<span class="w">      </span><span class="n">k_sem_give</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dps_assigned_sem</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">   </span><span class="k">case</span><span class="w"> </span><span class="no">AZURE_IOT_HUB_DPS_REG_STATUS_FAILED</span><span class="p">:</span>
<span class="w">      </span><span class="n">LOG_INF</span><span class="p">(</span><span class="s">&quot;ZURE_IOT_HUB_DPS_REG_STATUS_FAILED&quot;</span><span class="p">);</span>

<span class="w">      </span><span class="cm">/* Act on registration failure */</span>
<span class="w">      </span><span class="n">k_sem_give</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dps_registration_failed_sem</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">   </span><span class="k">default</span><span class="o">:</span>
<span class="w">      </span><span class="n">LOG_WRN</span><span class="p">(</span><span class="s">&quot;Unhandled DPS registration status: %d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>

<span class="p">...</span>

<span class="kt">int</span><span class="w"> </span><span class="n">err</span><span class="p">;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">azure_iot_hub_buf</span><span class="w"> </span><span class="n">assigned_hostname</span><span class="p">;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">azure_iot_hub_buf</span><span class="w"> </span><span class="n">assigned_device_id</span><span class="p">;</span>
<span class="w">     </span><span class="k">struct</span><span class="w"> </span><span class="nc">azure_iot_hub_dps_config</span><span class="w"> </span><span class="n">dps_cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="p">.</span><span class="n">handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dps_handler</span><span class="p">,</span>

<span class="w">   </span><span class="cm">/* Can be left out to use CONFIG_AZURE_IOT_HUB_DPS_REG_ID instead. */</span>
<span class="w">             </span><span class="p">.</span><span class="n">reg_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="p">.</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">device_id_buf</span><span class="p">,</span>
<span class="w">                     </span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">device_id_len</span><span class="p">,</span>
<span class="w">             </span><span class="p">},</span>

<span class="w">   </span><span class="cm">/* Can be left out to use CONFIG_AZURE_IOT_HUB_DPS_ID_SCOPE instead. */</span>
<span class="w">   </span><span class="p">.</span><span class="n">id_scope</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                     </span><span class="p">.</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id_scope_buf</span><span class="p">,</span>
<span class="w">                     </span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">id_scope_len</span><span class="p">,</span>
<span class="w">             </span><span class="p">},</span>
<span class="w">     </span><span class="p">};</span>

<span class="w">     </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">azure_iot_hub_dps_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dps_cfg</span><span class="p">);</span>
<span class="cm">/* Error handling */</span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">azure_iot_hub_dps_start</span><span class="p">();</span>
<span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">LOG_INF</span><span class="p">(</span><span class="s">&quot;The DPS process has started&quot;</span><span class="p">);</span>

<span class="w">   </span><span class="cm">/* Wait for the registration process to complete. */</span>
<span class="w">   </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k_sem_take</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dps_done_sem</span><span class="p">,</span><span class="w"> </span><span class="n">K_SECONDS</span><span class="p">(</span><span class="n">SOME_TIMEOUT</span><span class="p">));</span>
<span class="w">   </span><span class="cm">/* Error handling */</span>
<span class="w">     </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">err</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="o">-</span><span class="n">EALREADY</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="n">LOG_INF</span><span class="p">(</span><span class="s">&quot;Already assigned to an IoT hub, skipping DPS&quot;</span><span class="p">);</span>
<span class="w">     </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="cm">/* Error handling */</span>
<span class="w">     </span><span class="p">}</span>
<span class="w">     </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">azure_iot_hub_dps_hostname_get</span><span class="p">(</span><span class="n">assigned_hostname</span><span class="p">);</span>
<span class="cm">/* Error handling */</span>

<span class="w">     </span><span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">azure_iot_hub_dps_device_id_get</span><span class="p">(</span><span class="n">assigned_device_id</span><span class="p">);</span>
<span class="cm">/* Error handling */</span>

<span class="cm">/* Use the hostname and device ID to connect to IoT Hub. */</span>
</pre></div>
</div>
<p>After successfully registering the device, the application can proceed to connect to the assigned IoT Hub using the obtained device ID.</p>
<p>When a device has been assigned to an IoT Hub and the information is stored to the non-volatile memory, the DPS APIs always return the stored information and do not trigger a new registration.
To delete the stored assignment information, call the <code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_dps_reset()</span></code> function.
Alternatively, you can call the functions <code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_dps_hostname_delete()</span></code> or <code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_dps_device_id_delete()</span></code> to delete specific information.
After calling the <code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_dps_reset()</span></code> function, the library must be initialized again.
After the initialization, a new registration with the DPS can be started by calling the <code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_dps_start()</span></code> function.</p>
<p>The DPS APIs are documented in the <a class="reference internal" href="#azure-iot-hub-dps-api"><span class="std std-ref">Azure IoT Hub DPS API</span></a> section.</p>
</section>
<section id="connecting-to-azure-iot-hub">
<h3><a class="toc-backref" href="#id16">Connecting to Azure IoT Hub</a><a class="headerlink" href="#connecting-to-azure-iot-hub" title="Permalink to this heading"></a></h3>
<p>After the initialization, calling the <a class="reference internal" href="#c.azure_iot_hub_connect" title="azure_iot_hub_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_connect()</span></code></a> function connects the device to the configured IoT hub or DPS instance, depending on the configuration.
The initial TLS handshake takes a few seconds to complete, depending on the network conditions and the TLS cipher suite used.
During the TLS handshake, the <a class="reference internal" href="#c.azure_iot_hub_connect" title="azure_iot_hub_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_connect()</span></code></a> function blocks.
Consider this when deciding the context from which the API is called.
Optionally, DPS registration can be run automatically as part of the call to the <a class="reference internal" href="#c.azure_iot_hub_connect" title="azure_iot_hub_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_connect()</span></code></a> function.
Note that the <a class="reference internal" href="#c.azure_iot_hub_connect" title="azure_iot_hub_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_connect()</span></code></a> function blocks when DPS registration is pending.
Running DPS as part of the <a class="reference internal" href="#c.azure_iot_hub_connect" title="azure_iot_hub_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_connect()</span></code></a> function also limits the DPS configuration options as follows:</p>
<ul class="simple">
<li><p>The device ID is used as registration ID when registering with the DPS server.</p></li>
<li><p>The ID scope is set in the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_ID_SCOPE</span></code> option.</p></li>
</ul>
<p>Use the DPS APIs directly if you need more control over the DPS registration process.</p>
<p>When using the <a class="reference internal" href="#c.azure_iot_hub_connect" title="azure_iot_hub_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_connect()</span></code></a> function, you can choose to provide the hostname to the IoT Hub and device ID at run time, or let the library use Kconfig options.</p>
<p>Here is an example for setting the hostname and device ID at run time:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">azure_iot_hub_config</span><span class="w"> </span><span class="n">cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="p">.</span><span class="n">hostname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">.</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hostname_buffer</span><span class="p">,</span>
<span class="w">      </span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hostname_length</span><span class="p">,</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="p">.</span><span class="n">device_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">.</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">device_id_buffer</span><span class="p">,</span>
<span class="w">      </span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">device_id_length</span><span class="p">,</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="p">.</span><span class="n">use_dps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span>
<span class="p">};</span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">azure_iot_hub_connect</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cfg</span><span class="p">);</span>
<span class="cm">/* Error handling */</span>
</pre></div>
</div>
<p>You can pass <code class="docutils literal notranslate"><span class="pre">NULL</span></code> or a zeroed out configuration to the <a class="reference internal" href="#c.azure_iot_hub_connect" title="azure_iot_hub_connect"><code class="xref c c-func docutils literal notranslate"><span class="pre">azure_iot_hub_connect()</span></code></a> function.
The library uses the values for hostname and device ID from the Kconfig options <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_HOSTNAME</span></code> and <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DEVICE_ID</span></code>, respectively.</p>
<p>This code example uses a Kconfig value for the device ID (and by extension DPS registration ID) and runs DPS to acquire the assigned IoT Hub hostname and assigned device ID.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">azure_iot_hub_config</span><span class="w"> </span><span class="n">cfg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="p">.</span><span class="n">use_dps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span>
<span class="p">};</span>

<span class="n">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">azure_iot_hub_connect</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cfg</span><span class="p">);</span>
<span class="cm">/* Error handling */</span>
</pre></div>
</div>
<p>After a successful connection, the library automatically subscribes to the following standard Azure IoT Hub MQTT topics (See <a class="reference external" href="https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-mqtt-support">Azure IoT Hub MQTT protocol support</a> for details):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devices/&lt;device</span> <span class="pre">ID&gt;/messages/devicebound/#</span></code> (cloud-to-device messages)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$iothub/twin/PATCH/properties/desired/#</span></code> (desired properties update notifications)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$iothub/twin/res/#</span></code> (operation responses)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$iothub/methods/POST/#</span></code> (direct method requests)</p></li>
</ul>
<p>Currently, the library does not support persistent MQTT sessions.
Hence subscriptions are requested for each connection to the IoT hub.</p>
<p>For more information about the available APIs, see the <a class="reference internal" href="#azure-iot-hub-api"><span class="std std-ref">Azure IoT Hub API</span></a> section.</p>
</section>
</section>
<section id="configuration">
<h2><a class="toc-backref" href="#id17">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>To use the Azure IoT Hub library, you must enable the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB</span></code> Kconfig option.</p>
<p>You can configure the following options when using this library:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_HOSTNAME</span></code> - Sets the Azure IoT Hub host name. Note that the hostname can also be provided at run time.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DEVICE_ID</span></code> - Configures the device ID. The device ID can also be set at run time.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_USER_NAME_BUF_SIZE</span></code> - Sets the user name buffer size. You can adjust the  buffer size to reduce stack usage, if you know the approximate size of your device ID.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_AUTO_DEVICE_TWIN_REQUEST</span></code> - Automatically requests the device twin upon connection to an IoT Hub.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_TOPIC_MAX_LEN</span></code> - Sets the maximum topic length. The topic buffers are allocated on the stack. You may have to adjust this option to match with your device ID length.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_MSG_PROPERTY_RECV_MAX_COUNT</span></code> - Sets the maximum number of message properties that can be parsed from an incoming message’s topic.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_MSG_PROPERTY_BUFFER_SIZE</span></code> - Sets the size of the internal message property buffer used when sending messages with message properties, allocated on the stack. You can adjust this to fit your needs.</p></li>
</ul>
<p>MQTT helper library specific options:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEND_TIMEOUT</span></code> - Enables timeout when sending data to an IoT Hub.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEND_TIMEOUT_SEC</span></code> - Sets the send timeout value (in seconds) to use when sending data.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SEC_TAG</span></code> - Sets the security tag where the Azure IoT Hub certificates are stored.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_SECONDARY_SEC_TAG</span></code> - Sets the secondary security tag that can be used for a second CA root certificate.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_PORT</span></code> - Sets the TCP port number to connect to.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_RX_TX_BUFFER_SIZE</span></code> - Sets the size of the MQTT RX and TX buffer that limits the message size, excluding the payload size.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_PAYLOAD_BUFFER_LEN</span></code> - Sets the MQTT payload buffer size.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_STACK_SIZE</span></code> - Sets the stack size for the internal thread in the library.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MQTT_HELPER_NATIVE_TLS</span></code> - Configures the socket to be native for TLS instead of offloading TLS operations to the modem.</p></li>
</ul>
<p>DPS-specific configuration:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS</span></code> - Enables Azure IoT Hub DPS.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_HOSTNAME</span></code> - Hostname of the DPS server.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_REG_ID</span></code> - Registration ID to use in the registration request to DPS.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_HOSTNAME_MAX_LEN</span></code> - Maximum length of the assigned hostname received from DPS.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_DEVICE_ID_MAX_LEN</span></code> - Maximum length of the assigned device ID received from DPS.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_TOPIC_BUFFER_SIZE</span></code> - Size of the internal topic buffers in the DPS library.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_USER_NAME_BUFFER_SIZE</span></code> - User name buffer size.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_ID_SCOPE</span></code> - Sets the Azure IoT Hub DPS ID scope that is used while provisioning the device.</p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_OPERATION_ID_BUFFER_SIZE</span></code> - Size of the operation ID buffer. The operation ID is received from the IoT Hub during registration.</p></li>
</ul>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id18">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<section id="azure-iot-hub-api">
<span id="id1"></span><h3><a class="toc-backref" href="#id19">Azure IoT Hub API</a><a class="headerlink" href="#azure-iot-hub-api" title="Permalink to this heading"></a></h3>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">include/net/azure_iot_hub.h</span></code></div>
<div class="line">Source files: <code class="file docutils literal notranslate"><span class="pre">subsys/net/lib/azure_iot_hub/src/azure_iot_hub.c</span></code></div>
</div>
</section>
<section id="azure-iot-hub-dps-api">
<span id="id2"></span><h3><a class="toc-backref" href="#id20">Azure IoT Hub DPS API</a><a class="headerlink" href="#azure-iot-hub-dps-api" title="Permalink to this heading"></a></h3>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">include/net/azure_iot_hub_dps.h</span></code></div>
<div class="line">Source files: <code class="file docutils literal notranslate"><span class="pre">subsys/net/lib/azure_iot_hub/src/azure_iot_hub_dps.c</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__azure__iot__hub"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">azure_iot_hub</span></span></dt>
<dd><p>Library to connect a device to Azure IoT Hub. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_handler_t">
<span class="target" id="group__azure__iot__hub_1ga0f853455330a075ffbc70f2a81ecebf9"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_evt_handler_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_evt" title="azure_iot_hub_evt"><span class="n"><span class="pre">azure_iot_hub_evt</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">evt</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.azure_iot_hub_evt_handler_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Azure IoT Hub library event handler. </p>
<dl class="field-list simple">
<dt class="field-odd">Param evt</dt>
<dd class="field-odd"><p>Pointer to event structure. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type">
<span class="target" id="group__azure__iot__hub_1ga740d54c5c5f5eb2adeb662501127c6a7"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_evt_type</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Azure IoT Hub notification events used to notify the user. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_CONNECTING">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a0b9a8ae41eda3bc678775c5ed54643c2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_CONNECTING</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_CONNECTING" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connecting to Azure IoT Hub. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_CONNECTED">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a207765676a45eef151ed20cc9f551780"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_CONNECTED</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_CONNECTED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connected to Azure IoT Hub. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_CONNECTION_FAILED">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a7fe8834fd1fee34c3bda2f8099d0def4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_CONNECTION_FAILED</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_CONNECTION_FAILED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Connection attempt failed. The reported error code from the IoT Hub is available in the <code class="docutils literal notranslate"><span class="pre">data.err</span></code> member in the event structure. The error codes correspond to return codes in MQTT CONNACK messages. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_READY">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a8fe2babab301f6daa4a81fc602bbe9a6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_READY</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_READY" title="Permalink to this definition"></a><br /></dt>
<dd><p>Azure IoT Hub connection established and ready to receive data. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_DISCONNECTED">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a51f54d5574551f5ef0e078d36a502a0d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_DISCONNECTED</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_DISCONNECTED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disconnected from Azure IoT Hub. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_DATA_RECEIVED">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a40a443e9c40cfa50732c974749cb59d1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_DATA_RECEIVED</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_DATA_RECEIVED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Device-bound data received from Azure IoT Hub. The event contains the received data in the <code class="docutils literal notranslate"><span class="pre">data.msg</span></code> member, and the topic it was received on in the <code class="docutils literal notranslate"><span class="pre">topic</span></code> member, including message properties in <code class="docutils literal notranslate"><span class="pre">topic.properties</span></code>. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_PUBACK">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a7975bc201fbabc3b7a947c75f46bdaf9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_PUBACK</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_PUBACK" title="Permalink to this definition"></a><br /></dt>
<dd><p>Acknowledgment for data sent to Azure IoT Hub. The acknowledged message ID is in <code class="docutils literal notranslate"><span class="pre">data.message_id</span></code>. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_PINGRESP">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a269f34768faf476956a5502e299e06ac"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_PINGRESP</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_PINGRESP" title="Permalink to this definition"></a><br /></dt>
<dd><p>Acknowledgment for ping request message sent to Azure IoT Hub. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_TWIN_RECEIVED">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7ab9cb7fcc00b4ae00fc7f697f9b9a405f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_TWIN_RECEIVED</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_TWIN_RECEIVED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Device twin has been received. The event contains the received data in the <code class="docutils literal notranslate"><span class="pre">data.msg</span></code> member, and the topic it was received on in the <code class="docutils literal notranslate"><span class="pre">topic</span></code> member, including message properties in <code class="docutils literal notranslate"><span class="pre">topic.properties</span></code>. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_TWIN_DESIRED_RECEIVED">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7ac2d2d0b0f19c7e3f9ae82a43807b7665"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_TWIN_DESIRED_RECEIVED</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_TWIN_DESIRED_RECEIVED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Device twin has received a desired property update. The event contains the received data in the <code class="docutils literal notranslate"><span class="pre">data.msg</span></code> member, and the topic it was received on in the <code class="docutils literal notranslate"><span class="pre">topic</span></code> member, including message properties in <code class="docutils literal notranslate"><span class="pre">topic.properties</span></code>. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_TWIN_RESULT_SUCCESS">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a490098d79e3b93acebe9255bf894cd1d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_TWIN_RESULT_SUCCESS</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_TWIN_RESULT_SUCCESS" title="Permalink to this definition"></a><br /></dt>
<dd><p>Device twin update successful. The request ID and status are contained in the data.result member of the event structure. The received payload is in the <code class="docutils literal notranslate"><span class="pre">data.msg</span></code> member, and the topic it was received on is in the <code class="docutils literal notranslate"><span class="pre">topic</span></code> member. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_TWIN_RESULT_FAIL">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a1252457f62ef48cafe6eace1a45f7c85"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_TWIN_RESULT_FAIL</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_TWIN_RESULT_FAIL" title="Permalink to this definition"></a><br /></dt>
<dd><p>Device twin update failed. The request ID and status are contained in the <code class="docutils literal notranslate"><span class="pre">data.result</span></code> member of the event structure. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_DIRECT_METHOD">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a3ba3231fcf61b86f0a6675d3efc670c5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_DIRECT_METHOD</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_DIRECT_METHOD" title="Permalink to this definition"></a><br /></dt>
<dd><p>Direct method invoked from the cloud side. <div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    The event contains the method data in the ``data.method`` member, and the topic it was
    received on in the ``topic`` member.

    @note After a direct method has been executed, @a azure_iot_hub_method_respond must be
      called to report back the result of the method invocation.
</pre></div>
</div>
 </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_START">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a5481ac4b7a5ad3863d66d201f3808a42"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_FOTA_START</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_START" title="Permalink to this definition"></a><br /></dt>
<dd><p>FOTA download starting. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_DONE">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a479408acbdf96ac80746be77d8487678"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_FOTA_DONE</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_DONE" title="Permalink to this definition"></a><br /></dt>
<dd><p>FOTA update done, reboot required to apply update. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_ERASE_PENDING">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a459389eccfd1797ae8fa0574c43ddcf1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_FOTA_ERASE_PENDING</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_ERASE_PENDING" title="Permalink to this definition"></a><br /></dt>
<dd><p>FOTA erase pending. On nRF9160-based devices this is typically caused by an active LTE connection preventing erase operation. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_ERASE_DONE">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7ac4a68d2bb8b8fe7d84660dac56b9748d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_FOTA_ERASE_DONE</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_ERASE_DONE" title="Permalink to this definition"></a><br /></dt>
<dd><p>FOTA erase done. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_ERROR">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a59ffe2413aeba288e6c050a2a6a16f0c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_FOTA_ERROR</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_FOTA_ERROR" title="Permalink to this definition"></a><br /></dt>
<dd><p>FOTA failed. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_ERROR_MSG_SIZE">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7adddfaf5a11e59b231bf9e37ef5556778"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_ERROR_MSG_SIZE</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_ERROR_MSG_SIZE" title="Permalink to this definition"></a><br /></dt>
<dd><p>A received message is too large for the payload buffer and can not be processed. The event has no associated data. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_ERROR">
<span class="target" id="group__azure__iot__hub_1gga740d54c5c5f5eb2adeb662501127c6a7a2fa0b40322c49a0a67e08003f3cce88e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_EVT_ERROR</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt_type.AZURE_IOT_HUB_EVT_ERROR" title="Permalink to this definition"></a><br /></dt>
<dd><p>Internal library error. The event has no associated data. </p>
</dd></dl>

</dd></dl>

<dl class="c enum">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type">
<span class="target" id="group__azure__iot__hub_1gaa776eff16c91b0ad21020f812c07d2e5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_topic_type</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Azure IoT Hub topic type, used to route messages to the correct destination. </p>
<p><em>Values:</em></p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_DEVICEBOUND">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5a1b31ccbcf1a7b0f4478b82c843e3d74e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_DEVICEBOUND</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_DEVICEBOUND" title="Permalink to this definition"></a><br /></dt>
<dd><p>Data received on the devicebound topic. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_DIRECT_METHOD">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5a25ee31eebb178d3b96a1858594fe2eb2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_DIRECT_METHOD</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_DIRECT_METHOD" title="Permalink to this definition"></a><br /></dt>
<dd><p>Data received on the direct method topic. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_TWIN_DESIRED">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5aab074cfe2a465bb1f50390daf531dd97"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_TWIN_DESIRED</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_TWIN_DESIRED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Received “desired” properties from the device twin. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_TWIN_REQUEST_RESULT">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5a046682e20a3cf11ca476cf9666dc42fb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_TWIN_REQUEST_RESULT</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_TWIN_REQUEST_RESULT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic to receive twin request result messages. Both success and error messages are received on the same topic. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_DPS">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5a56fca55e0277c9afe13e594d251435d7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_DPS</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_DPS" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic to receive Device Provisioning Service (DPS) messages. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_EVENT">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5a34fc4a3d5180d7cf976a10995d6a92de"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_EVENT</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_EVENT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Event topic used to send event data to Azure IoT Hub. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_TWIN_REPORTED">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5afe0a500ea6ff06f34d5de6e47dd0630c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_TWIN_REPORTED</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_TWIN_REPORTED" title="Permalink to this definition"></a><br /></dt>
<dd><p>Send updates to the “reported” properties in the device twin. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_TWIN_REQUEST">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5a43e98788876be0946a4c11e3611aa062"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_TWIN_REQUEST</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_TWIN_REQUEST" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic to request to receive the device twin. </p>
</dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_UNKNOWN">
<span class="target" id="group__azure__iot__hub_1ggaa776eff16c91b0ad21020f812c07d2e5af0ce8e2c80cbcc6355cc253a77302038"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AZURE_IOT_HUB_TOPIC_UNKNOWN</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_type.AZURE_IOT_HUB_TOPIC_UNKNOWN" title="Permalink to this definition"></a><br /></dt>
<dd><p>Indicates that the message was received on an unknown topic. </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.azure_iot_hub_init">
<span class="target" id="group__azure__iot__hub_1ga381b50734f2d8dd55fc1cbd2527c0282"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.azure_iot_hub_evt_handler_t" title="azure_iot_hub_evt_handler_t"><span class="n"><span class="pre">azure_iot_hub_evt_handler_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">event_handler</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.azure_iot_hub_init" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize the module. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API must be called exactly once, and it must return successfully for subsequent calls to this library to succeed.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event_handler</strong> – <strong>[in]</strong> Pointer to event handler function.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-EALREADY</strong> – if the library has already been initialized and is in a state where it can not be re-initialized. </p></li>
<li><p><strong>-EINVAL</strong> – in invalid argument was provided. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.azure_iot_hub_connect">
<span class="target" id="group__azure__iot__hub_1gaa33b1c8352f40ad6f52a3042cc772417"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_connect</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_config" title="azure_iot_hub_config"><span class="n"><span class="pre">azure_iot_hub_config</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.azure_iot_hub_connect" title="Permalink to this definition"></a><br /></dt>
<dd><p>Establish connection to Azure IoT Hub. The function blocks until a connection to the hub is established on the transport level. Subsequent calls to other library function should await AZURE_IOT_HUB_EVT_CONNECTED and AZURE_IOT_HUB_EVT_READY events. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – <strong>[in]</strong> Pointer to struct containing connection parameters. If NULL, values from Kconfig will be used instead.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-EALREADY</strong> – if the device is already connected to an IoT Hub. </p></li>
<li><p><strong>-EINPROGRESS</strong> – if an connection attempt is already in progress. </p></li>
<li><p><strong>-ENOENT</strong> – if the library is not in disconnected state. </p></li>
<li><p><strong>-EINVAL</strong> – if the provided configuration is invalid. </p></li>
<li><p><strong>-EMSGSIZE</strong> – if the provided device ID is larger than the internal buffer size. </p></li>
<li><p><strong>-EFAULT</strong> – if there was an internal error in the library. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.azure_iot_hub_disconnect">
<span class="target" id="group__azure__iot__hub_1ga9fca5b5a8c15aa3c238e2e151cd00b5f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_disconnect</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.azure_iot_hub_disconnect" title="Permalink to this definition"></a><br /></dt>
<dd><p>Disconnect from Azure IoT Hub. Calling this function initiates the disconnection procedure, and the event AZURE_IOT_HUB_EVT_DISCONNECTED is received when it is completed. </p>
<dl class="field-list simple">
<dt class="field-odd">Return values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-ENOTCONN</strong> – if the device is not connected to an IoT Hub. </p></li>
<li><p><strong>-ENXIO</strong> – if the MQTT library reported an error. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.azure_iot_hub_send">
<span class="target" id="group__azure__iot__hub_1ga0788141124c68f4b10dfdbe5f684d17e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_send</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_msg" title="azure_iot_hub_msg"><span class="n"><span class="pre">azure_iot_hub_msg</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">tx_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.azure_iot_hub_send" title="Permalink to this definition"></a><br /></dt>
<dd><p>Send data to Azure IoT Hub. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tx_data</strong> – <strong>[in]</strong> Pointer to struct containing data to be transmitted to Azure IoT Hub.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-EINVAL</strong> – if a NULL pointer was provided. </p></li>
<li><p><strong>-ENOMSG</strong> – if the provided message topic was invalid. </p></li>
<li><p><strong>-EMSGSIZE</strong> – an internal buffer is too small to hold the topic data. This can for instance happen if message properties are in use, as they are appended to the topic. </p></li>
<li><p><strong>-ENOTCONN</strong> – if the device is not connected to an IoT Hub. </p></li>
<li><p><strong>-ENOMEM</strong> – if the request ID buffer was insufficient to create the ID. </p></li>
<li><p><strong>-EFAULT</strong> – if there was an internal error in the library. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.azure_iot_hub_method_respond">
<span class="target" id="group__azure__iot__hub_1gaf3a23b377404f740ca512e1397c711c2"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_method_respond</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_result" title="azure_iot_hub_result"><span class="n"><span class="pre">azure_iot_hub_result</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">result</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.azure_iot_hub_method_respond" title="Permalink to this definition"></a><br /></dt>
<dd><p>Send response to a direct method invoked from the cloud. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result</strong> – <strong>[in]</strong> Structure containing result data from the direct method execution.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – If successful. </p></li>
<li><p><strong>-EINVAL</strong> – if a NULL pointer was provided. </p></li>
<li><p><strong>-ENOTCONN</strong> – if there was no iot hub connection. </p></li>
<li><p><strong>-EFAULT</strong> – if there was an error when creating the response message. </p></li>
<li><p><strong>-ENXIO</strong> – if the MQTT library reported an error when publishing the response. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.azure_iot_hub_buf">
<span class="target" id="structazure__iot__hub__buf"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></span><a class="headerlink" href="#c.azure_iot_hub_buf" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;azure_iot_hub.h&gt;</em></div>
<p>Buffer to store data together with buffer size. </p>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.azure_iot_hub_property">
<span class="target" id="structazure__iot__hub__property"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_property</span></span></span><a class="headerlink" href="#c.azure_iot_hub_property" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;azure_iot_hub.h&gt;</em></div>
<p>Property bag structure for key/value string pairs. Per Azure IoT Hub documentation, the key must be defined, while the value can be a string or empty. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If value is provided as a string, it’s the equivalent to “key=value”. If the value is empty, it’s the equivalent of “key=” or “key”. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_property.key">
<span class="target" id="structazure__iot__hub__property_1af0fe00fcf173a1f369f255debf3c86f6"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">key</span></span></span><a class="headerlink" href="#c.azure_iot_hub_property.key" title="Permalink to this definition"></a><br /></dt>
<dd><p>Property key. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_property.value">
<span class="target" id="structazure__iot__hub__property_1a1420fc38a826d173464f2542b211a8e8"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">value</span></span></span><a class="headerlink" href="#c.azure_iot_hub_property.value" title="Permalink to this definition"></a><br /></dt>
<dd><p>Property value. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_data">
<span class="target" id="structazure__iot__hub__topic__data"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_topic_data</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_data" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;azure_iot_hub.h&gt;</em></div>
<p>Azure IoT Hub topic data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_data.type">
<span class="target" id="structazure__iot__hub__topic__data_1ae25c2734c3289944a5e38b568de77b81"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_topic_type" title="azure_iot_hub_topic_type"><span class="n"><span class="pre">azure_iot_hub_topic_type</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_data.type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic type. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_topic_data.name">
<span class="target" id="structazure__iot__hub__topic__data_1aff076af8b980ebe101b84b5884a1990a"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">name</span></span></span><a class="headerlink" href="#c.azure_iot_hub_topic_data.name" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic name ptr and size. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.azure_iot_hub_msg">
<span class="target" id="structazure__iot__hub__msg"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_msg</span></span></span><a class="headerlink" href="#c.azure_iot_hub_msg" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;azure_iot_hub.h&gt;</em></div>
<p>Azure IoT Hub transmission data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_msg.topic">
<span class="target" id="structazure__iot__hub__msg_1a7320d4cda99b9d3fa38a560ae135aaab"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_topic_data" title="azure_iot_hub_topic_data"><span class="n"><span class="pre">azure_iot_hub_topic_data</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">topic</span></span></span><a class="headerlink" href="#c.azure_iot_hub_msg.topic" title="Permalink to this definition"></a><br /></dt>
<dd><p>Topic data is sent/received on. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_msg.payload">
<span class="target" id="structazure__iot__hub__msg_1a28a735831f167f4995e9e9ad2e34005c"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">payload</span></span></span><a class="headerlink" href="#c.azure_iot_hub_msg.payload" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to the payload sent/received from Azure IoT Hub. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_msg.request_id">
<span class="target" id="structazure__iot__hub__msg_1af394d181eb47d941cec5b040d8536b5b"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">request_id</span></span></span><a class="headerlink" href="#c.azure_iot_hub_msg.request_id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Request ID that can be populated if relevcant for the message type. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_msg.qos">
<span class="target" id="structazure__iot__hub__msg_1ae8ee705884f345ce7b127d955f8a2fc4"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">mqtt_qos</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">qos</span></span></span><a class="headerlink" href="#c.azure_iot_hub_msg.qos" title="Permalink to this definition"></a><br /></dt>
<dd><p>Quality of Service for the message. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_msg.message_id">
<span class="target" id="structazure__iot__hub__msg_1a0ea0278a18efadaba2a83894d91f1e34"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">message_id</span></span></span><a class="headerlink" href="#c.azure_iot_hub_msg.message_id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Message id used for the message, used to match acknowledgments. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_msg.dup_flag">
<span class="target" id="structazure__iot__hub__msg_1ae5381c45a8b09e40addb616a4f1fc927"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dup_flag</span></span></span><a class="headerlink" href="#c.azure_iot_hub_msg.dup_flag" title="Permalink to this definition"></a><br /></dt>
<dd><p>Duplicate flag. 1 indicates the message is a retransmission, Usually triggered by missing publication acknowledgment. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_msg.retain_flag">
<span class="target" id="structazure__iot__hub__msg_1a7fbb59344137ce59686ff537c0cd159b"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retain_flag</span></span></span><a class="headerlink" href="#c.azure_iot_hub_msg.retain_flag" title="Permalink to this definition"></a><br /></dt>
<dd><p>Retain flag. 1 indicates to the IoT hub that the message should be stored persistently. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.azure_iot_hub_method">
<span class="target" id="structazure__iot__hub__method"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_method</span></span></span><a class="headerlink" href="#c.azure_iot_hub_method" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;azure_iot_hub.h&gt;</em></div>
<p>Azure IoT Hub direct method data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_method.name">
<span class="target" id="structazure__iot__hub__method_1af43fd7e5c0b2e4bf478f8d11c49ac228"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">name</span></span></span><a class="headerlink" href="#c.azure_iot_hub_method.name" title="Permalink to this definition"></a><br /></dt>
<dd><p>Method name. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_method.request_id">
<span class="target" id="structazure__iot__hub__method_1aae841d258ca8f0985f35eb168e90bd78"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">request_id</span></span></span><a class="headerlink" href="#c.azure_iot_hub_method.request_id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Method request ID. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_method.payload">
<span class="target" id="structazure__iot__hub__method_1ab81d4ae5fbc396400508d563b52acbb1"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">payload</span></span></span><a class="headerlink" href="#c.azure_iot_hub_method.payload" title="Permalink to this definition"></a><br /></dt>
<dd><p>Method payload. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.azure_iot_hub_result">
<span class="target" id="structazure__iot__hub__result"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_result</span></span></span><a class="headerlink" href="#c.azure_iot_hub_result" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;azure_iot_hub.h&gt;</em></div>
<p>Azure IoT Hub result structure. </p>
<p>Used to signal result of direct method execution from device to cloud, and to receive result of device twin updates (twin updates sent from the device will receive a result message back from the cloud with success or failure). </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_result.request_id">
<span class="target" id="structazure__iot__hub__result_1a26da8eb5b7bf1e062cae7cdf2615b910"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">request_id</span></span></span><a class="headerlink" href="#c.azure_iot_hub_result.request_id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Request ID to which the result belongs. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_result.status">
<span class="target" id="structazure__iot__hub__result_1a1f577dbdb51d5843a379c46e1acff2b9"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">status</span></span></span><a class="headerlink" href="#c.azure_iot_hub_result.status" title="Permalink to this definition"></a><br /></dt>
<dd><p>Status code. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_result.payload">
<span class="target" id="structazure__iot__hub__result_1ab765dbc243080980073f5aefbe476693"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">payload</span></span></span><a class="headerlink" href="#c.azure_iot_hub_result.payload" title="Permalink to this definition"></a><br /></dt>
<dd><p>Result payload. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt">
<span class="target" id="structazure__iot__hub__evt"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_evt</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;azure_iot_hub.h&gt;</em></div>
<p>Struct with data received from Azure IoT Hub. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_evt.type">
<span class="target" id="structazure__iot__hub__evt_1aaa83dc85fe4c2444c7e328dc4fd9448e"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_evt_type" title="azure_iot_hub_evt_type"><span class="n"><span class="pre">azure_iot_hub_evt_type</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><a class="headerlink" href="#c.azure_iot_hub_evt.type" title="Permalink to this definition"></a><br /></dt>
<dd><p>Type of event. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.azure_iot_hub_config">
<span class="target" id="structazure__iot__hub__config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">azure_iot_hub_config</span></span></span><a class="headerlink" href="#c.azure_iot_hub_config" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;azure_iot_hub.h&gt;</em></div>
<p>Structure for Azure IoT Hub connection parameters. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_config.hostname">
<span class="target" id="structazure__iot__hub__config_1a2e4dc7fea4402e6d08b1acb4adf3ba36"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hostname</span></span></span><a class="headerlink" href="#c.azure_iot_hub_config.hostname" title="Permalink to this definition"></a><br /></dt>
<dd><p>Hostname to IoT Hub to connect to. If the buffer size is zero, the device ID provided by <span> <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_HOSTNAME</span></code> </span> is used. If DPS is enabled and <code class="docutils literal notranslate"><span class="pre">use_dps</span></code> is set to true, the provided hostname is ignored. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_config.device_id">
<span class="target" id="structazure__iot__hub__config_1a46cbc21b697af3ad25a9f3696ff6da48"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.azure_iot_hub_buf" title="azure_iot_hub_buf"><span class="n"><span class="pre">azure_iot_hub_buf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">device_id</span></span></span><a class="headerlink" href="#c.azure_iot_hub_config.device_id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Device id for the Azure IoT Hub connection. If the buffer size is zero, the device ID provided by Kconfig is used. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.azure_iot_hub_config.use_dps">
<span class="target" id="structazure__iot__hub__config_1a5aa5b266f7720e28fed501bd925ec43d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_dps</span></span></span><a class="headerlink" href="#c.azure_iot_hub_config.use_dps" title="Permalink to this definition"></a><br /></dt>
<dd><p>Use DPS to obtain hostname and device ID if true. Using DPS requires that<span> <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS</span></code> </span> is enabled and DPS configured accordingly. If a hostname and device ID have already been obtained previously, the stored values will be used. To re-run DPS, the DPS information must be reset first. Note that using this option will use the device ID as DPS registration ID and the ID cope from<span> <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_AZURE_IOT_HUB_DPS_ID_SCOPE</span></code> </span>. For more fine-grained control over DPS, use the azure_iot_hub_dps APIs directly insted. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="coap_utils.html" class="btn btn-neutral float-right" title="CoAP utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="azure_fota.html" class="btn btn-neutral" title="Azure FOTA" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>