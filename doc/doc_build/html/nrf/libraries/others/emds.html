<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Emergency data storage &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../_static/js/ncs.js"
></script>
<script src="../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Enhanced ShockBurst" href="esb.html" />
    <link rel="prev" title="Edge Impulse wrapper" href="ei_wrapper.html" />
<link
  href="../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers.html">Drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bin/index.html">Binary libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluetooth_services/index.html">Bluetooth libraries and services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bootloader/index.html">Bootloader libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caf/index.html">Common Application Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debug/index.html">Debug libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dfu/index.html">DFU libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gazell/index.html">Gazell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modem/index.html">Modem libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mpsl/index.html">Multiprotocol Service Layer libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networking/index.html">Libraries for networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nfc/index.html">Libraries for NFC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nrf_rpc/index.html">nRF RPC libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Other libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="adp536x.html">adp536x</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_event_manager.html">Application Event Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_event_manager_profiler_tracer.html">Application Event Manager profiler tracer</a></li>
<li class="toctree-l3"><a class="reference internal" href="contin_array.html">Continuous array</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_fifo.html">Data FIFO</a></li>
<li class="toctree-l3"><a class="reference internal" href="date_time.html">Date-Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="dk_buttons_and_leds.html">DK Buttons and LEDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="dm.html">Distance Measurement</a></li>
<li class="toctree-l3"><a class="reference internal" href="ei_wrapper.html">Edge Impulse wrapper</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Emergency data storage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#limitations">Limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api-documentation">API documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="esb.html">Enhanced ShockBurst</a></li>
<li class="toctree-l3"><a class="reference internal" href="event_manager_proxy.html">Event Manager Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="fatal_error.html">Fatal error handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="flash_map_pm.html">Partition Manager flash map</a></li>
<li class="toctree-l3"><a class="reference internal" href="flash_patch.html">Flash patch</a></li>
<li class="toctree-l3"><a class="reference internal" href="fprotect.html">Hardware flash write protection</a></li>
<li class="toctree-l3"><a class="reference internal" href="fw_info.html">Firmware information</a></li>
<li class="toctree-l3"><a class="reference internal" href="hw_id.html">Hardware ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="hw_unique_key.html">Hardware unique key</a></li>
<li class="toctree-l3"><a class="reference internal" href="identity_key.html">Identity key</a></li>
<li class="toctree-l3"><a class="reference internal" href="memfault_ncs.html">Memfault</a></li>
<li class="toctree-l3"><a class="reference internal" href="nrf_profiler.html">nRF Profiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="pcm_mix.html">Pulse Code Modulation audio mixer</a></li>
<li class="toctree-l3"><a class="reference internal" href="pcm_stream_channel_modifier.html">PCM Stream Channel Modifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="qos.html">Quality of Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="ram_pwrdn.html">RAM power-down</a></li>
<li class="toctree-l3"><a class="reference internal" href="sfloat.html">Short float (SFLOAT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="st25r3911b_nfc.html">NFC Reader ST25R3911B</a></li>
<li class="toctree-l3"><a class="reference internal" href="supl_os_client.html">SUPL client and SUPL client OS integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="tone.html">Tone generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="wave_gen.html">Wave generator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">Shell libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tfm/index.html">TF-M libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../zigbee/index.html">Libraries for Zigbee</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Libraries</a></li>
          <li class="breadcrumb-item"><a href="index.html">Other libraries</a></li>
      <li class="breadcrumb-item active">Emergency data storage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/libraries/others/emds.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="emergency-data-storage">
<span id="emds-readme"></span><h1>Emergency data storage<a class="headerlink" href="#emergency-data-storage" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id7">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#implementation" id="id8">Implementation</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#requirements" id="id9">Requirements</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id10">Configuration</a></p></li>
<li><p><a class="reference internal" href="#limitations" id="id11">Limitations</a></p></li>
<li><p><a class="reference internal" href="#dependencies" id="id12">Dependencies</a></p></li>
<li><p><a class="reference internal" href="#api-documentation" id="id13">API documentation</a></p></li>
</ul>
</div>
<section id="overview">
<h2><a class="toc-backref" href="#id7">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>The emergency data storage (EMDS) library provides persistent storage functionality designed to prevent the wear and tear of the flash memory.
Its intended use is for storing of data undergoing frequent changes during runtime.</p>
<section id="implementation">
<h3><a class="toc-backref" href="#id8">Implementation</a><a class="headerlink" href="#implementation" title="Permalink to this heading"></a></h3>
<p>The <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS</span></code> Kconfig option enables the emergency data storage.</p>
<p>The application must initialize the pre-allocated flash area by using the <a class="reference internal" href="#c.emds_init" title="emds_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_init()</span></code></a> function.
The <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS_SECTOR_COUNT</span></code> option defines how many sectors should be used to store data.</p>
<p>The allocated storage space must be larger than the combined data stored by the application.
Allocating a larger flash area will demand more resources, but also increase the life expectancy of the flash.
The chosen size should reflect the amount of data stored, the available flash resources, and how the application calls the <a class="reference internal" href="#c.emds_store" title="emds_store"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_store()</span></code></a> function.
In general, it should not be necessary to allocate a large flash area, since only a limited set of data should be stored to ensure swift completion of writing the flash on shutdown.</p>
<p>The memory location that is going to be stored must be added on initialization.
All memory areas must be provided through entries containing an ID, data pointer, and data length, using the <a class="reference internal" href="#c.emds_entry_add" title="emds_entry_add"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_entry_add()</span></code></a> function and the <a class="reference internal" href="#c.EMDS_STATIC_ENTRY_DEFINE" title="EMDS_STATIC_ENTRY_DEFINE"><code class="xref c c-macro docutils literal notranslate"><span class="pre">EMDS_STATIC_ENTRY_DEFINE</span></code></a> macro.
Entries to be stored when the emergency data storage is triggered need their own unique IDs that are not changed after a reboot.</p>
<p>When all entries are added, the <a class="reference internal" href="#c.emds_load" title="emds_load"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_load()</span></code></a> function restores the entries into the memory areas from the flash.</p>
<p>After restoring the previous data, the application must run the <a class="reference internal" href="#c.emds_prepare" title="emds_prepare"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_prepare()</span></code></a> function to prepare the flash area for receiving new entries.
If the remaining empty flash area is smaller than the required data size, the flash area will be automatically erased to increase the available flash area.</p>
<p>The storage is done in deterministic time, so it is possible to know how long it takes to store all registered entries.
However, this is chip-dependent, so it is important to measure the time. The <a class="reference external" href="https://infocenter.nordicsemi.com/index.jsp">Nordic Semiconductor Infocenter</a> contains chip information and datasheet, and timing values can be found under the “Electical specification” for the Non-volatile memory controller.
The following Kconfig options can be configured:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS_FLASH_TIME_WRITE_ONE_WORD_US</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS_FLASH_TIME_ENTRY_OVERHEAD_US</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS_FLASH_TIME_BASE_OVERHEAD_US</span></code></p></li>
</ul>
<p>When configuring this values consider the time for erase when doing garbage collection in NVS.
If partial erase is not enabled or supported, the time of a complete sector erase has to be included in the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS_FLASH_TIME_BASE_OVERHEAD_US</span></code>.
When partial erase is enabled and supported by the hardware, include the time it takes for the scheduler to trigger, which is depending on the time defined in <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_SOC_FLASH_NRF_PARTIAL_ERASE_MS</span></code>.
When changing the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS_FLASH_TIME_BASE_OVERHEAD_US</span></code> option, it is important that the worst time is considered.</p>
<p>The application must call the <a class="reference internal" href="#c.emds_store" title="emds_store"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_store()</span></code></a> function to store all entries.
This can only be done once, before the <a class="reference internal" href="#c.emds_prepare" title="emds_prepare"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_prepare()</span></code></a> function must be called again.
When invoked, the <a class="reference internal" href="#c.emds_store" title="emds_store"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_store()</span></code></a> function stores all the registered entries.
Invocation of this call should be performed when the application detects loss of power, or when a reboot is triggered.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before calling the <a class="reference internal" href="#c.emds_store" title="emds_store"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_store()</span></code></a> function, the application should try shutting down the application-specific features that consume a lot of power.
Shutting down these features may prolong the time the CPU is alive, and improve the storage time.
For example, if Bluetooth is used, disabling Bluetooth before shutdown will save power, and stopping the MPSL scheduler will shorten the total time required to complete the store operation.</p>
</div>
<p>The <a class="reference internal" href="#c.emds_is_ready" title="emds_is_ready"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_is_ready()</span></code></a> function can be called to check if EMDS is prepared to store the data.</p>
<p>Once the data storage has completed, a callback is called if provided in <a class="reference internal" href="#c.emds_init" title="emds_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_init()</span></code></a>.
This callback notifies the application that the data storage has completed, and can be used to reboot the CPU or execute another function that is needed.</p>
<p>After completion of <a class="reference internal" href="#c.emds_store" title="emds_store"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_store()</span></code></a>, the <a class="reference internal" href="#c.emds_is_ready" title="emds_is_ready"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_is_ready()</span></code></a> function call will return error, since it can no longer guarantee that the data will fit into the flash area.</p>
<p>The above described process is summarized in a message sequence diagram.</p>
<p class="mscgen">
msc {
hscale = &quot;1.3&quot;;
Application, EMDS;
--- [ label = &quot;Application initialization started&quot; ];
Application=&gt;EMDS         [ label = &quot;emds_init(emds_store_cb_t)&quot; ];
--- [ label = &quot;Initialization of all functionality that does emds_entry_add()&quot; ];
Application=&gt;EMDS         [ label = &quot;emds_entry_add(1)&quot; ];
Application=&gt;EMDS         [ label = &quot;emds_entry_add(2)&quot; ];
...;
Application=&gt;EMDS         [ label = &quot;emds_entry_add(n)&quot; ];
--- [ label = &quot;All emds_entry_add() executed&quot; ];
Application=&gt;EMDS         [ label = &quot;emds_load()&quot; ];
Application=&gt;EMDS         [ label = &quot;emds_prepare()&quot; ];
--- [ label = &quot;Application initialization ended&quot; ];
...;
Application-&gt;Application  [ label = &quot;Interrupt calling emds_store()&quot; ];
Application=&gt;EMDS         [ label = &quot;emds_store()&quot; ];
Application&lt;&lt;=EMDS        [ label = &quot;emds_store_cb_t callback&quot; ];
Application-&gt;Application [ label = &quot;Reboot/halt&quot; ];
}
</p>
</section>
</section>
<section id="requirements">
<h2><a class="toc-backref" href="#id9">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<p>To prevent frequent writes to flash memory, the EMDS library can write data to flash only when the device is shutting down.
EMDS restores the application data to RAM at reboot.</p>
<p>EMDS can store data within a guaranteed time, based on the amount of data being stored.
EMDS can be used to store data in memory in situations of critical power shortage, for example before the device battery is depleted.
It is important that the hardware has the appropriate functionality to sustain power long enough for the storage to be completed before the power source is fully discharged.</p>
</section>
<section id="configuration">
<h2><a class="toc-backref" href="#id10">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>To initialize the emergency data storage, complete the following steps:</p>
<ol class="arabic simple">
<li><p>Enable the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_EMDS</span></code> Kconfig option.</p></li>
<li><p>Include the <code class="file docutils literal notranslate"><span class="pre">emds/emds.h</span></code> file in your <code class="file docutils literal notranslate"><span class="pre">main.c</span></code> file.</p></li>
<li><p>Create the callback function <a class="reference internal" href="#c.emds_store_cb_t" title="emds_store_cb_t"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_store_cb_t()</span></code></a> that can execute functions after storage has completed. This is optional.</p></li>
<li><p>Call the <a class="reference internal" href="#c.emds_init" title="emds_init"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_init()</span></code></a> function.</p></li>
<li><p>Add RAM areas that shall be loaded/stored through <a class="reference internal" href="#c.emds_entry_add" title="emds_entry_add"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_entry_add()</span></code></a> calls.</p></li>
<li><p>Call <a class="reference internal" href="#c.emds_load" title="emds_load"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_load()</span></code></a>.</p></li>
<li><p>Call <a class="reference internal" href="#c.emds_prepare" title="emds_prepare"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_prepare()</span></code></a>.</p></li>
<li><p>Create interrupt or other functionality that will call <a class="reference internal" href="#c.emds_store" title="emds_store"><code class="xref c c-func docutils literal notranslate"><span class="pre">emds_store()</span></code></a>.</p></li>
</ol>
</section>
<section id="limitations">
<h2><a class="toc-backref" href="#id11">Limitations</a><a class="headerlink" href="#limitations" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>The power-fail comparator for the nRF528xx cannot be used with EMDS, as it will prevent the NVMC from performing write operations to flash.</p>
</div></blockquote>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id12">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h2>
<p>The emergency data storage is dependent on these Kconfig options:</p>
<ul class="simple">
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_PARTITION_MANAGER_ENABLED</span></code></p></li>
<li><p><code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_FLASH_MAP</span></code></p></li>
</ul>
</section>
<section id="api-documentation">
<h2><a class="toc-backref" href="#id13">API documentation</a><a class="headerlink" href="#api-documentation" title="Permalink to this heading"></a></h2>
<div class="line-block">
<div class="line">Header file: <code class="file docutils literal notranslate"><span class="pre">include/emds/emds.h</span></code></div>
<div class="line">Source file: <code class="file docutils literal notranslate"><span class="pre">subsys/emds/emds.c</span></code></div>
</div>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__emds"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">emds</span></span></dt>
<dd><p>Emergency Data Storage API. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.EMDS_STATIC_ENTRY_DEFINE">
<span class="target" id="group__emds_1gaa978c89ab41063eb1dfe28cfe26bba84"></span><span class="sig-name descname"><span class="n"><span class="pre">EMDS_STATIC_ENTRY_DEFINE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_name</span></span>, <span class="n"><span class="pre">_id</span></span>, <span class="n"><span class="pre">_data</span></span>, <span class="n"><span class="pre">_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.EMDS_STATIC_ENTRY_DEFINE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Define a static entry for emergency data storage items. </p>
<p>
This creates a variable <em>name prepended by emds</em>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_name</strong> – The entry name. </p></li>
<li><p><strong>_id</strong> – Unique ID for the entry. This value and not an overlap with any other value. </p></li>
<li><p><strong>_data</strong> – Data pointer to be stored at emergency data store. </p></li>
<li><p><strong>_len</strong> – Length of data to be stored at emergency data store.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="c type">
<dt class="sig sig-object c" id="c.emds_store_cb_t">
<span class="target" id="group__emds_1ga2cf402a68c5f16357c621ae4af29f4d2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">emds_store_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.emds_store_cb_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback for application commands when storing has been executed. </p>
<p>This can be used to perform other actions or execute busy-waiting until the power supply is discharged. It will be run by <a class="reference internal" href="#group__emds_1ga52e903e695c2ac21e1462735b0e454b7"><span class="std std-ref">emds_store</span></a>, and called from the same context the <a class="reference internal" href="#group__emds_1ga52e903e695c2ac21e1462735b0e454b7"><span class="std std-ref">emds_store</span></a> is called from. Interrupts are unlocked before triggering this callback. Therefore, this callback may not be reached before available backup power runs out. If the application needs interrupts to be locked during this callback, application can do so by calling irq_lock before calling <a class="reference internal" href="#group__emds_1ga52e903e695c2ac21e1462735b0e454b7"><span class="std std-ref">emds_store</span></a>. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.emds_init">
<span class="target" id="group__emds_1gadfa430119b49c6fc3d20291c887f49ae"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.emds_store_cb_t" title="emds_store_cb_t"><span class="n"><span class="pre">emds_store_cb_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">cb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_init" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize the emergency data storage. </p>
<p>Initializes the emergency data storage. This needs to be called before adding entries to the <a class="reference internal" href="#structemds__dynamic__entry"><span class="std std-ref">emds_dynamic_entry</span></a> and loading data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cb</strong> – Callback to notify application that the store operation has been executed or NULL if no notification is needed.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – Success </p></li>
<li><p><strong>-ERRNO</strong> – errno code if error </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.emds_entry_add">
<span class="target" id="group__emds_1ga5269cee2362b66fff2702abb0a666c14"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_entry_add</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.emds_dynamic_entry" title="emds_dynamic_entry"><span class="n"><span class="pre">emds_dynamic_entry</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">entry</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_entry_add" title="Permalink to this definition"></a><br /></dt>
<dd><p>Add entry to be saved/restored when emergency data storage is called. </p>
<p>Adds the entry to the dynamic entry list. When the <a class="reference internal" href="#group__emds_1ga52e903e695c2ac21e1462735b0e454b7"><span class="std std-ref">emds_store</span></a> function is called, takes the given data pointer and stores the data to the emergency data storage.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>EMDS does not make a local copy of the dynamic entry structure.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> – Entry to add to list and load data into.</p></li>
</ul>
</dd>
<dt class="field-even">Return values</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>0</strong> – Success </p></li>
<li><p><strong>-ERRNO</strong> – errno code if error </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.emds_store">
<span class="target" id="group__emds_1ga52e903e695c2ac21e1462735b0e454b7"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_store</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_store" title="Permalink to this definition"></a><br /></dt>
<dd><p>Start the emergency data storage process. </p>
<p>Triggers the process of storing all data registered to be stored. All data registered either through <a class="reference internal" href="#group__emds_1ga5269cee2362b66fff2702abb0a666c14"><span class="std std-ref">emds_entry_add</span></a> function or the <a class="reference internal" href="#group__emds_1gaa978c89ab41063eb1dfe28cfe26bba84"><span class="std std-ref">EMDS_STATIC_ENTRY_DEFINE</span></a> macro is stored. It locks all interrupts until the write is finished. Once the data storage is completed, the data should not be changed, and the device should be halted. The device must not be allowed to reboot when operating on a backup supply, since reboot will trigger data load from the EMDS storage and clear the storage area. The reboot should only be allowed when the main power supply is available.</p>
<p>This is a time-critical operation and will be processed as fast as possible. To achieve better time predictability, this function must be called from an interrupt context with the highest priority.</p>
<p>When writing to flash, it bypasses the flash driver. Therefore, when running with MPSL, make sure to uninitialize the MPSL before this function is called. Otherwise, an assertion may be triggered by the exit of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Return values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>0</strong> – Success </p></li>
<li><p><strong>-ERRNO</strong> – errno code if error </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.emds_load">
<span class="target" id="group__emds_1ga7b21b0c052ff5ee474da09c8ab2013e8"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_load</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_load" title="Permalink to this definition"></a><br /></dt>
<dd><p>Load all static data from the emergency data storage. </p>
<p>This function needs to be called after the static entries are added, as they are used to select the data to be loaded. The function also needs to be called before the <a class="reference internal" href="#group__emds_1gaf7ebd33692643439aee8170939962d8f"><span class="std std-ref">emds_prepare</span></a> function which will delete all the previously stored data.</p>
<dl class="field-list simple">
<dt class="field-odd">Return values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>0</strong> – Success </p></li>
<li><p><strong>-ERRNO</strong> – errno code if error </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.emds_clear">
<span class="target" id="group__emds_1ga646dba081271f18f46e7eb0a29c08de7"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_clear</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_clear" title="Permalink to this definition"></a><br /></dt>
<dd><p>Clear flash area from the emergency data storage. </p>
<p>This function clears the flash area for all previously stored data.</p>
<dl class="field-list simple">
<dt class="field-odd">Return values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>0</strong> – Success </p></li>
<li><p><strong>-ERRNO</strong> – errno code if error </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.emds_prepare">
<span class="target" id="group__emds_1gaf7ebd33692643439aee8170939962d8f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_prepare</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_prepare" title="Permalink to this definition"></a><br /></dt>
<dd><p>Prepare flash area for the next emergency data storage. </p>
<p>This function prepares the flash area for the next emergency data storage. It deletes the current entries if there is enough space for the next emergency data storage, and clears the flash storage if there is not enough space for the next storage. This has to be done after all the dynamic entries are added. After this has been called emergency data storage should be ready to store.</p>
<dl class="field-list simple">
<dt class="field-odd">Return values</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>0</strong> – Success </p></li>
<li><p><strong>-ERRNO</strong> – errno code if error </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.emds_store_time_get">
<span class="target" id="group__emds_1ga2cae16b06c07c0a403f2d7b3e808b6aa"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_store_time_get</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_store_time_get" title="Permalink to this definition"></a><br /></dt>
<dd><p>Estimate the time needed to store the registered data. </p>
<p>Estimate how much time it takes to store all dynamic and static data registered in the entries. This value is dependent on the chip used, and should be checked against the chip datasheet.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Time needed to store all data (in microseconds). </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.emds_store_size_get">
<span class="target" id="group__emds_1gaed3b8a270b1147a2be08c2ad3769c643"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_store_size_get</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_store_size_get" title="Permalink to this definition"></a><br /></dt>
<dd><p>Calculate the size needed to store the registered data. </p>
<p>Calculates the size it takes to store all dynamic and static data registered in the entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Byte size that is needed to store all data. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.emds_is_ready">
<span class="target" id="group__emds_1ga2f086c220105274cdff113894c747e3e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_is_ready</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.emds_is_ready" title="Permalink to this definition"></a><br /></dt>
<dd><p>Check if the store operation can be run. </p>
<p>When the data store operation has completed, the store operation is no longer ready and this function will then return false.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if the store operation can be started, otherwise false. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.emds_entry">
<span class="target" id="structemds__entry"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_entry</span></span></span><a class="headerlink" href="#c.emds_entry" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;emds.h&gt;</em></div>
<p>Information about entries used to store data in the emergency data storage. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.emds_entry.id">
<span class="target" id="structemds__entry_1a0371a17981c7522a8d17366db3fbf6e8"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">id</span></span></span><a class="headerlink" href="#c.emds_entry.id" title="Permalink to this definition"></a><br /></dt>
<dd><p>Unique ID for each static and dynamic entry. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.emds_entry.data">
<span class="target" id="structemds__entry_1ab5b9afad30b18df39dc530ed7dd07b40"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">data</span></span></span><a class="headerlink" href="#c.emds_entry.data" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to data that will be stored. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.emds_entry.len">
<span class="target" id="structemds__entry_1a79b7d17026b1d0546bb97c0e32c6e650"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">len</span></span></span><a class="headerlink" href="#c.emds_entry.len" title="Permalink to this definition"></a><br /></dt>
<dd><p>Length of data that will be stored. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.emds_dynamic_entry">
<span class="target" id="structemds__dynamic__entry"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">emds_dynamic_entry</span></span></span><a class="headerlink" href="#c.emds_dynamic_entry" title="Permalink to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;emds.h&gt;</em></div>
<p>Entries with a node element, used for dynamic entries. These are registered using a call to <a class="reference internal" href="#group__emds_1ga5269cee2362b66fff2702abb0a666c14"><span class="std std-ref">emds_entry_add</span></a>. </p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="esb.html" class="btn btn-neutral float-right" title="Enhanced ShockBurst" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ei_wrapper.html" class="btn btn-neutral" title="Edge Impulse wrapper" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>