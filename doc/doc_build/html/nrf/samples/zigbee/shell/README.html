<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zigbee: Shell &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Zigbee: Template" href="../template/README.html" />
    <link rel="prev" title="Zigbee: Network coordinator" href="../network_coordinator/README.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../applications.html">Applications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../samples.html">Samples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../bl.html">Bluetooth samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crypto.html">Cryptography samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edge.html">Edge Impulse samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gazell.html">Gazell samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matter.html">Matter samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nfc.html">NFC samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf5340.html">nRF5340 samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf9160.html">nRF9160 samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tfm.html">Trusted Firmware-M (TF-M) samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thread.html">Thread samples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../zigbee.html">Zigbee samples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../light_bulb/README.html">Zigbee: Light bulb</a></li>
<li class="toctree-l3"><a class="reference internal" href="../light_switch/README.html">Zigbee: Light switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ncp/README.html">Zigbee: NCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network_coordinator/README.html">Zigbee: Network coordinator</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Zigbee: Shell</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-interface">User interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-and-running">Building and running</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../template/README.html">Zigbee: Template</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../wifi.html">Wi-Fi samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other.html">Other samples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../samples.html">Samples</a></li>
          <li class="breadcrumb-item"><a href="../../zigbee.html">Zigbee samples</a></li>
      <li class="breadcrumb-item active">Zigbee: Shell</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/samples/zigbee/shell/README.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="zigbee-shell">
<span id="zigbee-shell-sample"></span><h1>Zigbee: Shell<a class="headerlink" href="#zigbee-shell" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#requirements" id="id6">Requirements</a></p></li>
<li><p><a class="reference internal" href="#overview" id="id7">Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#sample-logging" id="id8">Sample logging</a></p></li>
<li><p><a class="reference internal" href="#available-shell-interfaces" id="id9">Available shell interfaces</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#user-interface" id="id10">User interface</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id11">Configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#enabling-and-disabling-endpoint-logging" id="id12">Enabling and disabling endpoint logging</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#building-and-running" id="id13">Building and running</a></p>
<ul>
<li><p><a class="reference internal" href="#testing" id="id14">Testing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#dependencies" id="id15">Dependencies</a></p></li>
</ul>
</div>
<p>This <a class="reference internal" href="../../../protocols/zigbee/index.html#ug-zigbee"><span class="std std-ref">Zigbee</span></a> Shell sample demonstrates a Zigbee router (with the possibility of being a coordinator) that uses the <a class="reference internal" href="../../../libraries/zigbee/shell.html#lib-zigbee-shell"><span class="std std-ref">Zigbee shell</span></a> library for interaction.</p>
<p>You can use this sample for several purposes, including:</p>
<ul class="simple">
<li><p>Initial configuration of the network - forming a network as coordinator, adding devices to the network with the install codes, setting the extended PAN ID.</p></li>
<li><p>Benchmarking - measuring time needed for a message to travel from one node to another.</p></li>
</ul>
<section id="requirements">
<h2><a class="toc-backref" href="#id6">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<p>The sample supports the following development kits:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 6%" />
<col style="width: 45%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Hardware platforms</p></th>
<th class="head"><p>PCA</p></th>
<th class="head"><p>Board name</p></th>
<th class="head"><p>Build target</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf53/nrf5340.html#ug-nrf5340"><span class="std std-ref">nRF5340 DK</span></a></p></td>
<td><p>PCA10095</p></td>
<td><p><span class="xref std std-ref">nrf5340dk_nrf5340</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf5340dk_nrf5340_cpuapp</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf52/developing.html#ug-nrf52"><span class="std std-ref">nRF52840 Dongle</span></a></p></td>
<td><p>PCA10059</p></td>
<td><p><span class="xref std std-ref">nrf52840dongle_nrf52840</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf52840dongle_nrf52840</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf52/developing.html#ug-nrf52"><span class="std std-ref">nRF52840 DK</span></a></p></td>
<td><p>PCA10056</p></td>
<td><p><span class="xref std std-ref">nrf52840dk_nrf52840</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf52840dk_nrf52840</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf52/developing.html#ug-nrf52"><span class="std std-ref">nRF52833 DK</span></a></p></td>
<td><p>PCA10100</p></td>
<td><p><span class="xref std std-ref">nrf52833dk_nrf52833</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf52833dk_nrf52833</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../app_dev/working_with_fem/index.html#ug-radio-fem"><span class="std std-ref">nRF21540 DK</span></a></p></td>
<td><p>PCA10112</p></td>
<td><p><span class="xref std std-ref">nrf21540dk_nrf52840</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf21540dk_nrf52840</span></code></p></td>
</tr>
</tbody>
</table>
<p>You can use one or more of the development kits listed above and mix different development kits.</p>
<p>To test this sample you also need to program the following samples:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../network_coordinator/README.html#zigbee-network-coordinator-sample"><span class="std std-ref">Zigbee Network coordinator</span></a> sample on one separate device or using a second Zigbee Shell sample.</p></li>
</ul>
<p>Additionally, you can use this sample with any other <a class="reference internal" href="../../../protocols/zigbee/index.html#ug-zigbee"><span class="std std-ref">Zigbee</span></a> sample application for testing the communication or other sample-specific functionalities.</p>
</section>
<section id="overview">
<h2><a class="toc-backref" href="#id7">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>The Zigbee Shell sample takes the Zigbee Router role and implements two clusters: Basic and Identify.
The Basic cluster provides attributes and commands for determining basic information about the node.
The Identify cluster allows to put the device into the identification mode, which provides a way to locate the device.
The device also includes all Zigbee shell commands that allow for discovering, controlling and testing other Zigbee devices.</p>
<section id="sample-logging">
<h3><a class="toc-backref" href="#id8">Sample logging</a><a class="headerlink" href="#sample-logging" title="Permalink to this heading"></a></h3>
<p>The Zigbee Shell sample does not use the default logging settings for the nRF Connect SDK samples.
Unlike the default sample logging in the nRF Connect SDK, the Zigbee Shell sample’s logger is configured to also log module name and timestamps for every message.
The sample has log shell commands enabled for configuring logging, for example the logging level for each log module.</p>
<p>The <a class="reference internal" href="../../../libraries/zigbee/shell.html#lib-zigbee-shell"><span class="std std-ref">Zigbee shell</span></a> library also enables the <a class="reference internal" href="../../../libraries/zigbee/zigbee_logger_eprxzcl.html#lib-zigbee-logger-endpoint"><span class="std std-ref">Zigbee endpoint logger</span></a> library by default.
This library will log information about every ZCL packet received, which can be useful for debugging.
You can enable or disable logging from the endpoint logger module by using the commands described in the <a class="reference internal" href="#enabling-and-disabling-endpoint-logging">Enabling and disabling endpoint logging</a>.</p>
</section>
<section id="available-shell-interfaces">
<h3><a class="toc-backref" href="#id9">Available shell interfaces</a><a class="headerlink" href="#available-shell-interfaces" title="Permalink to this heading"></a></h3>
<p>You can run the Zigbee shell commands after connecting and configuring any of the <a class="reference internal" href="../../../libraries/zigbee/shell.html#lib-zigbee-shell"><span class="std std-ref">supported backends</span></a> for testing.
These interfaces are completely independent one from another and can be used simultaneously or exclusively.
For information about setup, see <a class="reference internal" href="../../../getting_started/testing.html#gs-testing"><span class="std std-ref">Testing and debugging an application</span></a>.</p>
<p>The Zigbee Shell sample uses UART as the default shell backend.
To change the shell backend from the default UART to the nRF USB CDC ACM, use the <code class="file docutils literal notranslate"><span class="pre">prj_usb.conf</span></code> configuration file and add the <code class="docutils literal notranslate"><span class="pre">-DCONF_FILE='prj_usb.conf'</span></code> flag when building the sample.
With such configuration, Zephyr logs are printed only to the backend that the shell is using.
You can enable the UART backend for the logger, so that Zephyr logs are printed to both the shell backend and the UART.
To do this, enable the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_LOG_BACKEND_UART</span></code> Kconfig option.
If the sample is built for <span class="xref std std-ref">zephyr:nrf52840dongle_nrf52840</span>, the nRF USB CDC ACM is the default backend for shell.</p>
</section>
</section>
<section id="user-interface">
<h2><a class="toc-backref" href="#id10">User interface</a><a class="headerlink" href="#user-interface" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>LED 1 (nRF52 Dongle):</dt><dd><p>Blinks green to indicate that the identification mode is on.</p>
</dd>
<dt>LED 3:</dt><dd><p>Turns on when the device joins the network.</p>
</dd>
<dt>LED 4 (supported DKs):</dt><dd><p>Blinks to indicate that the identification mode is on.</p>
</dd>
<dt>Button 1 (nRF52 Dongle):</dt><dd><p>Starts or cancels the Identify mode.</p>
</dd>
<dt>Button 4 (supported DKs):</dt><dd><p>Starts or cancels the Identify mode.</p>
</dd>
</dl>
<p>All other interactions with the application can be handled using serial communication.
See <a class="reference internal" href="../../../libraries/zigbee/shell.html#zigbee-shell-reference"><span class="std std-ref">Zigbee shell command list</span></a> for available serial commands.</p>
</section>
<section id="configuration">
<h2><a class="toc-backref" href="#id11">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>See <a class="reference internal" href="../../../getting_started/modifying.html#configure-application"><span class="std std-ref">Configuring your application</span></a> for information about how to permanently or temporarily change the configuration.</p>
<section id="enabling-and-disabling-endpoint-logging">
<h3><a class="toc-backref" href="#id12">Enabling and disabling endpoint logging</a><a class="headerlink" href="#enabling-and-disabling-endpoint-logging" title="Permalink to this heading"></a></h3>
<p>Zigbee Shell sample has <a class="reference internal" href="../../../libraries/zigbee/zigbee_logger_eprxzcl.html#lib-zigbee-logger-endpoint"><span class="std std-ref">Zigbee endpoint logger library</span></a> enabled by default and will log every ZCL packet received.</p>
<p>You can enable and disable logs from endpoint logger using the <code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">enable</span></code> and <code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">disable</span></code> shell commands with the appropriate log module instance name, respectively:</p>
<ul>
<li><p>To disable the logs from Zigbee endpoint logger, use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log</span> <span class="n">disable</span> <span class="n">zigbee</span><span class="o">.</span><span class="n">eprxzcl</span>
</pre></div>
</div>
</li>
<li><p>To enable logs from Zigbee endpoint logger and set its logging to the info level (<code class="docutils literal notranslate"><span class="pre">inf</span></code>), use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log</span> <span class="n">enable</span> <span class="n">inf</span> <span class="n">zigbee</span><span class="o">.</span><span class="n">eprxzcl</span>
</pre></div>
</div>
<p>You can also use the following command to see other available logging levels:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log</span> <span class="n">enable</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="building-and-running">
<h2><a class="toc-backref" href="#id13">Building and running</a><a class="headerlink" href="#building-and-running" title="Permalink to this heading"></a></h2>
<p>Make sure to configure the Zigbee stack before building and testing this sample.
See <a class="reference internal" href="../../../protocols/zigbee/configuring.html#ug-zigbee-configuring"><span class="std std-ref">Configuring Zigbee in nRF Connect SDK</span></a> for more information.</p>
<p>This sample can be found under <code class="file docutils literal notranslate"><span class="pre">samples/zigbee/shell</span></code> in the nRF Connect SDK folder structure.</p>
<p>To build the sample with Visual Studio Code, follow the steps listed on the <a class="reference external" href="https://nrfconnect.github.io/vscode-nrf-connect/get_started/build_app_ncs.html">How to build an application</a> page in the nRF Connect for VS Code extension documentation.
See <a class="reference internal" href="../../../getting_started/programming.html#gs-programming"><span class="std std-ref">Building and programming an application</span></a> for other building and programming scenarios and <a class="reference internal" href="../../../getting_started/testing.html#gs-testing"><span class="std std-ref">Testing and debugging an application</span></a> for general information about testing and debugging in the nRF Connect SDK.</p>
<section id="testing">
<span id="zigbee-shell-sample-testing"></span><h3><a class="toc-backref" href="#id14">Testing</a><a class="headerlink" href="#testing" title="Permalink to this heading"></a></h3>
<p>In this testing procedure, both of the development kits are programmed with the Zigbee Shell sample.
One of these samples acts as Zigbee Coordinator, the other one as Zigbee Router.</p>
<p>After building the sample and programming it to your development kits, complete the following steps to test it:</p>
<ol class="arabic">
<li><p>Turn on the development kits.</p></li>
<li><p>Set up the serial connection with the development kits using one of the <a class="reference internal" href="#available-shell-interfaces">Available shell interfaces</a>.</p></li>
<li><p>To set one shell device to work as coordinator, run the following shell command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bdb</span> <span class="n">role</span> <span class="n">zc</span>
</pre></div>
</div>
<p>This shell device is now the shell coordinator node.</p>
</li>
<li><p>Run the following command on the shell coordinator node to start a new Zigbee network:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bdb</span> <span class="n">start</span>
</pre></div>
</div>
</li>
<li><p>Run the following command on the second board programmed with the Shell sample:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bdb</span> <span class="n">start</span>
</pre></div>
</div>
<p>The shell device joins the network.</p>
</li>
<li><p>To check that the shell device has commissioned, run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">zdo</span> <span class="n">short</span>
</pre></div>
</div>
<p>The command returns the acquired short address of the shell device.</p>
</li>
<li><p>To check the communication between the nodes, issue a ping request with the acquired short address value and the payload size:</p>
<pre class="highlight literal-block">zcl ping <em>zdo_short_address</em> <em>payload_size</em></pre>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">zcl</span> <span class="n">ping</span> <span class="mh">0x2485</span> <span class="mi">10</span>
</pre></div>
</div>
<p>The ping time response is returned when the ping is successful, followed by the additional information from the endpoint logger.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Ping</span> <span class="n">time</span><span class="p">:</span> <span class="mi">20</span> <span class="n">ms</span>
<span class="n">Done</span>
<span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">21.261</span><span class="p">,</span><span class="mi">810</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">inf</span><span class="o">&gt;</span> <span class="n">zigbee</span><span class="o">.</span><span class="n">eprxzcl</span><span class="p">:</span> <span class="n">Received</span> <span class="n">ZCL</span> <span class="n">command</span> <span class="p">(</span><span class="mi">0</span><span class="p">):</span> <span class="n">src_addr</span><span class="o">=</span><span class="mh">0x2485</span><span class="p">(</span><span class="n">short</span><span class="p">)</span> <span class="n">src_ep</span><span class="o">=</span><span class="mi">64</span> <span class="n">dst_ep</span><span class="o">=</span><span class="mi">64</span> <span class="n">cluster_id</span><span class="o">=</span><span class="mh">0xbeef</span>
<span class="n">profile_id</span><span class="o">=</span><span class="mh">0x0104</span> <span class="n">cmd_dir</span><span class="o">=</span><span class="mi">0</span> <span class="n">common_cmd</span><span class="o">=</span><span class="mi">0</span> <span class="n">cmd_id</span><span class="o">=</span><span class="mh">0x01</span> <span class="n">cmd_seq</span><span class="o">=</span><span class="mi">0</span> <span class="n">disable_def_resp</span><span class="o">=</span><span class="mi">1</span> <span class="n">manuf_code</span><span class="o">=</span><span class="n">void</span> <span class="n">payload</span><span class="o">=</span><span class="p">[</span><span class="n">cdcdcdcdcdcdcdcdcdcd</span><span class="p">]</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Disable the endpoint logger:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">log</span> <span class="n">disable</span> <span class="n">zigbee</span><span class="o">.</span><span class="n">eprxzcl</span>
</pre></div>
</div>
</li>
<li><p>Issue another ping request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">zcl</span> <span class="n">ping</span> <span class="mh">0x2485</span> <span class="mi">10</span>
</pre></div>
</div>
<p>The result does not include the endpoint logger information anymore.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Ping</span> <span class="n">time</span><span class="p">:</span> <span class="mi">20</span> <span class="n">ms</span>
<span class="n">Done</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id15">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h2>
<p>This sample uses the following nRF Connect SDK libraries:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../libraries/zigbee/shell.html#lib-zigbee-shell"><span class="std std-ref">Zigbee shell</span></a></p></li>
<li><p><a class="reference internal" href="../../../libraries/zigbee/zigbee_error_handler.html#lib-zigbee-error-handler"><span class="std std-ref">Zigbee error handler</span></a></p></li>
<li><p><a class="reference internal" href="../../../libraries/zigbee/zigbee_app_utils.html#lib-zigbee-application-utilities"><span class="std std-ref">Zigbee application utilities</span></a></p></li>
<li><p>Zigbee subsystem:</p>
<ul>
<li><p><code class="file docutils literal notranslate"><span class="pre">zb_nrf_platform.h</span></code></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../../../libraries/others/dk_buttons_and_leds.html#dk-buttons-and-leds-readme"><span class="std std-ref">DK Buttons and LEDs</span></a></p></li>
</ul>
<p>It uses the following <a class="reference external" href="https://github.com/nrfconnect/sdk-nrfxlib">sdk-nrfxlib</a> libraries:</p>
<ul class="simple">
<li><p><span class="xref std std-ref">nrfxlib:zboss</span> 3.11.2.1 (<a class="reference external" href="https://developer.nordicsemi.com/nRF_Connect_SDK/doc/zboss/3.11.2.1/zigbee_devguide.html">API documentation</a>)</p></li>
</ul>
<p>In addition, it uses the following Zephyr libraries:</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">include/zephyr.h</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">include/device.h</span></code></p></li>
<li><p><span class="xref std std-ref">zephyr:logging_api</span></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../template/README.html" class="btn btn-neutral float-right" title="Zigbee: Template" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../network_coordinator/README.html" class="btn btn-neutral" title="Zigbee: Network coordinator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>