<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wi-Fi: Station &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Other samples" href="../../other.html" />
    <link rel="prev" title="Wi-Fi: Bluetooth LE coexistence" href="../sr_coex/README.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../applications.html">Applications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../samples.html">Samples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../bl.html">Bluetooth samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crypto.html">Cryptography samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edge.html">Edge Impulse samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gazell.html">Gazell samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matter.html">Matter samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nfc.html">NFC samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf5340.html">nRF5340 samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf9160.html">nRF9160 samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tfm.html">Trusted Firmware-M (TF-M) samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thread.html">Thread samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee.html">Zigbee samples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../wifi.html">Wi-Fi samples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../provisioning/README.html">Wi-Fi: Provisioning Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../radio_test/README.html">Wi-Fi: Radio test</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scan/README.html">Wi-Fi: Scan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shell/README.html">Wi-Fi: Shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sr_coex/README.html">Wi-Fi: Bluetooth LE coexistence</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Wi-Fi: Station</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-interface">User interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quad-serial-peripheral-interface-qspi-encryption">Quad Serial Peripheral Interface (QSPI) encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-management">Power management</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ip-addressing">IP addressing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-and-running">Building and running</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-management-testing">Power management testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../net/mqtt/README.html">MQTT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../other.html">Other samples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../samples.html">Samples</a></li>
          <li class="breadcrumb-item"><a href="../../wifi.html">Wi-Fi samples</a></li>
      <li class="breadcrumb-item active">Wi-Fi: Station</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/samples/wifi/sta/README.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wi-fi-station">
<span id="wifi-station-sample"></span><h1>Wi-Fi: Station<a class="headerlink" href="#wi-fi-station" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#requirements" id="id7">Requirements</a></p></li>
<li><p><a class="reference internal" href="#overview" id="id8">Overview</a></p></li>
<li><p><a class="reference internal" href="#user-interface" id="id9">User interface</a></p></li>
<li><p><a class="reference internal" href="#quad-serial-peripheral-interface-qspi-encryption" id="id10">Quad Serial Peripheral Interface (QSPI) encryption</a></p></li>
<li><p><a class="reference internal" href="#power-management" id="id11">Power management</a></p></li>
<li><p><a class="reference internal" href="#ip-addressing" id="id12">IP addressing</a></p></li>
<li><p><a class="reference internal" href="#building-and-running" id="id13">Building and running</a></p>
<ul>
<li><p><a class="reference internal" href="#testing" id="id14">Testing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#power-management-testing" id="id15">Power management testing</a></p>
<ul>
<li><p><a class="reference internal" href="#hardware-modifications" id="id16">Hardware modifications</a></p></li>
<li><p><a class="reference internal" href="#ppk2-usage-and-measurement" id="id17">PPK2 usage and measurement</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#dependencies" id="id18">Dependencies</a></p></li>
</ul>
</div>
<p>The Station sample demonstrates how to connect the Wi-Fi® station to a specified access point using Dynamic Host Configuration Protocol (DHCP).</p>
<section id="requirements">
<h2><a class="toc-backref" href="#id7">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<p>The sample supports the following development kit:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 7%" />
<col style="width: 40%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Hardware platforms</p></th>
<th class="head"><p>PCA</p></th>
<th class="head"><p>Board name</p></th>
<th class="head"><p>Build target</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf70/gs.html#nrf7002dk-nrf5340"><span class="std std-ref">nRF7002 DK</span></a></p></td>
<td><p>PCA10143</p></td>
<td><p><a class="reference internal" href="../../../working_with_nrf/nrf70/gs.html#nrf7002dk-nrf5340"><span class="std std-ref">nrf7002dk_nrf5340</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf53/nrf5340.html#ug-nrf5340"><span class="std std-ref">nRF5340 DK</span></a></p></td>
<td><p>PCA10095</p></td>
<td><p><span class="xref std std-ref">nrf5340dk_nrf5340</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf5340dk_nrf5340_cpuapp</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf52/developing.html#ug-nrf52"><span class="std std-ref">nRF52840 DK</span></a></p></td>
<td><p>PCA10056</p></td>
<td><p><span class="xref std std-ref">nrf52840dk_nrf52840</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf52840dk_nrf52840</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="overview">
<h2><a class="toc-backref" href="#id8">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>This sample can perform Wi-Fi operations such as connect and disconnect in the 2.4GHz and 5GHz bands depending on the capabilities of an access point.</p>
<p>Using this sample, the development kit can connect to the specified access point in <abbr title="Station">STA</abbr> mode.</p>
</section>
<section id="user-interface">
<h2><a class="toc-backref" href="#id9">User interface</a><a class="headerlink" href="#user-interface" title="Permalink to this heading"></a></h2>
<p>The sample adds LED support to map with connection and disconnection events.</p>
<dl>
<dt>LED 1:</dt><dd><p>Starts blinking when the sample is connected to the access point.</p>
<p>Stops blinking when the sample is disconnected from the access point.</p>
</dd>
</dl>
</section>
<section id="quad-serial-peripheral-interface-qspi-encryption">
<h2><a class="toc-backref" href="#id10">Quad Serial Peripheral Interface (QSPI) encryption</a><a class="headerlink" href="#quad-serial-peripheral-interface-qspi-encryption" title="Permalink to this heading"></a></h2>
<p>This sample demonstrates QSPI encryption API usage.
The key can be set by the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_NRF700X_QSPI_ENCRYPTION_KEY</span></code> Kconfig option.</p>
<p>If encryption of the QSPI traffic is required for the production devices, then matching keys must be programmed in both the nRF7002 OTP and non-volatile storage associated with the host.
The key from non-volatile storage must be set as the encryption key using the APIs.</p>
</section>
<section id="power-management">
<h2><a class="toc-backref" href="#id11">Power management</a><a class="headerlink" href="#power-management" title="Permalink to this heading"></a></h2>
<p>This sample also enables Zephyr’s power management policy by default, which puts the nRF5340 <a class="reference internal" href="../../../glossary.html#term-System-on-Chip-SoC"><span class="xref std std-term">System on Chip (SoC)</span></a> into low-power mode whenever it is idle.
See <span class="xref std std-ref">zephyr:pm-guide</span> in the Zephyr documentation for more information on power management.</p>
</section>
<section id="ip-addressing">
<h2><a class="toc-backref" href="#id12">IP addressing</a><a class="headerlink" href="#ip-addressing" title="Permalink to this heading"></a></h2>
<p>The sample uses DHCP to obtain an IP address for the Wi-Fi interface. It starts with a default static IP address to handle networks without DHCP servers, or if the DHCP server is not available.
Successful DHCP handshake will override the default static IP configuration.</p>
<p>The following static configuration is by default and can be changed in the <code class="docutils literal notranslate"><span class="pre">prj.conf</span></code> file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">CONFIG_NET_CONFIG_MY_IPV4_ADDR=&quot;192.168.1.98&quot;</span>
<span class="go">CONFIG_NET_CONFIG_MY_IPV4_NETMASK=&quot;255.255.255.0&quot;</span>
<span class="go">CONFIG_NET_CONFIG_MY_IPV4_GW=&quot;192.168.1.1&quot;</span>
</pre></div>
</div>
</section>
<section id="building-and-running">
<h2><a class="toc-backref" href="#id13">Building and running</a><a class="headerlink" href="#building-and-running" title="Permalink to this heading"></a></h2>
<p>This sample can be found under <code class="file docutils literal notranslate"><span class="pre">samples/wifi/sta</span></code> in the nRF Connect SDK folder structure.</p>
<p>When built as firmware image for the <code class="docutils literal notranslate"><span class="pre">_ns</span></code> build target, the sample has Cortex-M Security Extensions (CMSE) enabled and separates the firmware between Non-Secure Processing Environment (NSPE) and Secure Processing Environment (SPE).
Because of this, it automatically includes the <a class="reference internal" href="../../../app_dev/tfm/index.html#ug-tfm"><span class="std std-ref">Trusted Firmware-M (TF-M)</span></a>.
To read more about CMSE, see <a class="reference internal" href="../../../app_dev/board_support/index.html#app-boards-spe-nspe"><span class="std std-ref">Processing environments</span></a>.</p>
<p>To build the sample with Visual Studio Code, follow the steps listed on the <a class="reference external" href="https://nrfconnect.github.io/vscode-nrf-connect/get_started/build_app_ncs.html">How to build an application</a> page in the nRF Connect for VS Code extension documentation.
See <a class="reference internal" href="../../../getting_started/programming.html#gs-programming"><span class="std std-ref">Building and programming an application</span></a> for other building and programming scenarios and <a class="reference internal" href="../../../getting_started/testing.html#gs-testing"><span class="std std-ref">Testing and debugging an application</span></a> for general information about testing and debugging in the nRF Connect SDK.</p>
<p>Currently, the following board(s) are supported:</p>
<ul class="simple">
<li><p>nRF7002 DK</p></li>
</ul>
<p>You must configure the following Wi-Fi credentials in <code class="docutils literal notranslate"><span class="pre">prj.conf</span></code>:</p>
<ul class="simple">
<li><p>Network name (SSID)</p></li>
<li><p>Key management</p></li>
<li><p>Password</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">menuconfig</span></code> to enable <code class="docutils literal notranslate"><span class="pre">Key</span> <span class="pre">management</span></code> option.</p>
</div>
<p>See <span class="xref std std-ref">zephyr:menuconfig</span> in the Zephyr documentation for instructions on how to run <code class="docutils literal notranslate"><span class="pre">menuconfig</span></code>.</p>
<p>To build for the nRF7002 DK, use the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp</span></code> build target.
The following is an example of the CLI command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west build -b nrf7002dk_nrf5340_cpuapp</span>
</pre></div>
</div>
<section id="testing">
<h3><a class="toc-backref" href="#id14">Testing</a><a class="headerlink" href="#testing" title="Permalink to this heading"></a></h3>
<p>After programming the sample to your development kit, complete the following steps to test it:</p>
<ol class="arabic">
<li><p>Connect the kit to the computer using a USB cable.
The kit is assigned a COM port (Windows) or ttyACM device (Linux), which is visible in the Device Manager.</p></li>
<li><p>Connect to the kit with a terminal emulator (for example, PuTTY).
See <a class="reference internal" href="../../../getting_started/testing.html#putty"><span class="std std-ref">How to connect with PuTTY</span></a> for the required settings.</p>
<p>The sample shows the following output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">[00:00:02.016,235] &lt;inf&gt; sta: Connection requested</span>
<span class="go">[00:00:02.316,314] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:02.316,314] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:02.616,424] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:02.616,424] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:02.916,534] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:02.916,534] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:03.216,613] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:03.216,613] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:03.516,723] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:03.516,723] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:03.816,802] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:03.816,802] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:04.116,882] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:04.116,882] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:04.416,961] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:04.416,961] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:04.717,071] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:04.717,071] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:05.017,150] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:05.017,150] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:05.317,230] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:05.317,230] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:05.617,309] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:05.617,309] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:05.917,419] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:05.917,419] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:06.217,529] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:06.217,529] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:06.517,639] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:06.517,639] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:06.817,749] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:06.817,749] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:07.117,858] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:07.117,858] &lt;inf&gt; sta: State: SCANNING</span>
<span class="go">[00:00:07.336,730] &lt;inf&gt; wpa_supp: wlan0: SME: Trying to authenticate with aa:bb:cc:dd:ee:ff (SSID=&#39;&lt;MySSID&gt;&#39; freq=5785 MHz)</span>
<span class="go">[00:00:07.353,027] &lt;inf&gt; wifi_nrf: wifi_nrf_wpa_supp_authenticate:Authentication request sent successfully</span>

<span class="go">[00:00:07.417,938] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:07.417,938] &lt;inf&gt; sta: State: AUTHENTICATING</span>
<span class="go">[00:00:07.606,628] &lt;inf&gt; wpa_supp: wlan0: Trying to associate with aa:bb:cc:dd:ee:ff (SSID=&#39;&lt;MySSID&gt;&#39; freq=5785 MHz)</span>
<span class="go">[00:00:07.609,680] &lt;inf&gt; wifi_nrf: wifi_nrf_wpa_supp_associate: Association request sent successfully</span>

<span class="go">[00:00:07.621,978] &lt;inf&gt; wpa_supp: wpa_drv_zep_get_ssid: SSID size: 5</span>

<span class="go">[00:00:07.622,070] &lt;inf&gt; wpa_supp: wlan0: Associated with aa:bb:cc:dd:ee:ff</span>
<span class="go">[00:00:07.622,192] &lt;inf&gt; wpa_supp: wlan0: CTRL-EVENT-CONNECTED - Connection to aa:bb:cc:dd:ee:ff completed [id=0 id_str=]</span>
<span class="go">[00:00:07.622,192] &lt;inf&gt; sta: Connected</span>
<span class="go">[00:00:07.623,779] &lt;inf&gt; wpa_supp: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0</span>
<span class="go">[00:00:07.648,406] &lt;inf&gt; net_dhcpv4: Received: 192.168.119.6</span>
<span class="go">[00:00:07.648,468] &lt;inf&gt; net_config: IPv4 address: 192.168.119.6</span>
<span class="go">[00:00:07.648,498] &lt;inf&gt; net_config: Lease time: 3599 seconds</span>
<span class="go">[00:00:07.648,498] &lt;inf&gt; net_config: Subnet: 255.255.255.0</span>
<span class="go">[00:00:07.648,529] &lt;inf&gt; net_config: Router: 192.168.119.147</span>
<span class="go">[00:00:07.648,559] &lt;inf&gt; sta: DHCP IP address: 192.168.119.6</span>
<span class="go">[00:00:07.720,153] &lt;inf&gt; sta: ==================</span>
<span class="go">[00:00:07.720,153] &lt;inf&gt; sta: State: COMPLETED</span>
<span class="go">[00:00:07.720,153] &lt;inf&gt; sta: Interface Mode: STATION</span>
<span class="go">[00:00:07.720,184] &lt;inf&gt; sta: Link Mode: WIFI 6 (802.11ax/HE)</span>
<span class="go">[00:00:07.720,184] &lt;inf&gt; sta: SSID: &lt;MySSID&gt;</span>
<span class="go">[00:00:07.720,214] &lt;inf&gt; sta: BSSID: aa:bb:cc:dd:ee:ff</span>
<span class="go">[00:00:07.720,214] &lt;inf&gt; sta: Band: 5GHz</span>
<span class="go">[00:00:07.720,214] &lt;inf&gt; sta: Channel: 157</span>
<span class="go">[00:00:07.720,245] &lt;inf&gt; sta: Security: OPEN</span>
<span class="go">[00:00:07.720,245] &lt;inf&gt; sta: MFP: UNKNOWN</span>
<span class="go">[00:00:07.720,245] &lt;inf&gt; sta: RSSI: -57</span>
<span class="go">[00:00:07.720,245] &lt;inf&gt; sta: Static IP address:</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="power-management-testing">
<h2><a class="toc-backref" href="#id15">Power management testing</a><a class="headerlink" href="#power-management-testing" title="Permalink to this heading"></a></h2>
<p>This sample can be used to measure current consumption of both the nRF5340 SoC and nRF7002 device independently by using two separate Power Profiler Kit II’s (PPK2’s).
The nRF5340 SoC is connected to the first PPK2 and the nRF7002 DK is connected to the second PPK2.</p>
<section id="hardware-modifications">
<h3><a class="toc-backref" href="#id16">Hardware modifications</a><a class="headerlink" href="#hardware-modifications" title="Permalink to this heading"></a></h3>
<p>To measure the current consumption of the nRF5340 SoC in the nRF7002 DK, complete the following steps:</p>
<blockquote>
<div><ul>
<li><p>Remove jumper on <strong>P22</strong> (VDD jumper).</p></li>
<li><p>Cut solder bridge <strong>SB16</strong>.</p></li>
<li><p>Make a short on solder bridge <strong>SB17</strong>.</p></li>
<li><p>Connect <strong>GND</strong> on PPK2 kit to <strong>GND</strong> on the nRF7002 DK.</p>
<p>You can use <strong>P4</strong> pin <strong>7</strong> mentioned as <strong>GND</strong> for ground.
Note that this connection requires a berg pin connector.</p>
</li>
<li><p>Connect the <strong>Vout</strong> on PPK2 to <strong>P22</strong> pin <strong>1</strong> on the nRF7002 DK.</p></li>
</ul>
</div></blockquote>
<p>To measure the current consumption of the nRF7002 device in the nRF7002 DK, complete the following steps:</p>
<blockquote>
<div><ul>
<li><p>Remove jumper on <strong>P23</strong> (VBAT jumper).</p></li>
<li><p>Connect <strong>GND</strong> on PPK2 kit to <strong>GND</strong> on the nRF7002 DK.</p>
<p>You can use <strong>P21</strong> pin <strong>1</strong> mentioned as <strong>-</strong> (<strong>MINUS</strong>) for ground.</p>
</li>
<li><p>Connect the <strong>Vout</strong> on PPK2 to <strong>P23</strong> pin <strong>1</strong> on the nRF7002 DK.</p></li>
</ul>
</div></blockquote>
<p>The following diagram illustrates a typical configuration for measuring current on the nRF7002 DK for both the nRF5340 SoC and the nRF7002 device:</p>
<blockquote>
<div><figure class="align-default" id="id6">
<img alt="Typical configuration for measuring current on the nRF7002 DK for both the nRF5340 SoC and the nRF7002 device." src="../../../_images/nrf7002_nrf5340_current_measurements.svg" /><figcaption>
<p><span class="caption-text">Typical configuration for measuring current on the nRF7002 DK for both the nRF5340 SoC and the nRF7002 device.</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</section>
<section id="ppk2-usage-and-measurement">
<h3><a class="toc-backref" href="#id17">PPK2 usage and measurement</a><a class="headerlink" href="#ppk2-usage-and-measurement" title="Permalink to this heading"></a></h3>
<p>To measure the current consumption of the nRF5340 SoC and the nRF7002 device, complete the following steps:</p>
<ul class="simple">
<li><p>Configure PPK2 connected to the nRF5340 SoC as a source meter with 1.8 volts.</p></li>
<li><p>Configure PPK2 connected to the nRF7002 device as a source meter with 3.6 volts.</p></li>
</ul>
<p>See <a class="reference internal" href="../../../app_dev/optimizing/power.html#app-power-opt"><span class="std std-ref">Power optimization</span></a> for more information on power management testing and usage of the PPK2.</p>
<p>The average current consumption in an idle case can be around ~1-2 mA in the nRF5340 SoC and ~20 µA in the nRF7002 device.</p>
</section>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id18">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h2>
<p>This sample uses the following <a class="reference external" href="https://github.com/nrfconnect/sdk-nrfxlib">sdk-nrfxlib</a> library:</p>
<ul class="simple">
<li><p><span class="xref std std-ref">nrfxlib:nrf_security</span></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../other.html" class="btn btn-neutral float-right" title="Other samples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../sr_coex/README.html" class="btn btn-neutral" title="Wi-Fi: Bluetooth LE coexistence" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>