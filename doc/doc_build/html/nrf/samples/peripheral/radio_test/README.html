<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Radio test (short-range) &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="BH1749: Ambient Light Sensor IC" href="../../sensor/bh1749/README.html" />
    <link rel="prev" title="Low Power UART" href="../lpuart/README.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../applications.html">Applications</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../samples.html">Samples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../bl.html">Bluetooth samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crypto.html">Cryptography samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../edge.html">Edge Impulse samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gazell.html">Gazell samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matter.html">Matter samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nfc.html">NFC samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf5340.html">nRF5340 samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nrf9160.html">nRF9160 samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tfm.html">Trusted Firmware-M (TF-M) samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thread.html">Thread samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee.html">Zigbee samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wifi.html">Wi-Fi samples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../other.html">Other samples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../app_event_manager/README.html">Application Event Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app_event_manager_profiler_tracer/README.html">Application Event Manager profiling tracer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bootloader/README.html">nRF Secure Immutable Bootloader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../caf/README.html">Common Application Framework preview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../caf_sensor_manager/README.html">CAF: Sensor manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../esb/README.html">Enhanced ShockBurst: Transmitter/Receiver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../event_manager_proxy/README.html">Event Manager Proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hw_id/README.html">Hardware ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf_profiler/README.html">Profiler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../debug/ppi_trace/README.html">PPI trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ipc/ipc_service/README.html">IPC service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../keys/hw_unique_key/README.html">Hardware unique key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../keys/identity_key_generation/README.html">Identity key generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../keys/identity_key_usage/README.html">Identity key usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../keys/random_hw_unique_key/README.html">Random hardware unique key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mpsl/timeslot/README.html">MPSL timeslot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../802154_phy_test/README.html">IEEE 802.15.4 PHY test tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lpuart/README.html">Low Power UART</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Radio test (short-range)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-interface">User interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-and-running">Building and running</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sensor/bh1749/README.html">BH1749: Ambient Light Sensor IC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../samples.html">Samples</a></li>
          <li class="breadcrumb-item"><a href="../../other.html">Other samples</a></li>
      <li class="breadcrumb-item active">Radio test (short-range)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/samples/peripheral/radio_test/README.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="radio-test-short-range">
<span id="radio-test"></span><h1>Radio test (short-range)<a class="headerlink" href="#radio-test-short-range" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#requirements" id="id7">Requirements</a></p>
<ul>
<li><p><a class="reference internal" href="#nrf21540-front-end-module" id="id8">nRF21540 front-end module</a></p></li>
<li><p><a class="reference internal" href="#skyworks-front-end-module" id="id9">Skyworks front-end module</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#overview" id="id10">Overview</a></p></li>
<li><p><a class="reference internal" href="#user-interface" id="id11">User interface</a></p>
<ul>
<li><p><a class="reference internal" href="#tx-output-power" id="id12">Tx output power</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#building-and-running" id="id13">Building and running</a></p>
<ul>
<li><p><a class="reference internal" href="#remote-usb-cdc-acm-shell-variant" id="id14">Remote USB CDC ACM Shell variant</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id15">Testing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#dependencies" id="id16">Dependencies</a></p></li>
</ul>
</div>
<p>The Radio test sample demonstrates how to configure the 2.4 GHz short-range radio (Bluetooth® LE, IEEE 802.15.4 and proprietary) in a specific mode and then test its performance.
The sample provides a set of predefined commands that allow you to configure the radio in three modes:</p>
<ul class="simple">
<li><p>Constant RX or TX carrier</p></li>
<li><p>Modulated TX carrier</p></li>
<li><p>RX or TX sweep</p></li>
</ul>
<section id="requirements">
<h2><a class="toc-backref" href="#id7">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h2>
<p>The sample supports the following development kits:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 7%" />
<col style="width: 40%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Hardware platforms</p></th>
<th class="head"><p>PCA</p></th>
<th class="head"><p>Board name</p></th>
<th class="head"><p>Build target</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf70/gs.html#nrf7002dk-nrf5340"><span class="std std-ref">nRF7002 DK</span></a></p></td>
<td><p>PCA10143</p></td>
<td><p><a class="reference internal" href="../../../working_with_nrf/nrf70/gs.html#nrf7002dk-nrf5340"><span class="std std-ref">nrf7002dk_nrf5340</span></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpunet</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf53/nrf5340.html#ug-nrf5340"><span class="std std-ref">nRF5340 DK</span></a></p></td>
<td><p>PCA10095</p></td>
<td><p><span class="xref std std-ref">nrf5340dk_nrf5340</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf5340dk_nrf5340_cpunet</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf52/developing.html#ug-nrf52"><span class="std std-ref">nRF52 DK</span></a></p></td>
<td><p>PCA10040</p></td>
<td><p><span class="xref std std-ref">nrf52dk_nrf52832</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf52dk_nrf52832</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../working_with_nrf/nrf52/developing.html#ug-nrf52"><span class="std std-ref">nRF52840 DK</span></a></p></td>
<td><p>PCA10056</p></td>
<td><p><span class="xref std std-ref">nrf52840dk_nrf52840</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nrf52840dk_nrf52840</span></code></p></td>
</tr>
</tbody>
</table>
<p>You can use any one of the development kits listed above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On nRF5340 DK and nRF7002 DK, the sample is designed to run on the network core and requires the <a class="reference internal" href="../../nrf5340/remote_shell/README.html#nrf5340-remote-shell"><span class="std std-ref">nRF5340: Remote IPC shell</span></a> running on the application core.
This sample uses the <a class="reference internal" href="../../../libraries/shell/shell_ipc.html#shell-ipc-readme"><span class="std std-ref">IPC service shell transport</span></a> library to forward shell data through the physical UART interface of the application core.</p>
</div>
<p>The sample also requires one of the following testing devices:</p>
<blockquote>
<div><ul class="simple">
<li><p>Another development kit with the same sample.
See <a class="reference internal" href="#radio-test-testing-board"><span class="std std-ref">Testing with another development kit</span></a>.</p></li>
<li><p>Another development kit connected to a PC with RSSI Viewer application (available in the <a class="reference external" href="https://www.nordicsemi.com/Software-and-Tools/Development-Tools/nRF-Connect-for-desktop">nRF Connect for Desktop</a>).
See <a class="reference internal" href="#radio-test-testing-rssi"><span class="std std-ref">Testing with RSSI Viewer</span></a>.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can perform the radio test also using a spectrum analyzer.
This method of testing is not covered by this documentation.</p>
</div>
<section id="nrf21540-front-end-module">
<h3><a class="toc-backref" href="#id8">nRF21540 front-end module</a><a class="headerlink" href="#nrf21540-front-end-module" title="Permalink to this heading"></a></h3>
<p>You can add support for the nRF21540 front-end module (FEM) to the sample.</p>
<p>To add support for the nRF21540 FEM, build the sample for a board containing nRF21540 FEM like <span class="xref std std-ref">nrf21540dk_nrf52840</span> or create a devicetree overlay file describing how FEM is connected to nRF5 SoC in your device.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you use the nRF21540 EK, append <code class="docutils literal notranslate"><span class="pre">nrf21540_ek</span></code> shield to your build command instructing build system to append the appropriate devicetree overlay file.
If you use the nRF21540 DK, build your application for the <span class="xref std std-ref">nrf21540dk_nrf52840</span> board.
The devicetree for the nRF21540 DK already contains the required FEM configuration, so you do not need to set an additional build option.</p>
</div>
<p>For example, to build the sample from the command line for an nRF5340 DK with an attached nRF21540 EK, invoke the following command within the sample directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west build -b nrf5340dk_nrf5340_cpunet -- -DSHIELD=nrf21540_ek</span>
</pre></div>
</div>
<p>For more details refer to the following documentation:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../app_dev/working_with_fem/index.html#ug-radio-fem"><span class="std std-ref">Working with RF front-end modules</span></a></p></li>
<li><p><a class="reference internal" href="../../../app_dev/working_with_fem/index.html#ug-radio-fem-direct-support"><span class="std std-ref">Direct support</span></a></p></li>
<li><p><a class="reference internal" href="../../../app_dev/working_with_fem/index.html#ug-radio-fem-nrf21540-spi-gpio"><span class="std std-ref">SPI/GPIO mode</span></a></p></li>
<li><p><a class="reference internal" href="../../../app_dev/working_with_fem/index.html#ug-radio-fem-nrf21540-ek"><span class="std std-ref">nRF21540 EK</span></a></p></li>
</ul>
<p>You can configure the nRF21540 front-end module (FEM) transmitted power gain, antenna output and activation delay using the main shell commands of the <a class="reference internal" href="#radio-test-ui"><span class="std std-ref">User interface</span></a>.</p>
</section>
<section id="skyworks-front-end-module">
<h3><a class="toc-backref" href="#id9">Skyworks front-end module</a><a class="headerlink" href="#skyworks-front-end-module" title="Permalink to this heading"></a></h3>
<p>The Skyworks SKY66114 and SKY66403 are front-end module (FEM) devices that support the 2-pin PA/LNA interface.
You can also use other Skyworks FEM devices that provide the same hardware interface.</p>
<p>To use the generic FEM implementation with Skyworks front-end modules refer to <a class="reference internal" href="../../../app_dev/working_with_fem/index.html#ug-radio-fem-skyworks"><span class="std std-ref">Adding support for Skyworks front-end module</span></a> for details.</p>
<section id="use-case-of-incomplete-physical-connections-to-the-fem-module">
<h4>Use case of incomplete physical connections to the FEM module<a class="headerlink" href="#use-case-of-incomplete-physical-connections-to-the-fem-module" title="Permalink to this heading"></a></h4>
<p>The devicetree configuration allows you to use a minimal pin configuration.
Connect all unused pins to the fixed logic level as instructed in the official documentation.
For example, <code class="docutils literal notranslate"><span class="pre">csd-gpios</span></code> is an optional pin that sets the device into sleep mode.
If this pin is not controlled by the driver, it must be connected to the fixed logic level.</p>
<p>You can configure the Skyworks front-end module (FEM) antenna output and activation delay using the main shell commands of the <a class="reference internal" href="#radio-test-ui"><span class="std std-ref">User interface</span></a>.</p>
</section>
</section>
</section>
<section id="overview">
<h2><a class="toc-backref" href="#id10">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>To run the tests, connect to the development kit through the serial port and send shell commands.
Zephyr’s <span class="xref std std-ref">zephyr:shell_api</span> module is used to handle the commands.
At any time during the tests, you can dynamically set the radio parameters, such as output power, bit rate, and channel.
In sweep mode, you can set the time for which the radio scans each channel from 1 millisecond to 99 milliseconds, in steps of 1 millisecond.
The sample also allows you to send a data pattern to another development kit.</p>
<p>The sample first enables the high frequency crystal oscillator and configures the shell.
You can then start running commands to set up and control the radio.
See <a class="reference internal" href="#radio-test-ui"><span class="std std-ref">User interface</span></a> for a list of available commands.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the IEEE 802.15.4 mode, the start channel and the end channel must be within the channel range of 11 to 26.
Use the <code class="docutils literal notranslate"><span class="pre">start_channel</span></code> and <code class="docutils literal notranslate"><span class="pre">end_channel</span></code> commands to control this setting.</p>
</div>
</section>
<section id="user-interface">
<span id="radio-test-ui"></span><h2><a class="toc-backref" href="#id11">User interface</a><a class="headerlink" href="#user-interface" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">Main shell commands (in alphabetical order)</span><a class="headerlink" href="#id6" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Argument</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cancel</p></td>
<td></td>
<td><p>Cancel the sweep or the carrier.</p></td>
</tr>
<tr class="row-odd"><td><p>data_rate</p></td>
<td><p>&lt;sub_cmd&gt;</p></td>
<td><p>Set the data rate.</p></td>
</tr>
<tr class="row-even"><td><p>end_channel</p></td>
<td><p>&lt;channel&gt;</p></td>
<td><p>End channel for the sweep (in MHz, as difference from 2400 MHz).</p></td>
</tr>
<tr class="row-odd"><td><p>fem</p></td>
<td><p>&lt;sub_cmd&gt;</p></td>
<td><p>Set front-end module (FEM) parameters.</p></td>
</tr>
<tr class="row-even"><td><p>output_power</p></td>
<td><p>&lt;sub_cmd&gt;</p></td>
<td><p>Output power set.
If a front-end module is attached and the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_RADIO_TEST_POWER_CONTROL_AUTOMATIC</span></code> Kconfig option is enabled, it has the same effect as the <code class="docutils literal notranslate"><span class="pre">total_output_power</span></code> command.</p></td>
</tr>
<tr class="row-odd"><td><p>parameters_print</p></td>
<td></td>
<td><p>Print current delay, channel, and other parameters.</p></td>
</tr>
<tr class="row-even"><td><p>print_rx</p></td>
<td></td>
<td><p>Print the received RX payload.</p></td>
</tr>
<tr class="row-odd"><td><p>start_channel</p></td>
<td><p>&lt;channel&gt;</p></td>
<td><p>Start channel for the sweep or the channel for the constant carrier (in MHz, as difference from 2400 MHz).</p></td>
</tr>
<tr class="row-even"><td><p>start_duty_cycle_modulated_tx</p></td>
<td><p>&lt;duty_cycle&gt;</p></td>
<td><p>Duty cycle in percent (two decimal digits, between 01 and 90).</p></td>
</tr>
<tr class="row-odd"><td><p>start_rx</p></td>
<td></td>
<td><p>Start RX.</p></td>
</tr>
<tr class="row-even"><td><p>start_rx_sweep</p></td>
<td></td>
<td><p>Start the RX sweep.</p></td>
</tr>
<tr class="row-odd"><td><p>start_tx_carrier</p></td>
<td></td>
<td><p>Start the TX carrier.</p></td>
</tr>
<tr class="row-even"><td><p>start_tx_modulated_carrier</p></td>
<td><p>&lt;packet_num&gt;</p></td>
<td><p>Start the modulated TX carrier (continuous TX mode is used if no argument is provided).</p></td>
</tr>
<tr class="row-odd"><td><p>start_tx_sweep</p></td>
<td></td>
<td><p>Start the TX sweep.</p></td>
</tr>
<tr class="row-even"><td><p>time_on_channel</p></td>
<td><p>&lt;time&gt;</p></td>
<td><p>Time on each channel in ms (between 1 and 99).</p></td>
</tr>
<tr class="row-odd"><td><p>toggle_dcdc_state</p></td>
<td><p>&lt;state&gt;</p></td>
<td><p>Toggle DC/DC converter state.</p></td>
</tr>
<tr class="row-even"><td><p>transmit_pattern</p></td>
<td><p>&lt;sub_cmd&gt;</p></td>
<td><p>Set transmission pattern.</p></td>
</tr>
<tr class="row-odd"><td><p>total_output_power</p></td>
<td><p>&lt;tx output power&gt;</p></td>
<td><p>Set total output power in dBm.
This value includes SoC output power and front-end module gain.</p></td>
</tr>
</tbody>
</table>
<section id="tx-output-power">
<h3><a class="toc-backref" href="#id12">Tx output power</a><a class="headerlink" href="#tx-output-power" title="Permalink to this heading"></a></h3>
<p>This sample has a few commands that you can use to test the device output power.
The behavior of the commands vary depending on the hardware configuration and Kconfig options as follows:</p>
<ul class="simple">
<li><p>Radio Test without front-end module support:</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">output_power</span></code> command sets the SoC output command with a subcommand set.
The output power is set directly in the radio peripheral.</p></li>
</ul>
</li>
<li><p>Radio Test with front-end module support in default configuration (the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_RADIO_TEST_POWER_CONTROL_AUTOMATIC</span></code> Kconfig option is enabled):</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">output_power</span></code> command sets the total output power, including front-end module gain.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">total_output_power</span></code> command sets the total output power, including front-end module gain with a value in dBm unit provided by user.</p></li>
<li><p>For these commands, the radio peripheral and FEM gain is calculated and set automatically to meet your requirements.</p></li>
<li><p>If an exact output power value cannot be set, a lower value is used.</p></li>
</ul>
</li>
<li><p>Radio Test with front-end module support and manual Tx output power control (the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_RADIO_TEST_POWER_CONTROL_AUTOMATIC</span></code> Kconfig option is disabled):</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">output_power</span></code> command sets the SoC output command with a subcommands set.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">fem</span></code> command with the <code class="docutils literal notranslate"><span class="pre">tx_gain</span></code> subcommand sets the front-end module gain to an arbitrary value for given front-end module.</p></li>
<li><p>You can use this configuration to perform tests on your hardware design.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="building-and-running">
<h2><a class="toc-backref" href="#id13">Building and running</a><a class="headerlink" href="#building-and-running" title="Permalink to this heading"></a></h2>
<p>This sample can be found under <code class="file docutils literal notranslate"><span class="pre">samples/peripheral/radio_test</span></code> in the nRF Connect SDK folder structure.</p>
<p>To build the sample with Visual Studio Code, follow the steps listed on the <a class="reference external" href="https://nrfconnect.github.io/vscode-nrf-connect/get_started/build_app_ncs.html">How to build an application</a> page in the nRF Connect for VS Code extension documentation.
See <a class="reference internal" href="../../../getting_started/programming.html#gs-programming"><span class="std std-ref">Building and programming an application</span></a> for other building and programming scenarios and <a class="reference internal" href="../../../getting_started/testing.html#gs-testing"><span class="std std-ref">Testing and debugging an application</span></a> for general information about testing and debugging in the nRF Connect SDK.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On the nRF5340 or nRF7002 development kit, the Radio Test sample requires the <a class="reference internal" href="../../nrf5340/remote_shell/README.html#nrf5340-remote-shell"><span class="std std-ref">nRF5340: Remote IPC shell</span></a> sample on the application core.
The Remote IPC shell sample is built and programmed automatically by default.
If you want to program your custom solution for the application core, unset the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_NCS_SAMPLE_REMOTE_SHELL_CHILD_IMAGE</span></code> Kconfig option.</p>
</div>
<section id="remote-usb-cdc-acm-shell-variant">
<h3><a class="toc-backref" href="#id14">Remote USB CDC ACM Shell variant</a><a class="headerlink" href="#remote-usb-cdc-acm-shell-variant" title="Permalink to this heading"></a></h3>
<p>This sample can run the remote IPC Service Shell through the USB on the nRF5340 DK application core.
For example, when building on the command line, you can do so as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west build samples/peripheral/radio_test -b nrf5340dk_nrf5340_cpunet -- -DCONFIG_RADIO_TEST_USB=y</span>
</pre></div>
</div>
<p>You can also build this sample with the remote IPC Service Shell and support for the front-end module.
You can use the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">west build samples/peripheral/radio_test -b nrf5340dk_nrf5340_cpunet -- -DSHIELD=nrf21540_ek -DCONFIG_RADIO_TEST_USB=y</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also build the sample with the remote IPC Service Shell for the nRF7002 DK board (PCA10143) using the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpunet</span></code> build target in the commands.</p>
</div>
</section>
<section id="testing">
<span id="radio-test-testing"></span><h3><a class="toc-backref" href="#id15">Testing</a><a class="headerlink" href="#testing" title="Permalink to this heading"></a></h3>
<p>After programming the sample to your development kit, complete the following steps to test it in one of the following two ways:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the nRF5340 DK board (PCA10095) or nRF7002 DK board (PCA10143), see <a class="reference internal" href="../../../working_with_nrf/nrf53/nrf5340.html#logging-cpunet"><span class="std std-ref">Getting logging output</span></a> for information about the COM terminals on which the logging output is available.</p>
</div>
<section id="testing-with-another-development-kit">
<span id="radio-test-testing-board"></span><h4>Testing with another development kit<a class="headerlink" href="#testing-with-another-development-kit" title="Permalink to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Connect both development kits to the computer using a USB cable.
The kits are assigned a COM port (Windows) or ttyACM device (Linux), which is visible in the Device Manager.</p></li>
<li><p>Connect to both kits with a terminal emulator that supports VT100/ANSI escape characters (for example, PuTTY).
See <a class="reference internal" href="../../../getting_started/testing.html#putty"><span class="std std-ref">How to connect with PuTTY</span></a> for the required settings.</p></li>
<li><p>Run the following commands on one of the kits:</p>
<ol class="loweralpha simple">
<li><p>Set the data rate with the <code class="docutils literal notranslate"><span class="pre">data_rate</span></code> command to <code class="docutils literal notranslate"><span class="pre">ble_2Mbit</span></code>.</p></li>
<li><p>Set the transmission pattern with the <code class="docutils literal notranslate"><span class="pre">transmit_pattern</span></code> command to <code class="docutils literal notranslate"><span class="pre">pattern_11110000</span></code>.</p></li>
<li><p>Set the radio channel with the <code class="docutils literal notranslate"><span class="pre">start_channel</span></code> command to 40.</p></li>
</ol>
</li>
<li><p>Repeat all steps for the second kit.</p></li>
<li><p>On both kits, run the <code class="docutils literal notranslate"><span class="pre">parameters_print</span></code> command to confirm that the radio configuration is the same on both kits.</p></li>
<li><p>Set one kit in the Modulated TX Carrier mode using the <code class="docutils literal notranslate"><span class="pre">start_tx_modulated_carrier</span></code> command.</p></li>
<li><p>Set the other kit in the RX Carrier mode using the <code class="docutils literal notranslate"><span class="pre">start_rx</span></code> command.</p></li>
<li><p>Print the received data with the <code class="docutils literal notranslate"><span class="pre">print_rx</span></code> command and confirm that they match the transmission pattern (0xF0).</p></li>
</ol>
</section>
<section id="testing-with-rssi-viewer">
<span id="radio-test-testing-rssi"></span><h4>Testing with RSSI Viewer<a class="headerlink" href="#testing-with-rssi-viewer" title="Permalink to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Connect the kit to the computer using a USB cable.
The kit is assigned a COM port (Windows) or ttyACM device (Linux), which is visible in the Device Manager.</p></li>
<li><p>Connect to the kit with a terminal emulator that supports VT100/ANSI escape characters (for example, PuTTY).
See <a class="reference internal" href="../../../getting_started/testing.html#putty"><span class="std std-ref">How to connect with PuTTY</span></a> for the required settings.</p></li>
<li><p>Set the start channel with the <code class="docutils literal notranslate"><span class="pre">start_channel</span></code> command to 20.</p></li>
<li><p>Set the end channel with the <code class="docutils literal notranslate"><span class="pre">end_channel</span></code> command to 60.</p></li>
<li><p>Set the time on channel with the <code class="docutils literal notranslate"><span class="pre">time_on_channel</span></code> command to 50 ms.</p></li>
<li><p>Set the kit in the TX sweep mode using the <code class="docutils literal notranslate"><span class="pre">start_tx_sweep</span></code> command.</p></li>
<li><p>Start the RSSI Viewer application and select the kit to communicate with.</p></li>
<li><p>On the application chart, observe the TX sweep in the form of a wave that starts at 2420 MHz frequency and ends with 2480 MHz.</p></li>
</ol>
</section>
</section>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id16">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this heading"></a></h2>
<p>This sample uses the following nRF Connect SDK library:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="../../../libraries/shell/shell_ipc.html#shell-ipc-readme"><span class="std std-ref">IPC service shell transport</span></a></p></li>
</ul>
</div></blockquote>
<p>This sample has the following nrfx dependencies:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">nrfx/drivers/include/nrfx_timer.h</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">nrfx/hal/nrf_power.h</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">nrfx/hal/nrf_radio.h</span></code></p></li>
</ul>
</div></blockquote>
<p>The sample also has the following nrfxlib dependency:</p>
<blockquote>
<div><ul class="simple">
<li><p><span class="xref std std-ref">nrfxlib:mpsl_fem</span></p></li>
</ul>
</div></blockquote>
<p>In addition, it uses the following Zephyr libraries:</p>
<ul>
<li><p><span class="xref std std-ref">zephyr:device_model_api</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">drivers/clock_control.h</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p><span class="xref std std-ref">zephyr:kernel_api</span>:</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">include/init.h</span></code></p></li>
</ul>
</li>
<li><p><span class="xref std std-ref">zephyr:shell_api</span>:</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">include/shell/shell.h</span></code></p></li>
</ul>
</li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../sensor/bh1749/README.html" class="btn btn-neutral float-right" title="BH1749: Ambient Light Sensor IC" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../lpuart/README.html" class="btn btn-neutral" title="Low Power UART" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>