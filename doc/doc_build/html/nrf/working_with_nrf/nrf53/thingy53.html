<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Developing with Thingy:53 &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../_static/js/ncs.js"
></script>
<script src="../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Working with nRF52 Series" href="../../nrf52.html" />
    <link rel="prev" title="Getting started with Thingy:53" href="thingy53_gs.html" />
<link
  href="../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nrf53.html">Working with nRF53 Series</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nrf5340_gs.html">Getting started with nRF5340 DK</a></li>
<li class="toctree-l2"><a class="reference internal" href="nrf5340.html">Developing with nRF5340 DK</a></li>
<li class="toctree-l2"><a class="reference internal" href="thingy53_gs.html">Getting started with Thingy:53</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Developing with Thingy:53</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#connecting-to-thingy-53">Connecting to Thingy:53</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-and-programming-from-the-source-code">Building and programming from the source code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#build-targets">Build targets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-and-programming-using-vsc">Building and programming using Visual Studio Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-and-programming-on-the-command-line">Building and programming on the command line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updating-firmware-image">Updating firmware image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#thingy-53-application-guide">Thingy:53 application guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#partition-manager-configuration">Partition manager configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mcuboot-bootloader">MCUboot bootloader</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usb">USB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#antenna-selection">Antenna selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fota-over-bluetooth-low-energy">FOTA over Bluetooth Low Energy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#external-flash">External flash</a></li>
<li class="toctree-l4"><a class="reference internal" href="#samples-and-applications-for-thingy-53-with-fota-out-of-the-box">Samples and applications for Thingy:53 with FOTA out of the box</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../nrf53.html">Working with nRF53 Series</a></li>
      <li class="breadcrumb-item active">Developing with Thingy:53</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/working_with_nrf/nrf53/thingy53.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="developing-with-thingy-53">
<span id="ug-thingy53"></span><h1>Developing with Thingy:53<a class="headerlink" href="#developing-with-thingy-53" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#connecting-to-thingy-53" id="id7">Connecting to Thingy:53</a></p></li>
<li><p><a class="reference internal" href="#building-and-programming-from-the-source-code" id="id8">Building and programming from the source code</a></p>
<ul>
<li><p><a class="reference internal" href="#build-targets" id="id9">Build targets</a></p></li>
<li><p><a class="reference internal" href="#building-and-programming-using-vsc" id="id10">Building and programming using Visual Studio Code</a></p></li>
<li><p><a class="reference internal" href="#building-and-programming-on-the-command-line" id="id11">Building and programming on the command line</a></p></li>
<li><p><a class="reference internal" href="#updating-firmware-image" id="id12">Updating firmware image</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#thingy-53-application-guide" id="id13">Thingy:53 application guide</a></p>
<ul>
<li><p><a class="reference internal" href="#partition-manager-configuration" id="id14">Partition manager configuration</a></p></li>
<li><p><a class="reference internal" href="#mcuboot-bootloader" id="id15">MCUboot bootloader</a></p></li>
<li><p><a class="reference internal" href="#usb" id="id16">USB</a></p></li>
<li><p><a class="reference internal" href="#antenna-selection" id="id17">Antenna selection</a></p></li>
<li><p><a class="reference internal" href="#fota-over-bluetooth-low-energy" id="id18">FOTA over Bluetooth Low Energy</a></p></li>
<li><p><a class="reference internal" href="#external-flash" id="id19">External flash</a></p></li>
<li><p><a class="reference internal" href="#samples-and-applications-for-thingy-53-with-fota-out-of-the-box" id="id20">Samples and applications for Thingy:53 with FOTA out of the box</a></p></li>
</ul>
</li>
</ul>
</div>
<p>The Nordic Thingy:53 is a battery-operated prototyping platform for IoT Systems.</p>
<p>The Nordic Thingy:53 integrates the nRF5340 SoC that supports Bluetooth® Low Energy, IEEE 802.15.4 based protocols and Near Field Communication (NFC).
The nRF5340 is augmented with the nRF21540 RF FEM (Front-end Module) Range extender that has an integrated power amplifier (PA)/low-noise amplifier (LNA) and nPM1100 Power Management IC (PMIC) that has an integrated dual-mode buck regulator and battery charger.</p>
<p>You can find more information on the <a class="reference external" href="https://www.nordicsemi.com/thingy53">Nordic Thingy:53</a> product page and in the <a class="reference external" href="https://infocenter.nordicsemi.com/topic/ug_thingy53/UG/thingy53/intro/frontpage.html">Nordic Thingy:53 Hardware</a> documentation.
The <a class="reference internal" href="../../index.html#index"><span class="std std-ref">nRF Connect SDK</span></a> provides support for developing applications on the Nordic Thingy:53.</p>
<section id="connecting-to-thingy-53">
<span id="thingy53-serialports"></span><h2><a class="toc-backref" href="#id7">Connecting to Thingy:53</a><a class="headerlink" href="#connecting-to-thingy-53" title="Permalink to this heading"></a></h2>
<p>Applications and samples for the Nordic Thingy:53 use a serial terminal to provide logs.
By default, the serial terminal is accessible through the USB CDC ACM class handled by application firmware.
The serial port is visible right after the Thingy:53 is connected to the host using a USB cable.
The CDC ACM baudrate is ignored, and transfer goes with USB speed.</p>
</section>
<section id="building-and-programming-from-the-source-code">
<span id="thingy53-building-pgming"></span><h2><a class="toc-backref" href="#id8">Building and programming from the source code</a><a class="headerlink" href="#building-and-programming-from-the-source-code" title="Permalink to this heading"></a></h2>
<p>You can program the Nordic Thingy:53 by using the images obtained by building the code in the nRF Connect SDK environment.</p>
<p>To set up your system to be able to build a firmware image, follow the <a class="reference internal" href="../../getting_started.html#getting-started"><span class="std std-ref">Getting started</span></a> guide for the nRF Connect SDK.</p>
<section id="build-targets">
<span id="thingy53-build-pgm-targets"></span><h3><a class="toc-backref" href="#id9">Build targets</a><a class="headerlink" href="#build-targets" title="Permalink to this heading"></a></h3>
<p>The build targets of interest for Thingy:53 in the nRF Connect SDK are listed in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Component</p></th>
<th class="head"><p>Build target</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nRF5340 SoC - Application core</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">thingy53_nrf5340_cpuapp</span></code> for <a class="reference internal" href="../../app_dev/board_support/index.html#app-boards-spe-nspe-cpuapp"><span class="std std-ref">Cortex-M Security Extensions (CMSE) disabled</span></a></p>
<p><code class="docutils literal notranslate"><span class="pre">thingy53_nrf5340_cpuapp_ns</span></code> for <a class="reference internal" href="../../app_dev/board_support/index.html#app-boards-spe-nspe-cpuapp-ns"><span class="std std-ref">CMSE enabled</span></a></p>
</td>
</tr>
<tr class="row-odd"><td><p>nRF5340 SoC - Network core</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">thingy53_nrf5340_cpunet</span></code></p></td>
</tr>
</tbody>
</table>
<p>The nRF Connect SDK uses <a class="reference internal" href="../../app_dev/multi_image/index.html#ug-multi-image"><span class="std std-ref">Multi-image builds</span></a> for Thingy:53 by default.
When you choose <code class="docutils literal notranslate"><span class="pre">thingy53_nrf5340_cpuapp</span></code> or <code class="docutils literal notranslate"><span class="pre">thingy53_nrf5340_cpuapp_ns</span></code> as the build target when building a sample or application, you will generate firmware for both the application core and network core:</p>
<ul class="simple">
<li><p>The application core firmware consists of MCUboot bootloader and an application image.</p></li>
<li><p>The network core firmware consists of network core bootloader (B0n) and application firmware of the network core.</p></li>
</ul>
<p>The build process generates firmware in two formats:</p>
<ul class="simple">
<li><p>Intel Hex file (<code class="file docutils literal notranslate"><span class="pre">merged_domains.hex</span></code>) - Used with an external debug probe.
The file contains bootloaders and applications for both cores.</p></li>
<li><p>Binary files (<code class="file docutils literal notranslate"><span class="pre">app_update.bin</span></code>, <code class="file docutils literal notranslate"><span class="pre">net_core_app_update.bin</span></code>), containing signed application firmwares for the application and network core, respectively.
For convenience, the binary files are bundled in <code class="file docutils literal notranslate"><span class="pre">dfu_application.zip</span></code>, together with a manifest that describes them.
You can use the binary files or the combined zip archive to update application firmware for both cores, with either MCUboot serial recovery or OTA DFU using Bluetooth LE.</p></li>
</ul>
<p>For more information about files generated as output of the build process, see <a class="reference internal" href="../../app_dev/build_and_config_system/index.html#app-build-output-files"><span class="std std-ref">Output build files</span></a>.</p>
<p>See the following sections for details regarding building and programming the firmware for Thingy:53 in various environments.
See <a class="reference internal" href="#thingy53-app-update"><span class="std std-ref">Updating firmware image</span></a> for more detailed information about updating firmware on Thingy:53.</p>
</section>
<section id="building-and-programming-using-vsc">
<span id="thingy53-build-pgm-vscode"></span><h3><a class="toc-backref" href="#id10">Building and programming using Visual Studio Code</a><a class="headerlink" href="#building-and-programming-using-vsc" title="Permalink to this heading"></a></h3>
<p>The nRF Connect for VS Code extension is a complete IDE for developing applications compatible with the nRF Connect SDK.
This includes an interface to the compiler and linker, an RTOS-aware debugger, a seamless interface to the nRF Connect SDK, and a serial terminal.
For installation instructions, see <a class="reference external" href="https://nrfconnect.github.io/vscode-nrf-connect/get_started/install.html">Installing using Visual Studio Code</a>.
For other instructions related to nRF Connect for VS Code extension, see the <a class="reference external" href="https://nrfconnect.github.io/vscode-nrf-connect">nRF Connect for Visual Studio Code</a> documentation site.</p>
<p>Complete the following steps after installing the nRF Connect for VS Code extension:</p>
<ol class="arabic">
<li><p>Open Visual Studio Code.</p>
<p>If you installed the nRF Connect SDK using the <a class="reference internal" href="../../getting_started/assistant.html#gs-app-tcm"><span class="std std-ref">Installing automatically</span></a>, you can click the <span class="guilabel">Open VS Code</span> button next to the version you installed.</p>
</li>
<li><p>Complete the steps listed on the <a class="reference external" href="https://nrfconnect.github.io/vscode-nrf-connect/get_started/build_app_ncs.html">How to build an application</a> page in the nRF Connect for VS Code extension documentation.</p></li>
<li><p>Program the sample or application:</p>
<ol class="loweralpha simple">
<li><p>Connect the Nordic Thingy:53 to the debug out port on a 10-pin external debug probe, for example nRF5340 DK, using a 10-pin JTAG cable.</p></li>
<li><p>Connect the external debug probe to the PC using a USB cable.</p></li>
<li><p>Make sure that the Thingy:53 and the external debug probe are powered on.</p></li>
<li><p>Click <span class="guilabel">Flash</span> in the <span class="guilabel">Actions View</span>.</p></li>
</ol>
</li>
</ol>
</section>
<section id="building-and-programming-on-the-command-line">
<span id="thingy53-build-pgm-command-line"></span><h3><a class="toc-backref" href="#id11">Building and programming on the command line</a><a class="headerlink" href="#building-and-programming-on-the-command-line" title="Permalink to this heading"></a></h3>
<p>You must <a class="reference internal" href="../../getting_started/installing.html#build-environment-cli"><span class="std std-ref">Set up the command-line build environment</span></a> before you start building an nRF Connect SDK project on the command line.</p>
<p>To build and program the source code from the command line, complete the following steps:</p>
<ol class="arabic">
<li><p>Open a command line or terminal window.</p></li>
<li><p>Go to the specific directory for the sample or application.</p>
<p>For example, the directory path is <code class="file docutils literal notranslate"><span class="pre">ncs/nrf/applications/machine_learning</span></code> when building the source code for the <a class="reference internal" href="../../applications/machine_learning/README.html#nrf-machine-learning-app"><span class="std std-ref">nRF Machine Learning</span></a> application.</p>
</li>
<li><p>Make sure that you have the required version of the nRF Connect SDK repository by pulling the <code class="docutils literal notranslate"><span class="pre">sdk-nrf</span></code> repository on GitHub as described in <a class="reference internal" href="../../developing/managing_code.html#dm-wf-get-ncs"><span class="std std-ref">Obtaining a copy of the nRF Connect SDK</span></a> and <a class="reference internal" href="../../developing/managing_code.html#dm-wf-update-ncs"><span class="std std-ref">Updating a copy of the nRF Connect SDK</span></a> sections.</p></li>
<li><p>Get the rest of the dependencies using west:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">west</span> <span class="n">update</span>
</pre></div>
</div>
</li>
<li><p>Build the sample or application code as follows:</p>
<pre class="highlight literal-block">west build -b <em>build_target</em> -d <em>destination_directory_name</em></pre>
<p>The build target should be <code class="docutils literal notranslate"><span class="pre">thingy53_nrf5340_cpuapp</span></code> or <code class="docutils literal notranslate"><span class="pre">thingy53_nrf5340_cpuapp_ns</span></code> when building samples for the application core.
The proper child image for <code class="docutils literal notranslate"><span class="pre">thingy53_nrf5340_cpunet</span></code> will be built automatically.
See <a class="reference internal" href="#thingy53-build-pgm-targets"><span class="std std-ref">Build targets</span></a> for details.</p>
</li>
<li><p>Program the sample or application:</p>
<ol class="loweralpha">
<li><p>Connect the Nordic Thingy:53 to the debug out port on a 10-pin external debug probe, for example nRF5340 DK, using a 10-pin JTAG cable.</p></li>
<li><p>Connect the external debug probe to the PC using a USB cable.</p></li>
<li><p>Make sure that the Nordic Thingy:53 and the external debug probe are powered on.</p></li>
<li><p>Use the following command to program the sample or application to the device:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">west</span> <span class="n">flash</span>
</pre></div>
</div>
</li>
</ol>
<p>The device resets and runs the programmed sample or application.</p>
</li>
</ol>
</section>
<section id="updating-firmware-image">
<span id="thingy53-app-update"></span><h3><a class="toc-backref" href="#id12">Updating firmware image</a><a class="headerlink" href="#updating-firmware-image" title="Permalink to this heading"></a></h3>
<p>You can program the firmware on the Nordic Thingy:53 using an external debug probe and 10-pin JTAG cable, as described in <a class="reference internal" href="#thingy53-building-pgming"><span class="std std-ref">Building and programming from the source code</span></a>, using either <a class="reference internal" href="#thingy53-build-pgm-vscode"><span class="std std-ref">Visual Studio Code</span></a> or <a class="reference internal" href="#thingy53-build-pgm-command-line"><span class="std std-ref">command line</span></a>.
You can also update applications running on both the network and application core using the built-in MCUboot bootloader and <a class="reference external" href="https://infocenter.nordicsemi.com/topic/ug_nc_programmer/UG/nrf_connect_programmer/ncp_introduction.html">nRF Connect Programmer</a> or the <a class="reference external" href="https://www.nordicsemi.com/Products/Development-tools/nrf-programmer">nRF Programmer</a> app for Android and iOS.
You can also update the prebuilt application images that way.</p>
<p>See <a class="reference internal" href="thingy53_gs.html#thingy53-gs-updating-firmware"><span class="std std-ref">Getting started with precompiled firmware samples</span></a> for details about updating firmware image.</p>
<section id="firmware-update-using-external-debug-probe">
<span id="thingy53-app-update-debug"></span><h4>Firmware update using external debug probe<a class="headerlink" href="#firmware-update-using-external-debug-probe" title="Permalink to this heading"></a></h4>
<p>If you are using an external debug probe, such as the nRF5340 DK, or any J-Link device supporting ARM Cortex-M33, you can program the Thingy:53 the same way as nRF5340 DK.
See <a class="reference internal" href="nrf5340.html#ug-nrf5340"><span class="std std-ref">Developing with nRF5340 DK</span></a> for details.</p>
</section>
<section id="firmware-update-using-mcuboot-bootloader">
<span id="thingy53-app-update-mcuboot"></span><h4>Firmware update using MCUboot bootloader<a class="headerlink" href="#firmware-update-using-mcuboot-bootloader" title="Permalink to this heading"></a></h4>
<p>Samples and applications built for Thingy:53 include the MCUboot bootloader that you can use to update the firmware out of the box.
This method uses signed binary files <code class="file docutils literal notranslate"><span class="pre">app_update.bin</span></code> and <code class="file docutils literal notranslate"><span class="pre">net_core_app_update.bin</span></code> (or <code class="file docutils literal notranslate"><span class="pre">dfu_application.zip</span></code>).
You can program the precompiled firmware image using one of the following ways:</p>
<ul class="simple">
<li><p>Use the <span class="xref std std-doc">mcuboot:index-ncs</span> feature and the built-in serial recovery mode of Thingy:53.
In this scenario Thingy is connected directly to your PC through USB.</p></li>
<li><p>Update the firmware over-the-air (OTA) using Bluetooth LE and the nRF Programmer mobile application for Android or iOS.
To use this method, the application that is currently programmed on Thingy:53 must support it.
For details, refer to <a class="reference internal" href="#thingy53-app-fota-smp"><span class="std std-ref">FOTA over Bluetooth Low Energy</span></a> section.
All precompiled images support OTA using Bluetooth.</p></li>
</ul>
<p>See <a class="reference internal" href="thingy53_gs.html#thingy53-gs-updating-firmware"><span class="std std-ref">Getting started with precompiled firmware samples</span></a> for the detailed procedures on how to program a Thingy:53 using <a class="reference external" href="https://infocenter.nordicsemi.com/topic/ug_nc_programmer/UG/nrf_connect_programmer/ncp_introduction.html">nRF Connect Programmer</a> or the <a class="reference external" href="https://www.nordicsemi.com/Products/Development-tools/nrf-programmer">nRF Programmer</a> for Android or iOS.</p>
</section>
</section>
</section>
<section id="thingy-53-application-guide">
<span id="thingy53-app-guide"></span><h2><a class="toc-backref" href="#id13">Thingy:53 application guide</a><a class="headerlink" href="#thingy-53-application-guide" title="Permalink to this heading"></a></h2>
<p>The Nordic Thingy:53 does not have a built-in J-Link debug IC.
Because of that, the Thingy:53 board enables MCUboot bootloader with serial recovery support and predefined static Partition Manager memory map by default.
You can also enable FOTA updates manually.
See the following sections for details of what is configured by default and what you can configure by yourself.</p>
<section id="partition-manager-configuration">
<span id="thingy53-app-partition-manager-config"></span><h3><a class="toc-backref" href="#id14">Partition manager configuration</a><a class="headerlink" href="#partition-manager-configuration" title="Permalink to this heading"></a></h3>
<p>The samples and applications for Nordic Thingy:53 use the <a class="reference internal" href="../../scripts/partition_manager/partition_manager.html#partition-manager"><span class="std std-ref">Partition Manager</span></a> by default to define memory partitions.
The memory layout must stay consistent, so that MCUboot can perform proper image updates and clean up the settings storage partition.
To ensure that the partition layout does not change between builds, the sample must use a static partition layout that is consistent between all samples in the nRF Connect SDK.
The memory partitions are defined in the <code class="file docutils literal notranslate"><span class="pre">pm_static_thingy53_nrf5340_cpuapp.yml</span></code> and <code class="file docutils literal notranslate"><span class="pre">pm_static_thingy53_nrf5340_cpuapp_ns.yml</span></code> files in the <code class="file docutils literal notranslate"><span class="pre">zephyr/boards/arm/thingy53_nrf5340</span></code> directory.</p>
<p>The PCD SRAM partition is locked by the MCUboot bootloader to prevent the application from modifying the network core firmware.
Trying to access data on this partition results in an ARM fault.</p>
<p>The MCUboot bootloader needs a flash controller overlay for the network core image update.
The overlay is applied automatically.</p>
</section>
<section id="mcuboot-bootloader">
<span id="thingy53-app-mcuboot-bootloader"></span><h3><a class="toc-backref" href="#id15">MCUboot bootloader</a><a class="headerlink" href="#mcuboot-bootloader" title="Permalink to this heading"></a></h3>
<p>MCUboot bootloader is enabled by default for Thingy:53 in the <code class="file docutils literal notranslate"><span class="pre">Kconfig.defconfig</span></code> file of the board.
This ensures that the sample includes the MCUboot bootloader and that an MCUboot-compatible image is generated when the sample is built.
When using nRF Connect SDK to build the MCUboot bootloader for the Thingy:53, the configuration is applied automatically from the MCUboot repository.</p>
<p>The MCUboot bootloader supports serial recovery and a custom command to erase the settings storage partition.
Erasing the settings partition is needed to ensure that an application is not booted with incompatible content loaded from the settings partition.</p>
<p>In addition, you can set an image version, such as <code class="docutils literal notranslate"><span class="pre">&quot;2.3.0+0&quot;</span></code>, using the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MCUBOOT_IMAGE_VERSION</span></code> Kconfig option.</p>
</section>
<section id="usb">
<span id="thingy53-app-usb"></span><h3><a class="toc-backref" href="#id16">USB</a><a class="headerlink" href="#usb" title="Permalink to this heading"></a></h3>
<p>The logs on the Thingy:53 board are provided by default using USB CDC ACM to allow access to them without additional hardware.</p>
<p>Most of the applications and samples for Thingy:53 use only a single instance of USB CDC ACM that works as the logger’s backend.
No other USB classes are used.
These samples can share a common USB product name, vendor ID, and product ID.</p>
<p>If a sample supports additional USB classes or more than one instance of USB CDC ACM, it must use a dedicated product name, vendor ID, and product ID.
This sample must also enable USB composite device configuration (<code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_USB_COMPOSITE_DEVICE</span></code>).</p>
<p>The <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BOARD_SERIAL_BACKEND_CDC_ACM</span></code> Kconfig option (defined in the <code class="file docutils literal notranslate"><span class="pre">zephyr/boards/arm/thingy53_nrf5340/Kconfig.defconfig</span></code> file) automatically sets the default values of USB product name, vendor ID and product ID of Thingy:53.
It also enables the USB device stack and initializes the USB device at boot.
The remote wakeup feature of a USB device is disabled by default as it requires extra action from the application side.
A single USB CDC ACM instance is automatically included in the default board’s DTS configuration file (<code class="file docutils literal notranslate"><span class="pre">zephyr/boards/arm/thingy53_nrf5340/thingy53_nrf5340_common.dts</span></code>).
The USB CDC instance is used to forward application logs.</p>
<p>If you do not want to use the USB CDC ACM as a backend for logging out of the box, you can disable it as follows:</p>
<ul>
<li><p>Disable the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BOARD_SERIAL_BACKEND_CDC_ACM</span></code> Kconfig option.</p></li>
<li><p>If USB CDC ACM is not used for anything else, you can disable it in the application’s DTS overlay file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&amp;cdc_acm_uart {
    status = &quot;disabled&quot;;
};
</pre></div>
</div>
</li>
</ul>
</section>
<section id="antenna-selection">
<span id="thingy53-app-antenna"></span><h3><a class="toc-backref" href="#id17">Antenna selection</a><a class="headerlink" href="#antenna-selection" title="Permalink to this heading"></a></h3>
<p>The Nordic Thingy:53 has an RF front-end with two 2.4 GHz antennas:</p>
<ul class="simple">
<li><p><strong>ANT1</strong> is connected to the nRF5340 through the nRF21540 RF FEM and supports TX gain of up to +20 dBm.</p></li>
<li><p><strong>ANT2</strong> is connected to the nRF5340 through the RF switch and supports TX output power of up to +3 dBm.</p></li>
</ul>
<figure class="align-default" id="id6">
<img alt="Nordic Thingy:53 - Antenna connections" src="../../_images/thingy53_antenna_connections.svg" /><figcaption>
<p><span class="caption-text">Nordic Thingy:53 - Antenna connections</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The samples in the nRF Connect SDK use <strong>ANT1</strong> by default, with the nRF21540 gain set to +10 dBm.
You can configure the TX gain with the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MPSL_FEM_NRF21540_TX_GAIN_DB</span></code> Kconfig option to select between +10 dBm or +20 dBm gain.
To use the <strong>ANT2</strong> antenna, disable the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_MPSL_FEM</span></code> Kconfig option in the network core’s child image configuration.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Transmitting with TX output power above +10 dBM is not permitted in some regions.
See the <a class="reference external" href="https://infocenter.nordicsemi.com/topic/ug_thingy53/UG/thingy53/regulatory/regulatory_notices.html">Nordic Thingy:53 Regulatory notices</a> in the <a class="reference external" href="https://infocenter.nordicsemi.com/topic/ug_thingy53/UG/thingy53/intro/frontpage.html">Nordic Thingy:53 Hardware</a> documentation for the applicable regulations in your region before changing the configuration.</p>
</div>
</section>
<section id="fota-over-bluetooth-low-energy">
<span id="thingy53-app-fota-smp"></span><h3><a class="toc-backref" href="#id18">FOTA over Bluetooth Low Energy</a><a class="headerlink" href="#fota-over-bluetooth-low-energy" title="Permalink to this heading"></a></h3>
<p>FOTA updates are supported using MCUmgr’s Simple Management Protocol (SMP) over Bluetooth.
The application acts as a GATT server and allows the connected Bluetooth Central device to perform a firmware update.
To use FOTA over Bluetooth LE, samples must support Bluetooth peripheral role (<code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BT_PERIPHERAL</span></code>).</p>
<p>The application supports SMP handlers related to:</p>
<ul class="simple">
<li><p>Image management.</p></li>
<li><p>Operating System (OS) management used to reboot the device after the firmware upload is complete.</p></li>
<li><p>Erasing settings partition used to ensure that a new application is not booted with incompatible content in the settings partition written by the previous application.</p></li>
</ul>
<p>To enable support for FOTA updates, do the following:</p>
<ul>
<li><p>Enable the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_NCS_SAMPLE_MCUMGR_BT_OTA_DFU</span></code> Kconfig option, which implies configuration of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>All of the SMP command handlers mentioned in the previous paragraph.</p></li>
<li><p>SMP BT reassembly feature.</p></li>
<li><p>The <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_NCS_SAMPLE_MCUMGR_BT_OTA_DFU_SPEEDUP</span></code> Kconfig option automatically extends the Bluetooth buffers, which allows to speed up the FOTA transfer over Bluetooth, but also increases RAM usage.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Bluetooth buffers configuration introduced by the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_NCS_SAMPLE_MCUMGR_BT_OTA_DFU_SPEEDUP</span></code> Kconfig option is also automatically applied to the network core child image by the dedicated overlay file.
Thingy:53 supports network core upgrade out of the box.</p>
<p>If necessary, you can modify any of the implied options or defaulted values introduced by the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_NCS_SAMPLE_MCUMGR_BT_OTA_DFU</span></code> Kconfig option.</p>
<p>You can either add these Kconfig options to the configuration files of your application or have them inline in a project build command.
Here is an example of how you can build for the <a class="reference internal" href="../../samples/bluetooth/peripheral_lbs/README.html#peripheral-lbs"><span class="std std-ref">Bluetooth: Peripheral LBS</span></a> sample:</p>
<pre class="highlight literal-block"> west build -b <em>build_target</em> -- -DCONFIG_BOOTLOADER_MCUBOOT=y -DCONFIG_NCS_SAMPLE_MCUMGR_BT_OTA_DFU=y</pre>
<p>When you connect to the device after the build has completed and the firmware has been programmed to it, the SMP Service is enabled with the <code class="docutils literal notranslate"><span class="pre">UUID</span> <span class="pre">8D53DC1D-1DB7-4CD3-868B-8A527460AA84</span></code>.
If you want to add SMP Service to advertising data, refer to the <span class="xref std std-ref">zephyr:smp_svr_sample</span>.</p>
</section>
<section id="external-flash">
<span id="thingy53-app-external-flash"></span><h3><a class="toc-backref" href="#id19">External flash</a><a class="headerlink" href="#external-flash" title="Permalink to this heading"></a></h3>
<p>During a FOTA update, there might not be enough space available in internal flash storage to store the existing application and network core images as well as the incoming images, so the incoming images must be stored in external flash storage.
The Thingy:53 board automatically configures external flash storage and QSPI driver when FOTA updates are implied with the <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_NCS_SAMPLE_MCUMGR_BT_OTA_DFU</span></code> Kconfig option.</p>
</section>
<section id="samples-and-applications-for-thingy-53-with-fota-out-of-the-box">
<span id="thingy53-compatible-applications"></span><h3><a class="toc-backref" href="#id20">Samples and applications for Thingy:53 with FOTA out of the box</a><a class="headerlink" href="#samples-and-applications-for-thingy-53-with-fota-out-of-the-box" title="Permalink to this heading"></a></h3>
<p>The following samples and applications in the nRF Connect SDK enable FOTA for Thingy:53 by default:</p>
<ul class="simple">
<li><p>Applications:</p>
<ul>
<li><p><a class="reference internal" href="../../applications/matter_weather_station/README.html#matter-weather-station-app"><span class="std std-ref">Thingy:53: Matter weather station</span></a></p></li>
<li><p><a class="reference internal" href="../../applications/machine_learning/README.html#nrf-machine-learning-app"><span class="std std-ref">nRF Machine Learning</span></a></p></li>
</ul>
</li>
<li><p>Samples:</p>
<ul>
<li><p><a class="reference internal" href="../../samples/bluetooth/peripheral_lbs/README.html#peripheral-lbs"><span class="std std-ref">Bluetooth: Peripheral LBS</span></a></p></li>
<li><p><a class="reference internal" href="../../samples/bluetooth/peripheral_uart/README.html#peripheral-uart"><span class="std std-ref">Bluetooth: Peripheral UART</span></a></p></li>
<li><p><a class="reference internal" href="../../samples/bluetooth/mesh/light/README.html#bluetooth-mesh-light"><span class="std std-ref">Bluetooth: Mesh light</span></a></p></li>
<li><p><a class="reference internal" href="../../samples/bluetooth/mesh/light_ctrl/README.html#bluetooth-mesh-light-lc"><span class="std std-ref">Bluetooth: Mesh light fixture</span></a></p></li>
<li><p><a class="reference internal" href="../../samples/bluetooth/mesh/light_switch/README.html#bluetooth-mesh-light-switch"><span class="std std-ref">Bluetooth: Mesh light switch</span></a></p></li>
<li><p><a class="reference internal" href="../../samples/bluetooth/mesh/sensor_server/README.html#bluetooth-mesh-sensor-server"><span class="std std-ref">Bluetooth: Mesh sensor</span></a></p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../nrf52.html" class="btn btn-neutral float-right" title="Working with nRF52 Series" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="thingy53_gs.html" class="btn btn-neutral" title="Getting started with Thingy:53" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>