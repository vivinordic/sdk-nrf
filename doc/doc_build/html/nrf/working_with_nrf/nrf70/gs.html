<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting started with nRF7002 DK &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../_static/js/ncs.js"
></script>
<script src="../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Developing with nRF70 Series" href="developing/index.html" />
    <link rel="prev" title="Features of nRF70 Series" href="features.html" />
<link
  href="../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../nrf70.html">Working with nRF70 Series</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="features.html">Features of nRF70 Series</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Getting started with nRF7002 DK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hardware">Hardware</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supported-features">Supported features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connections-and-ios">Connections and IOs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#security-components">Security components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#programming-and-debugging">Programming and debugging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-ncs-applications-with-arm-trustzone">Building nRF Connect SDK applications with Arm TrustZone</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-application-without-cmse">Building application without CMSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#programming-the-firmware-to-the-dk">Programming the firmware to the DK</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging">Debugging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#testing-the-leds-and-buttons-in-the-nrf7002-dk">Testing the LEDs and buttons in the nRF7002 DK</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="developing/index.html">Developing with nRF70 Series</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../protocols.html">Protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../nrf70.html">Working with nRF70 Series</a></li>
      <li class="breadcrumb-item active">Getting started with nRF7002 DK</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/working_with_nrf/nrf70/gs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started-with-nrf7002-dk">
<span id="nrf7002dk-nrf5340"></span><h1>Getting started with nRF7002 DK<a class="headerlink" href="#getting-started-with-nrf7002-dk" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id7">Overview</a></p></li>
<li><p><a class="reference internal" href="#hardware" id="id8">Hardware</a></p>
<ul>
<li><p><a class="reference internal" href="#supported-features" id="id9">Supported features</a></p></li>
<li><p><a class="reference internal" href="#connections-and-ios" id="id10">Connections and IOs</a></p></li>
<li><p><a class="reference internal" href="#security-components" id="id11">Security components</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#programming-and-debugging" id="id12">Programming and debugging</a></p>
<ul>
<li><p><a class="reference internal" href="#building-ncs-applications-with-arm-trustzone" id="id13">Building nRF Connect SDK applications with Arm TrustZone</a></p></li>
<li><p><a class="reference internal" href="#building-application-without-cmse" id="id14">Building application without CMSE</a></p></li>
<li><p><a class="reference internal" href="#programming-the-firmware-to-the-dk" id="id15">Programming the firmware to the DK</a></p></li>
<li><p><a class="reference internal" href="#debugging" id="id16">Debugging</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#testing-the-leds-and-buttons-in-the-nrf7002-dk" id="id17">Testing the LEDs and buttons in the nRF7002 DK</a></p></li>
</ul>
</div>
<p>The nRF7002 DK (PCA10143) is a single-board development kit for evaluation and development on the nRF7002, a Wi-Fi® companion IC to Nordic Semiconductor’s nRF5340 System-on-Chip (SoC) host processor.</p>
<section id="overview">
<h2><a class="toc-backref" href="#id7">Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>The nRF7002 is an IEEE 802.11ax (Wi-Fi 6) compliant solution that implements the Wi-Fi physical layer and MAC layer protocols.
It implements the Wi-Fi driver software on the nRF5340 host processor communicating over the QSPI bus.</p>
<p>The nRF5340 host is a dual-core SoC based on the Arm® Cortex®-M33 architecture.
It has the following features:</p>
<ul class="simple">
<li><p>A full-featured Arm Cortex-M33F core with DSP instructions, FPU, and Armv8-M Security Extension, running at up to 128 MHz, referred to as the <em>application core</em>.</p></li>
<li><p>A secondary Arm Cortex-M33 core, with a reduced feature set, running at a fixed 64 MHz, referred to as the <em>network core</em>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp</span></code> build target provides support for the application core on the nRF5340 SoC.
The <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpunet</span></code> build target provides support for the network core on the nRF5340 SoC.</p>
<figure class="align-default" id="id6">
<img alt="nRF7002 DK" src="../../_images/nRF70dk.png" />
<figcaption>
<p><span class="caption-text">nRF7002 DK</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="hardware">
<h2><a class="toc-backref" href="#id8">Hardware</a><a class="headerlink" href="#hardware" title="Permalink to this heading"></a></h2>
<p>The nRF7002 DK has two external oscillators:</p>
<blockquote>
<div><ul class="simple">
<li><p>The frequency of the slow clock is 32.768 kHz.</p></li>
<li><p>The frequency of the main clock is 32 MHz.</p></li>
</ul>
</div></blockquote>
<section id="supported-features">
<h3><a class="toc-backref" href="#id9">Supported features</a><a class="headerlink" href="#supported-features" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp</span></code> board configuration supports the following hardware features:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 27%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Interface</p></th>
<th class="head"><p>Controller</p></th>
<th class="head"><p>Driver/Component</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ADC</p></td>
<td><p>on-chip</p></td>
<td><p>adc</p></td>
</tr>
<tr class="row-odd"><td><p>CLOCK</p></td>
<td><p>on-chip</p></td>
<td><p>clock_control</p></td>
</tr>
<tr class="row-even"><td><p>FLASH</p></td>
<td><p>on-chip</p></td>
<td><p>flash</p></td>
</tr>
<tr class="row-odd"><td><p>GPIO</p></td>
<td><p>on-chip</p></td>
<td><p>gpio</p></td>
</tr>
<tr class="row-even"><td><p>I2C(M)</p></td>
<td><p>on-chip</p></td>
<td><p>i2c</p></td>
</tr>
<tr class="row-odd"><td><p>MPU</p></td>
<td><p>on-chip</p></td>
<td><p>arch/arm</p></td>
</tr>
<tr class="row-even"><td><p>NVIC</p></td>
<td><p>on-chip</p></td>
<td><p>arch/arm</p></td>
</tr>
<tr class="row-odd"><td><p>PWM</p></td>
<td><p>on-chip</p></td>
<td><p>pwm</p></td>
</tr>
<tr class="row-even"><td><p>RTC</p></td>
<td><p>on-chip</p></td>
<td><p>system clock</p></td>
</tr>
<tr class="row-odd"><td><p>RTT</p></td>
<td><p>Segger</p></td>
<td><p>console</p></td>
</tr>
<tr class="row-even"><td><p>RADIO</p></td>
<td><p>nrf7002</p></td>
<td><p>Wi-Fi 6 (802.11ax)</p></td>
</tr>
<tr class="row-odd"><td><p>QSPI</p></td>
<td><p>on-chip</p></td>
<td><p>qspi</p></td>
</tr>
<tr class="row-even"><td><p>SPI(M/S)</p></td>
<td><p>on-chip</p></td>
<td><p>spi</p></td>
</tr>
<tr class="row-odd"><td><p>SPU</p></td>
<td><p>on-chip</p></td>
<td><p>system protection</p></td>
</tr>
<tr class="row-even"><td><p>UARTE</p></td>
<td><p>on-chip</p></td>
<td><p>serial</p></td>
</tr>
<tr class="row-odd"><td><p>USB</p></td>
<td><p>on-chip</p></td>
<td><p>usb</p></td>
</tr>
<tr class="row-even"><td><p>WDT</p></td>
<td><p>on-chip</p></td>
<td><p>watchdog</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpunet</span></code> board configuration supports the following hardware features:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 27%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Interface</p></th>
<th class="head"><p>Controller</p></th>
<th class="head"><p>Driver/Component</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CLOCK</p></td>
<td><p>on-chip</p></td>
<td><p>clock_control</p></td>
</tr>
<tr class="row-odd"><td><p>FLASH</p></td>
<td><p>on-chip</p></td>
<td><p>flash</p></td>
</tr>
<tr class="row-even"><td><p>GPIO</p></td>
<td><p>on-chip</p></td>
<td><p>gpio</p></td>
</tr>
<tr class="row-odd"><td><p>I2C(M)</p></td>
<td><p>on-chip</p></td>
<td><p>i2c</p></td>
</tr>
<tr class="row-even"><td><p>MPU</p></td>
<td><p>on-chip</p></td>
<td><p>arch/arm</p></td>
</tr>
<tr class="row-odd"><td><p>NVIC</p></td>
<td><p>on-chip</p></td>
<td><p>arch/arm</p></td>
</tr>
<tr class="row-even"><td><p>RADIO</p></td>
<td><p>on-chip</p></td>
<td><p>Bluetooth,
ieee802154</p></td>
</tr>
<tr class="row-odd"><td><p>RTC</p></td>
<td><p>on-chip</p></td>
<td><p>system clock</p></td>
</tr>
<tr class="row-even"><td><p>RTT</p></td>
<td><p>Segger</p></td>
<td><p>console</p></td>
</tr>
<tr class="row-odd"><td><p>QSPI</p></td>
<td><p>on-chip</p></td>
<td><p>qspi</p></td>
</tr>
<tr class="row-even"><td><p>SPI(M/S)</p></td>
<td><p>on-chip</p></td>
<td><p>spi</p></td>
</tr>
<tr class="row-odd"><td><p>UARTE</p></td>
<td><p>on-chip</p></td>
<td><p>serial</p></td>
</tr>
<tr class="row-even"><td><p>WDT</p></td>
<td><p>on-chip</p></td>
<td><p>watchdog</p></td>
</tr>
</tbody>
</table>
<p>Other hardware features are not supported by the nRF Connect SDK kernel.</p>
</section>
<section id="connections-and-ios">
<h3><a class="toc-backref" href="#id10">Connections and IOs</a><a class="headerlink" href="#connections-and-ios" title="Permalink to this heading"></a></h3>
<p>The connections and IOs supported by the development kit are listed in this section.</p>
<section id="led">
<h4>LED<a class="headerlink" href="#led" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>LED1 (green) = P1.06</p></li>
<li><p>LED2 (green) = P1.07</p></li>
</ul>
</section>
<section id="push-buttons">
<h4>Push buttons<a class="headerlink" href="#push-buttons" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>BUTTON1 = SW1 = P1.08</p></li>
<li><p>BUTTON2 = SW2 = P1.09</p></li>
<li><p>BOOT = SW5 = boot/reset</p></li>
</ul>
</section>
<section id="wi-fi-control">
<h4>Wi-Fi control<a class="headerlink" href="#wi-fi-control" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>BUCKEN = P0.12</p></li>
<li><p>IOVDD CONTROL = P0.31</p></li>
<li><p>HOST IRQ = P0.23</p></li>
<li><p>COEX_REQ = P0.28</p></li>
<li><p>COEX_STATUS0 = P0.30</p></li>
<li><p>COEX_STATUS1 = P0.29</p></li>
<li><p>COEX_GRANT = P0.24</p></li>
</ul>
</section>
</section>
<section id="security-components">
<h3><a class="toc-backref" href="#id11">Security components</a><a class="headerlink" href="#security-components" title="Permalink to this heading"></a></h3>
<p>The following security components are available:</p>
<ul>
<li><p>Implementation Defined Attribution Unit (<a class="reference external" href="https://developer.arm.com/docs/100690/latest/attribution-units-sau-and-idau">IDAU</a>) on the application core.</p>
<p>The IDAU is implemented with the System Protection Unit and is used to define secure and non-secure memory maps.
By default, the entire memory space (Flash, SRAM, and peripheral address space) is defined to be secure-accessible only.</p>
</li>
<li><p>Secure boot.</p></li>
</ul>
</section>
</section>
<section id="programming-and-debugging">
<h2><a class="toc-backref" href="#id12">Programming and debugging</a><a class="headerlink" href="#programming-and-debugging" title="Permalink to this heading"></a></h2>
<p>The nRF5340 application core supports the Armv8-M Security Extension.
Applications built for the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp</span></code> board boot by default in the secure state.</p>
<p>The nRF5340 network core does not support the Armv8-M Security Extension.
nRF5340 IDAU can configure bus accesses by the nRF5340 network core to have the secure attribute set.
This allows to build and run secure-only applications on the nRF5340 SoC.</p>
<section id="building-ncs-applications-with-arm-trustzone">
<h3><a class="toc-backref" href="#id13">Building nRF Connect SDK applications with Arm TrustZone</a><a class="headerlink" href="#building-ncs-applications-with-arm-trustzone" title="Permalink to this heading"></a></h3>
<p>Applications on nRF5340 can use Cortex-M Security Extensions (CMSE) and separate firmware for the application core between Secure Processing Environment (SPE) and Non-Secure Processing Environment (NSPE).
You can build SPE using either nRF Connect SDK or <a class="reference external" href="https://www.trustedfirmware.org/projects/tf-m/">Trusted Firmware M</a> (TF-M).
You must always build NSPE using nRF Connect SDK.</p>
<p>For information about Cortex-M Security Extensions (CMSE) and the difference between the two environments, see <a class="reference internal" href="../../app_dev/board_support/index.html#app-boards-spe-nspe"><span class="std std-ref">Processing environments</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, SPE for the nRF5340 application core is built using TF-M.</p>
</div>
<section id="building-the-firmware-with-tf-m">
<h4>Building the firmware with TF-M<a class="headerlink" href="#building-the-firmware-with-tf-m" title="Permalink to this heading"></a></h4>
<p>If you want to use nRF Connect SDK to build the firmware image separated in SPE with TF-M and NSPE, complete the following steps:</p>
<ol class="arabic">
<li><p>Build the nRF Connect SDK application for the application core using the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp_ns</span></code> build target.</p>
<p>To invoke the building of TF-M, the nRF Connect SDK build system requires the Kconfig option <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BUILD_WITH_TFM</span></code> to be enabled, which is set by default when building nRF Connect SDK as an application that supports both NSPE and SPE.</p>
<p>The nRF Connect SDK build system performs the following steps automatically:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Build the NSPE firmware image as a regular nRF Connect SDK application.</p></li>
<li><p>Build an SPE firmware image (with TF-M).</p></li>
<li><p>Merge the output image binaries.</p></li>
<li><p>Optionally, build a bootloader image (MCUboot).</p></li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on the TF-M configuration, an application DTS overlay can be required to adjust the NSPE image flash memory partition and SRAM starting address and sizes.</p>
</div>
</li>
<li><p>Build the application firmware for the network core using the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpunet</span></code> build target.</p></li>
</ol>
</section>
<section id="building-the-secure-firmware-using-ncs">
<h4>Building the secure firmware using nRF Connect SDK<a class="headerlink" href="#building-the-secure-firmware-using-ncs" title="Permalink to this heading"></a></h4>
<p>If you want to use nRF Connect SDK to build the firmware images with CMSE enabled, but without TF-M, complete the following steps:</p>
<ol class="arabic">
<li><p>Build the nRF Connect SDK application binary for SPE for the application core using the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp</span></code> build target.</p>
<p>Also set <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_TRUSTED_EXECUTION_SECURE</span></code> to <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="xref kconfig kconfig-option docutils literal notranslate"><span class="pre">CONFIG_BUILD_WITH_TFM</span></code> to <code class="docutils literal notranslate"><span class="pre">n</span></code> in the application project configuration file.</p>
</li>
<li><p>Build the nRF Connect SDK application binary for NSPE for the application core using the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp_ns</span></code> build target.</p></li>
<li><p>Merge the two binaries.</p></li>
<li><p>Build the application firmware for the network core using the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpunet</span></code> build target.</p></li>
</ol>
<p>When building application with SPE and NSPE for the nRF5340 application core, the SPE image must set the IDAU (SPU) configuration to allow non-secure access to all CPU resources used by the application firmware in NSPE.
SPU configuration must be applied before jumping to the application in NSPE.</p>
</section>
</section>
<section id="building-application-without-cmse">
<h3><a class="toc-backref" href="#id14">Building application without CMSE</a><a class="headerlink" href="#building-application-without-cmse" title="Permalink to this heading"></a></h3>
<p>Build the nRF Connect SDK application as described in <a class="reference internal" href="../../getting_started/programming.html#gs-programming"><span class="std std-ref">Building and programming an application</span></a>, using the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpuapp</span></code> build target for the firmware running on the nRF5340 application core and the <code class="docutils literal notranslate"><span class="pre">nrf7002dk_nrf5340_cpunet</span></code> build target for the firmware running on the nRF5340 network core.</p>
</section>
<section id="programming-the-firmware-to-the-dk">
<h3><a class="toc-backref" href="#id15">Programming the firmware to the DK</a><a class="headerlink" href="#programming-the-firmware-to-the-dk" title="Permalink to this heading"></a></h3>
<p>Follow the instructions in the <a class="reference internal" href="../../getting_started/programming.html#gs-programming"><span class="std std-ref">Building and programming an application</span></a> page to build and flash applications.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To flash and debug applications on the nRF7002 DK you must use the nRF Command Line Tools version 10.12.0 or above.
For further information on how to install the nRF Command Line Tools, see <a class="reference internal" href="../../getting_started/updating.html#gs-updating"><span class="std std-ref">Updating repositories and tools</span></a>.</p>
</div>
</section>
<section id="debugging">
<h3><a class="toc-backref" href="#id16">Debugging</a><a class="headerlink" href="#debugging" title="Permalink to this heading"></a></h3>
<p>See the <a class="reference internal" href="../../getting_started/testing.html#gs-testing"><span class="std std-ref">Testing and debugging an application</span></a> page for information about debugging.</p>
</section>
</section>
<section id="testing-the-leds-and-buttons-in-the-nrf7002-dk">
<h2><a class="toc-backref" href="#id17">Testing the LEDs and buttons in the nRF7002 DK</a><a class="headerlink" href="#testing-the-leds-and-buttons-in-the-nrf7002-dk" title="Permalink to this heading"></a></h2>
<p>The following samples allow you to test if the buttons (or switches) and LEDs on the development kit are working properly with nRF Connect SDK:</p>
<ul class="simple">
<li><p><span class="xref std std-ref">blinky-sample</span></p></li>
<li><p><span class="xref std std-ref">button-sample</span></p></li>
</ul>
<p>Build and flash the samples to make sure nRF Connect SDK is running correctly on your development kit.
For the button and LED definitions, see the <code class="file docutils literal notranslate"><span class="pre">boards/arm/nrf7002dk_nrf5340/nrf5340_cpuapp_common.dts</span></code> file.</p>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developing/index.html" class="btn btn-neutral float-right" title="Developing with nRF70 Series" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="features.html" class="btn btn-neutral" title="Features of nRF70 Series" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>