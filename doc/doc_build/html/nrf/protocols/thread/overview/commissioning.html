<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OpenThread commissioning &mdash; nRF Connect SDK 2.3.99 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nordic.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/nrf.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" /> 
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=G-ZPVZRKFQJR"></script>
        <script src="../../../_static/js/ga-tracker.js"></script>
        <script data-culture="EN" id="CookieConsent" type="text/javascript" src="https://policy.app.cookieinformation.com/uc.js"></script>
        <script src="../../../_static/tabs.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
<script
  type="text/javascript"
  src="../../../_static/js/ncs.js"
></script>
<script src="../../../_static/js/bootstrap.bundle.min.js"></script>

    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Configuring Thread in the nRF Connect SDK" href="../configuring.html" />
    <link rel="prev" title="OpenThread power consumption" href="power_consumption.html" />
<link
  href="../../../_static/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="shortcut icon"
  href="../../../_static/images/favicon.ico"
/>

</head>

<body class="wy-body-for-nav">
<div class="announcement"></div>
<div class="d-print-none ncs-header">
  <div class="container-xl ncs-header-top">
    <div class="row h-100">
      <div class="d-none d-md-block col-2">
        <div class="bg-white py-4 px-3 ml-2 ncs-header-logo">
          <img
            class="ncs-header-logo"
            src="../../../_static/images/nordic-logo.png"
            alt=""
          />
        </div>
      </div>
      <div
        class="col-8 col-md-7 pl-md-4 d-flex align-self-center justify-content-center"
      >
        <form class="w-75" action="../../../search.html" method="get">
          <div class="form-group">
            <input
              type="text"
              name="q"
              class="ncs-search-input form-control"
              placeholder="Search all docs..."
            />
          </div>
        </form>
      </div>
      <div class="col-4 col-md-3 d-md-block p-3 text-end">
        <div class="dropdown">
          <button
            class="btn dropdown-toggle ncs-btn-versions"
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span class="d-none d-md-inline">nRF Connect SDK</span>
            <span id="ncsversion" class="d-inline"></span>
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="ncs-header-nav">
    <div class="container-xl">
      <div class="row">
        <div class="col col-12 d-flex justify-content-center">
          <nav class="navbar navbar-dark navbar-expand-lg p-0">
            <span class="navbar-brand d-block d-lg-none py-2 pl-1"
              >Documentation sets</span
            >
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
              <ul class="navbar-nav">
                <li class="nav-item active py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrf/index.html"
                    >nRF Connect SDK</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfx/index.html"
                    >nrfx</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../nrfxlib/README.html"
                    >nrfxlib</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../zephyr/index.html"
                    >Zephyr Project</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../mcuboot/wrapper.html"
                    >MCUboot</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../tfm/index.html"
                    >Trusted Firmware-M</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../matter/index.html"
                    >Matter</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li class="nav-item  py-1 px-3">
                  <a
                    class="nav-link"
                    href="../../../../kconfig/index.html"
                    >Kconfig Reference</a
                  >
                </li>
                <li><hr class="dropdown-divider" /></li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> nRF Connect SDK
          </a>
              <div class="version">
                2.3.99
              </div>
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_model.html">Development model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../app_dev.html">Application development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ecosystem_integration.html">Ecosystems integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf91.html">Working with nRF91 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf70.html">Working with nRF70 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf53.html">Working with nRF53 Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nrf52.html">Working with nRF52 Series</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../protocols.html">Protocols</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../ble/index.html">Bluetooth LE Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bt_mesh/index.html">Bluetooth mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../esb/index.html">Enhanced ShockBurst (ESB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gazell/index.html">Gazell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matter/index.html">Matter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multiprotocol/index.html">Multiprotocol support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nfc/index.html">Near Field Communication (NFC)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Thread</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">OpenThread overview</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="supported_features.html">Supported Thread features</a></li>
<li class="toctree-l4"><a class="reference internal" href="architectures.html">OpenThread architectures</a></li>
<li class="toctree-l4"><a class="reference internal" href="communication.html">OpenThread co-processor communication</a></li>
<li class="toctree-l4"><a class="reference internal" href="ot_integration.html">OpenThread integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="ot_memory.html">OpenThread memory requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="power_consumption.html">OpenThread power consumption</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">OpenThread commissioning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuring.html">Configuring Thread in the nRF Connect SDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../prebuilt_libs.html">Pre-built libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tools.html">Thread tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../certification.html">Thread certification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../wifi/index.html">Wi-Fi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../zigbee/index.html">Zigbee</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../known_issues.html">Known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../software_maturity.html">Software maturity levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">About this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">nRF Connect SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../../protocols.html">Protocols</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Thread</a></li>
          <li class="breadcrumb-item"><a href="index.html">OpenThread overview</a></li>
      <li class="breadcrumb-item active">OpenThread commissioning</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/protocols/thread/overview/commissioning.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="openthread-commissioning">
<span id="thread-ot-commissioning"></span><h1>OpenThread commissioning<a class="headerlink" href="#openthread-commissioning" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#commissioning-roles" id="id9">Commissioning roles</a></p>
<ul>
<li><p><a class="reference internal" href="#device-types" id="id10">Device types</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#commissioning-scenarios" id="id11">Commissioning scenarios</a></p>
<ul>
<li><p><a class="reference internal" href="#on-mesh-thread-commissioning" id="id12">On-mesh Thread commissioning</a></p></li>
<li><p><a class="reference internal" href="#external-thread-commissioning" id="id13">External Thread commissioning</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#commissioning-phases" id="id14">Commissioning phases</a></p>
<ul>
<li><p><a class="reference internal" href="#petitioning" id="id15">Petitioning</a></p></li>
<li><p><a class="reference internal" href="#joining" id="id16">Joining</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#security-authentication-and-credentials" id="id17">Security, authentication, and credentials</a></p></li>
<li><p><a class="reference internal" href="#commissioning-commands" id="id18">Commissioning commands</a></p></li>
<li><p><a class="reference internal" href="#configuring-on-mesh-thread-commissioning" id="id19">Configuring on-mesh Thread commissioning</a></p>
<ul>
<li><p><a class="reference internal" href="#requirements" id="id20">Requirements</a></p></li>
<li><p><a class="reference internal" href="#programming-the-dks" id="id21">Programming the DKs</a></p></li>
<li><p><a class="reference internal" href="#disabling-the-thread-network" id="id22">Disabling the Thread network</a></p></li>
<li><p><a class="reference internal" href="#setting-up-the-commissioner" id="id23">Setting up the Commissioner</a></p></li>
<li><p><a class="reference internal" href="#adding-the-joiner" id="id24">Adding the Joiner</a></p></li>
</ul>
</li>
</ul>
</div>
<p>Commissioning is the process that allows a new Thread device to join a Thread network.
The new device must be authenticated and authorized to become part of the network.</p>
<p>In the commissioning process, devices have different <a class="reference internal" href="#thread-ot-commissioning-roles"><span class="std std-ref">Commissioning roles</span></a>.
The whole process can happen within the Thread network (connectivity within the Thread network) or can involve devices that are outside the network (other network provides connectivity, for example Ethernet or Wi-Fi).
This is the main difference between <a class="reference internal" href="#thread-ot-commissioning-types-on-mesh"><span class="std std-ref">On-mesh Thread commissioning</span></a> and <a class="reference internal" href="#thread-ot-commissioning-types-external"><span class="std std-ref">External Thread commissioning</span></a>, respectively.
The whole commissioning process benefits from <a class="reference internal" href="#thread-ot-commissioning-roles-authentication"><span class="std std-ref">several security measures</span></a>, especially the DTLS protocol.</p>
<section id="commissioning-roles">
<span id="thread-ot-commissioning-roles"></span><h2><a class="toc-backref" href="#id9">Commissioning roles</a><a class="headerlink" href="#commissioning-roles" title="Permalink to this heading"></a></h2>
<p>During the commissioning process, the devices involved are assigned one of the following roles:</p>
<ul>
<li><p><em>Leader</em> - Watches over the network configuration, allows Commissioner Candidate to become Commissioner, and ensures there is only one active Commissioner.</p></li>
<li><p><em>Commissioner Candidate</em> - Role for a device capable of becoming the Commissioner, but has not yet been assigned the role of Commissioner.</p></li>
<li><p><em>Commissioner</em> - Authenticates the Joiner and provides it with network credentials required to join the network.
The Commissioner can be part of the network or it can be outside the network (see <a class="reference internal" href="#thread-ot-commissioning-types"><span class="std std-ref">Commissioning scenarios</span></a>).</p></li>
<li><p><em>Joiner</em> - Role for a new device that wants to join the Thread network.
It exchanges messages with the Commissioner through the directly connected Joiner Router that serves as a proxy.</p></li>
<li><p><em>Joiner Router</em> - Role for a router device that is one hop away from the Joiner device in the Thread network and is the sole device connected with the Joiner.
Responds to the Discovery Request of the Joiner.
Moreover, when chosen by the Joiner, it passes subsequent communication in a secure manner.</p></li>
<li><p><em>Border Router</em> - Role for a device that forwards data between a Thread network and a non-Thread network.
For this purpose, it is equipped with at least two interfaces, for example Wi-Fi, Ethernet, LTE, or other interface in addition to Thread.
The Border Router can also be an interface for the Commissioner.</p>
<p>The Border Router role is usually combined with the <em>Border Agent</em> function, which accepts <a class="reference internal" href="#thread-ot-commissioning-phases"><span class="std std-ref">petitions</span></a> from the Commissioner candidate.
It also relays commissioning messages between Thread Network and a Commissioner.
If a Commissioner is a part of the network, the same node is both the Commissioner and the Border Agent.</p>
</li>
</ul>
<p>Once a device is assigned one of the roles in the network, it can combine it with other roles.
An exception is the Joiner role, which is exclusive to the Joiner and cannot be combined with other roles.
For example:</p>
<ul class="simple">
<li><p>Border Router can also have the Joiner Router role in <a class="reference internal" href="#thread-ot-commissioning-types-external"><span class="std std-ref">External Thread commissioning</span></a>.</p></li>
<li><p>Joiner Router can also have the Commissioner role in <a class="reference internal" href="#thread-ot-commissioning-types-on-mesh"><span class="std std-ref">On-mesh Thread commissioning</span></a>.</p></li>
</ul>
<p>For details about scenarios that include devices with multiple roles, see <a class="reference external" href="https://www.threadgroup.org/Portals/0/documents/support/CommissioningWhitePaper_658_2.pdf">Thread Group’s Commissioning White Paper</a>.</p>
<p>See <a class="reference internal" href="#thread-ot-commissioning-cli"><span class="std std-ref">Commissioning commands</span></a> for the list of commands used to assign the commissioning roles.</p>
<section id="device-types">
<span id="thread-ot-device-types"></span><h3><a class="toc-backref" href="#id10">Device types</a><a class="headerlink" href="#device-types" title="Permalink to this heading"></a></h3>
<p>OpenThread distinguishes between different device types depending on what roles a device can take in the Thread network.</p>
<dl>
<dt>Full Thread Device (FTD)</dt><dd><p>An FTD can be both a router and an end device.
Its radio is always on.</p>
</dd>
<dt>Minimal Thread Device (MTD)</dt><dd><p>An MTD is always an end device.
It forwards all messages to its parent.</p>
<p>There are two important subtypes:</p>
<dl class="simple">
<dt>Minimal End Device (MED)</dt><dd><p>A MED keeps its transceiver always on.</p>
</dd>
<dt>Sleepy End Device (SED)</dt><dd><p>A SED is usually off and wakes occasionally to receive messages from its parent.</p>
</dd>
<dt>Synchronized Sleepy End Device (SSED)</dt><dd><p>A SSED is an enhanced SED.
It transmits less data than SED and relies on receiving messages from its parent only in specified time intervals.</p>
</dd>
</dl>
</dd>
</dl>
<p>For more information, see <a class="reference external" href="https://openthread.io/guides/thread-primer/node-roles-and-types#device_types">Device Types on OpenThread portal</a>.</p>
<section id="sed-vs-ssed-activity">
<h4>SED vs SSED activity<a class="headerlink" href="#sed-vs-ssed-activity" title="Permalink to this heading"></a></h4>
<p>A Thread Synchronized Sleepy End Device (SSED) is synchronized with its parent router and uses the radio only at scheduled intervals, by using the Coordinated Sampled Listening (CSL) feature introduced as one of <a class="reference external" href="https://www.threadgroup.org/Portals/0/documents/support/Thread%201.2%20Base%20Features.pdf">Thread 1.2 Base Features</a>.
During those intervals, the device waits for the router to send it any data related to the desired device activity.
The SSED does require sending packets occasionally to keep synchronization with the router.
However, unlike a regular SED, an SSED does not actively communicate with the router by polling and goes into the idle mode in-between the scheduled activity periods.
If there is no application-related traffic for a longer period of time, the SSED sends a data poll request packet to synchronize with the parent.
Overall, the SSED features further reduce energy consumption of the device and generate less data traffic compared to a standard Thread SED.</p>
<figure class="align-default" id="id6">
<img alt="Comparison of Thread SED and Thread SSED radio activity" src="../../../_images/thread_sed_ssed_comparison.svg" /><figcaption>
<p><span class="caption-text">Comparison of Thread SED and Thread SSED radio activity</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="commissioning-scenarios">
<span id="thread-ot-commissioning-types"></span><h2><a class="toc-backref" href="#id11">Commissioning scenarios</a><a class="headerlink" href="#commissioning-scenarios" title="Permalink to this heading"></a></h2>
<p>The commissioning in OpenThread can be either on-mesh or external.
Native commissioning is not supported by OpenThread.</p>
<section id="on-mesh-thread-commissioning">
<span id="thread-ot-commissioning-types-on-mesh"></span><h3><a class="toc-backref" href="#id12">On-mesh Thread commissioning</a><a class="headerlink" href="#on-mesh-thread-commissioning" title="Permalink to this heading"></a></h3>
<p>In the on-mesh Thread commissioning, the commissioning takes place inside the Thread network.
The Thread Leader approves a Commissioner connected either to the Thread network (on-mesh Commissioner) or to a Thread device, and accepts it into the Thread network.
The Border Agent then authenticates it.
After authentication, the Commissioner instructs the Joiner Router to transfer Thread network credentials to the Joiner.</p>
<p>In this type of commissioning, Thread network credentials are transferred between devices over the radio.
At the end of its own authentication process, the Joiner <a class="reference internal" href="#thread-ot-commissioning-phases-joining"><span class="std std-ref">joins</span></a> the Thread network and becomes an active device that communicates with other Thread devices.</p>
<p>For security purposes, the on-mesh Thread commissioning requires exchanging a DTLS handshake between Commissioner and Joiner.
See <a class="reference internal" href="#thread-ot-commissioning-roles-authentication"><span class="std std-ref">Security, authentication, and credentials</span></a> for more information.</p>
<figure class="align-default" id="id7">
<img alt="On-mesh Thread commissioning" src="../../../_images/Thread_on-mesh_commissioning.svg" /><figcaption>
<p><span class="caption-text">On-mesh Thread commissioning</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>For information about how to configure on-mesh Thread Commissioning, see <a class="reference internal" href="#thread-ot-commissioning-configuring-on-mesh"><span class="std std-ref">Configuring on-mesh Thread commissioning</span></a>.</p>
</section>
<section id="external-thread-commissioning">
<span id="thread-ot-commissioning-types-external"></span><h3><a class="toc-backref" href="#id13">External Thread commissioning</a><a class="headerlink" href="#external-thread-commissioning" title="Permalink to this heading"></a></h3>
<p>In the external Thread commissioning, the commissioning involves a Commissioner device connected to a network other than the Thread network, like Wi-Fi or Ethernet.
This external Commissioner (for example, a mobile phone) commissions new devices onto the network using the Thread Border Router as forwarding interface.</p>
<p>For security purposes, the external Thread commissioning requires exchanging a DTLS handshake.
The following DTLS sessions are established:</p>
<ul class="simple">
<li><p>Between Commissioner and Border Agent</p></li>
<li><p>Between Commissioner and Joiner</p></li>
</ul>
<p>See <a class="reference internal" href="#thread-ot-commissioning-roles-authentication"><span class="std std-ref">Security, authentication, and credentials</span></a> for related information.</p>
<figure class="align-default" id="id8">
<img alt="External Thread commissioning" src="../../../_images/Thread_external_commissioning.svg" /><figcaption>
<p><span class="caption-text">External Thread commissioning</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="commissioning-phases">
<span id="thread-ot-commissioning-phases"></span><h2><a class="toc-backref" href="#id14">Commissioning phases</a><a class="headerlink" href="#commissioning-phases" title="Permalink to this heading"></a></h2>
<p>The commissioning process includes petitioning and joining.</p>
<section id="petitioning">
<span id="thread-ot-commissioning-phases-petitioning"></span><h3><a class="toc-backref" href="#id15">Petitioning</a><a class="headerlink" href="#petitioning" title="Permalink to this heading"></a></h3>
<p>Petitioning concerns the Commissioner role.</p>
<p>Petitioning occurs in both commissioning scenarios. The Commissioner Candidate that is either connected to an external network (external candidate) or is part of the network (on-mesh candidate) must petition the Leader of the Thread network through the Border Agent to become the only authorized Commissioner.</p>
<p>The petitioning involves up to two phases:</p>
<ol class="arabic simple">
<li><p>(External commissioning only) The potential Commissioner exchanges a DTLS authentication handshake with the Thread Border Router to prove its eligibility and set up a secure connection.</p></li>
<li><p>(Both scenarios) The potential Commissioner sends a petition to the Thread Leader through the Thread Border Router.</p></li>
</ol>
<p>The Leader accepts the petition based on only one criterium: whether there is already an active Commissioner in the Thread network.
If there is none, the petition is accepted.
If the petition is rejected, a rejection message is sent with the ID of the active Commissioner.</p>
<p>After the petition is accepted by the Leader, the following actions occur:</p>
<ol class="arabic simple">
<li><p>(External commissioning only) The connection is established and all subsequent communication between the Commissioner and other Thread devices is done through the Border Agent.</p></li>
<li><p>(Both scenarios) The new Commissioner becomes the only authorized Commissioner.</p></li>
<li><p>(Both scenarios) A periodic message is sent to keep the secure commissioning session open.</p></li>
</ol>
</section>
<section id="joining">
<span id="thread-ot-commissioning-phases-joining"></span><h3><a class="toc-backref" href="#id16">Joining</a><a class="headerlink" href="#joining" title="Permalink to this heading"></a></h3>
<p>Joining concerns the Joiner role.</p>
<p>Joining occurs in both commissioning scenarios.
It involves the following phases:</p>
<ol class="arabic simple">
<li><p>The Joiner, that is a potential new device in the Thread network, sends a Discovery Request message on every channel.</p></li>
<li><p>The Joiner Router receives the message and answers with the Discovery Response message.
This message contains network identifiers and Steering Data in the payload.</p></li>
<li><p>The Joiner uses the information received from the Joiner Router to discover the correct network to connect to.</p></li>
</ol>
<p>After the Joiner received the payload from the Joiner Router, the following actions occur:</p>
<ol class="arabic simple">
<li><p>The connection is established.</p></li>
<li><p>The secure communication session continues, with a periodic message sent to keep it open.</p></li>
</ol>
</section>
</section>
<section id="security-authentication-and-credentials">
<span id="thread-ot-commissioning-roles-authentication"></span><h2><a class="toc-backref" href="#id17">Security, authentication, and credentials</a><a class="headerlink" href="#security-authentication-and-credentials" title="Permalink to this heading"></a></h2>
<p>To avoid a situation in which rogue devices join the Thread network, the communication between Commissioner and Joiner (in both scenarios) and Commissioner and Border Agent (in external commissioning) is secured with the Datagram Transport Layer Security (DTLS) authentication protocol session.
The session is established automatically.</p>
<p>The communication between Joiner and Joiner Router is also secured, but only when the Joiner Router sends network credentials to the Joiner using a one-time key generated by the Commissioner.</p>
<p>During commissioning, the on-mesh Thread Commissioner possesses the network master key by default, while the external Thread Commissioner never gains possession of the network master key.</p>
<p>The commissioning uses the following passwords and credentials:</p>
<ul>
<li><p><em>Commissioning Credential</em> - Passphrase known by the Leader and shared with the Commissioner of the network.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Commissioning Credential has 6 bytes minimum and 255 bytes maximum and is composed in the UTF-8 format, without character exclusions.</p>
</div>
</li>
<li><p><em>Commissioning Key (PSKc)</em> - Preshared key for the Commissioner based on the Commissioning Credential, which is used to establish the Commissioner Session between the Commissioner and Border Agent.
All devices in the Thread network store the PSKc.</p></li>
<li><p><em>Joining Device Credential (PSKd)</em> - Passphrase for authenticating a new Joiner device, used to establish a secure session between the Commissioner and the Joiner.
When encoded in binary, this passphrase is referred to as preshared key for the device.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Joining Device Credential is composed of at least 6 and no more than 32 uppercase alphanumeric ASCII characters (base32-thread, 0 to 9 and A to Y, with the exclusion of I, O, Q, and Z).</p>
</div>
</li>
</ul>
<p>For details and a full overview of security credentials, see the <a class="reference external" href="https://www.threadgroup.org/ThreadSpec">Thread Specification</a>, table 8.2.</p>
</section>
<section id="commissioning-commands">
<span id="thread-ot-commissioning-cli"></span><h2><a class="toc-backref" href="#id18">Commissioning commands</a><a class="headerlink" href="#commissioning-commands" title="Permalink to this heading"></a></h2>
<p>See the following pages in the <a class="reference external" href="https://github.com/openthread/openthread/blob/main/src/cli/README.md">OpenThread CLI Reference</a> on GitHub for an overview of available CLI commands that can be used for commissioning:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/openthread/openthread/blob/main/src/cli/README_COMMISSIONER.md">Commissioner CLI commands</a></p></li>
<li><p><a class="reference external" href="https://github.com/openthread/openthread/blob/main/src/cli/README_JOINER.md">Joiner CLI commands</a></p></li>
</ul>
</section>
<section id="configuring-on-mesh-thread-commissioning">
<span id="thread-ot-commissioning-configuring-on-mesh"></span><h2><a class="toc-backref" href="#id19">Configuring on-mesh Thread commissioning</a><a class="headerlink" href="#configuring-on-mesh-thread-commissioning" title="Permalink to this heading"></a></h2>
<p>You can configure on-mesh Thread commissioning using the <a class="reference internal" href="../../../samples/openthread/cli/README.html#ot-cli-sample"><span class="std std-ref">Thread: CLI</span></a> sample or the <a class="reference internal" href="../../../samples/openthread/coprocessor/README.html#ot-coprocessor-sample"><span class="std std-ref">Thread: Co-processor</span></a> sample with two devices to form a Thread network.
One device will act as a Commissioner and the other will be a Joiner.</p>
<section id="requirements">
<span id="thread-ot-commissioning-configuring-on-mesh-requirements"></span><h3><a class="toc-backref" href="#id20">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h3>
<p>To configure on-mesh Thread commissioning, you need at least two development kits that are compatible with either the CLI or the Co-processor samples.
Check the sample documentation pages for the list of compatible development kits.</p>
</section>
<section class="numbered-step" id="programming-the-dks">
<span id="thread-ot-commissioning-configuring-on-mesh-flashing"></span><h3><a class="toc-backref" href="#id21">Programming the DKs</a><a class="headerlink" href="#programming-the-dks" title="Permalink to this heading"></a></h3>
<p>Program both development kits with the <a class="reference internal" href="../../../samples/openthread/cli/README.html#ot-cli-sample"><span class="std std-ref">Thread: CLI</span></a> sample or program both of them with the <a class="reference internal" href="../../../samples/openthread/coprocessor/README.html#ot-coprocessor-sample"><span class="std std-ref">Thread: Co-processor</span></a> sample.
See the sample’s page for details.</p>
<p>After programming the DKs and turning them on, both devices will be precommissioned and will form a Thread network.
This network needs to be manually disabled.</p>
</section>
<section class="numbered-step" id="disabling-the-thread-network">
<span id="thread-ot-commissioning-configuring-on-mesh-disabling"></span><h3><a class="toc-backref" href="#id22">Disabling the Thread network</a><a class="headerlink" href="#disabling-the-thread-network" title="Permalink to this heading"></a></h3>
<p>The nRF Connect SDK’s Thread CLI and Co-processor samples come with the autostart feature, which means that the devices will form the network automatically without user intervention.
To properly observe the commissioning process, it is recommended to form a new Thread network manually.</p>
<p>To disconnect from the network before starting the commissioning process, run the following command on both devices for the sample of your choice:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-Q0xJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-Q0xJ" name="Q0xJ" role="tab" tabindex="0">CLI</button><button aria-controls="panel-0-Q29wcm9jZXNzb3I=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q29wcm9jZXNzb3I=" name="Q29wcm9jZXNzb3I=" role="tab" tabindex="-1">Coprocessor</button></div><div aria-labelledby="tab-0-Q0xJ" class="sphinx-tabs-panel group-tab" id="panel-0-Q0xJ" name="Q0xJ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot<span class="w"> </span>thread<span class="w"> </span>stop
</pre></div>
</div>
</div><div aria-labelledby="tab-0-Q29wcm9jZXNzb3I=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q29wcm9jZXNzb3I=" name="Q29wcm9jZXNzb3I=" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wpanctl:device_if&gt; leave</span>
<span class="go">Leaving current WPAN. . .</span>
</pre></div>
</div>
</div></div>
</section>
<section class="numbered-step" id="setting-up-the-commissioner">
<span id="thread-ot-commissioning-configuring-on-mesh-forming"></span><h3><a class="toc-backref" href="#id23">Setting up the Commissioner</a><a class="headerlink" href="#setting-up-the-commissioner" title="Permalink to this heading"></a></h3>
<p>One of the two devices must become the Leader and Commissioner of the randomly generated network.
Complete the following steps for the sample of your choice:</p>
<ol class="arabic">
<li><p>Form a network by running the following commands:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-Q0xJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-Q0xJ" name="Q0xJ" role="tab" tabindex="0">CLI</button><button aria-controls="panel-1-TkNQ" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-TkNQ" name="TkNQ" role="tab" tabindex="-1">NCP</button></div><div aria-labelledby="tab-1-Q0xJ" class="sphinx-tabs-panel group-tab" id="panel-1-Q0xJ" name="Q0xJ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot<span class="w"> </span>dataset<span class="w"> </span>init<span class="w"> </span>new
<span class="go">Done</span>
<span class="gp">uart:~$ </span>ot<span class="w"> </span>dataset<span class="w"> </span>commit<span class="w"> </span>active
<span class="go">Done</span>
<span class="gp">uart:~$ </span>ot<span class="w"> </span>ifconfig<span class="w"> </span>up
<span class="go">Done</span>
<span class="gp">uart:~$ </span>ot<span class="w"> </span>thread<span class="w"> </span>start
<span class="go">Done</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-TkNQ" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-TkNQ" name="TkNQ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wpanctl:leader_if&gt; form &quot;My_Network&quot; -c 11</span>
<span class="go">Forming WPAN &quot;My_Network&quot; as node type &quot;router&quot;, channel:11</span>
<span class="go">Successfully formed!</span>
</pre></div>
</div>
</div></div>
</li>
<li><p>View the newly generated network settings by running the following command:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-Q0xJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-Q0xJ" name="Q0xJ" role="tab" tabindex="0">CLI</button><button aria-controls="panel-2-TkNQ" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-TkNQ" name="TkNQ" role="tab" tabindex="-1">NCP</button></div><div aria-labelledby="tab-2-Q0xJ" class="sphinx-tabs-panel group-tab" id="panel-2-Q0xJ" name="Q0xJ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot<span class="w"> </span>dataset
<span class="go">Active Timestamp: 1</span>
<span class="go">Channel: 23</span>
<span class="go">Channel Mask: 07fff800</span>
<span class="go">Ext PAN ID: 36dd32babd209538</span>
<span class="go">Mesh Local Prefix: fd51:51f2:fb58:c849/64</span>
<span class="go">Master Key: 0278f75cb81f04834f09b5fc095852d6</span>
<span class="go">Network Name: OpenThread-8299</span>
<span class="go">PAN ID: 0x8299</span>
<span class="go">PSKc: 658f3f958bade7db07a36c3fbf2fa2c9</span>
<span class="go">Security Policy: 0, onrcb</span>
<span class="go">Done</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-TkNQ" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-TkNQ" name="TkNQ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wpanctl:leader_if&gt; status</span>
<span class="go">leader_if =&gt; [</span>
<span class="go">      &quot;NCP:State&quot; =&gt; &quot;associated&quot;</span>
<span class="go">      &quot;Daemon:Enabled&quot; =&gt; true</span>
<span class="go">      &quot;NCP:Version&quot; =&gt; &quot;OPENTHREAD/20191113-01053-g07f430dac; NONE; Oct  7 2020 14:54:25&quot;</span>
<span class="go">      &quot;Daemon:Version&quot; =&gt; &quot;0.08.00d (0.07.01-347-gf2e1501; Oct  7 2020 11:40:50)&quot;</span>
<span class="go">      &quot;Config:NCP:DriverName&quot; =&gt; &quot;spinel&quot;</span>
<span class="go">      &quot;NCP:HardwareAddress&quot; =&gt; [F4CE368F9ED56701]</span>
<span class="go">      &quot;NCP:Channel&quot; =&gt; 11</span>
<span class="go">      &quot;Network:NodeType&quot; =&gt; &quot;leader&quot;</span>
<span class="go">      &quot;Network:Name&quot; =&gt; &quot;My_Network&quot;</span>
<span class="go">      &quot;Network:XPANID&quot; =&gt; 0x7ADF737288F9FCB0</span>
<span class="go">      &quot;Network:PANID&quot; =&gt; 0xC4BB</span>
<span class="go">      &quot;IPv6:MeshLocalAddress&quot; =&gt; &quot;fd7a:df73:7288:0:29a8:87b5:3fb7:5142&quot;</span>
<span class="go">      &quot;IPv6:MeshLocalPrefix&quot; =&gt; &quot;fd7a:df73:7288::/64&quot;</span>
<span class="go">      &quot;com.nestlabs.internal:Network:AllowingJoin&quot; =&gt; false</span>
<span class="go">]</span>
</pre></div>
</div>
</div></div>
</li>
<li><p>Retrieve the <code class="docutils literal notranslate"><span class="pre">EUI64</span></code> identifier from the Joiner by running the following command:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-Q0xJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-Q0xJ" name="Q0xJ" role="tab" tabindex="0">CLI</button><button aria-controls="panel-3-TkNQ" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-TkNQ" name="TkNQ" role="tab" tabindex="-1">NCP</button></div><div aria-labelledby="tab-3-Q0xJ" class="sphinx-tabs-panel group-tab" id="panel-3-Q0xJ" name="Q0xJ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot<span class="w"> </span>eui64
<span class="go">f4ce3687a6e4f6e8</span>
<span class="go">Done</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-TkNQ" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-TkNQ" name="TkNQ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wpanctl:joiner_if&gt; getprop NCP:HardwareAddress</span>
<span class="go">NCP:HardwareAddress = [F4CE36710E768C63]</span>
</pre></div>
</div>
</div></div>
</li>
<li><p>Enable the Commissioner role in the Leader device by running the following command:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-Q0xJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-Q0xJ" name="Q0xJ" role="tab" tabindex="0">CLI</button><button aria-controls="panel-4-TkNQ" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-TkNQ" name="TkNQ" role="tab" tabindex="-1">NCP</button></div><div aria-labelledby="tab-4-Q0xJ" class="sphinx-tabs-panel group-tab" id="panel-4-Q0xJ" name="Q0xJ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot<span class="w"> </span>commissioner<span class="w"> </span>start
<span class="go">Done</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-TkNQ" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-TkNQ" name="TkNQ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wpanctl:leader_if&gt; commissioner start</span>
<span class="go">Commissioner started</span>
</pre></div>
</div>
</div></div>
</li>
<li><p>Set up a preshared key for the Joiner device by running the following command:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-Q0xJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-Q0xJ" name="Q0xJ" role="tab" tabindex="0">CLI</button><button aria-controls="panel-5-TkNQ" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-TkNQ" name="TkNQ" role="tab" tabindex="-1">NCP</button></div><div aria-labelledby="tab-5-Q0xJ" class="sphinx-tabs-panel group-tab" id="panel-5-Q0xJ" name="Q0xJ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot<span class="w"> </span>commissioner<span class="w"> </span>joiner<span class="w"> </span>add<span class="w"> </span>f4ce3687a6e4f6e8<span class="w"> </span>N0RD1C
<span class="go">Done</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-TkNQ" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-TkNQ" name="TkNQ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wpanctl:leader_if&gt; commissioner joiner-add F4CE36710E768C63 3600 N0RD1C</span>
<span class="go">Added Joiner F4:CE:36:71:0E:76:8C:63, timeout:3600, PSKd:&quot;N0RD1C&quot;</span>
</pre></div>
</div>
</div></div>
<p>See <a class="reference internal" href="#thread-ot-commissioning-roles-authentication"><span class="std std-ref">Security, authentication, and credentials</span></a> for encoding limitations.</p>
</li>
</ol>
</section>
<section class="numbered-step" id="adding-the-joiner">
<span id="thread-ot-commissioning-configuring-on-mesh-joining"></span><h3><a class="toc-backref" href="#id24">Adding the Joiner</a><a class="headerlink" href="#adding-the-joiner" title="Permalink to this heading"></a></h3>
<p>Now that the Commissioner is ready, complete the following steps for the sample of your choice:</p>
<ol class="arabic">
<li><p>Start the joining process in the Joiner device by running the following commands:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-Q0xJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-Q0xJ" name="Q0xJ" role="tab" tabindex="0">CLI</button><button aria-controls="panel-6-TkNQ" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-TkNQ" name="TkNQ" role="tab" tabindex="-1">NCP</button></div><div aria-labelledby="tab-6-Q0xJ" class="sphinx-tabs-panel group-tab" id="panel-6-Q0xJ" name="Q0xJ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot<span class="w"> </span>ifconfig<span class="w"> </span>up
<span class="go">Done</span>
<span class="gp">uart:~$ </span>ot<span class="w"> </span>joiner<span class="w"> </span>start<span class="w"> </span>N0RD1C
<span class="go">Done</span>
</pre></div>
</div>
<p>After a couple of seconds, the following message appears:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Join success</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-TkNQ" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-TkNQ" name="TkNQ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wpanctl:joiner_if&gt; joiner --join N0RD1C</span>
<span class="go">Starting joiner commissioning, PSKd:&quot;N0RD1C&quot; ...</span>
<span class="go">Successfully joined!</span>
</pre></div>
</div>
</div></div>
<p>The Joiner starts broadcasting Discovery Requests on all available channels.
When the Commissioner receives a Discovery Request, it responds to the sender.
After the response, a DTLS session is established to securely authenticate the Joiner and exchange the network credentials.</p>
</li>
<li><p>After a successful joining process, attach the newly added device to the Thread network by running the following command:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-Q0xJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-Q0xJ" name="Q0xJ" role="tab" tabindex="0">CLI</button><button aria-controls="panel-7-TkNQ" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-TkNQ" name="TkNQ" role="tab" tabindex="-1">NCP</button></div><div aria-labelledby="tab-7-Q0xJ" class="sphinx-tabs-panel group-tab" id="panel-7-Q0xJ" name="Q0xJ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">uart:~$ </span>ot<span class="w"> </span>thread<span class="w"> </span>start
<span class="go">Done</span>
</pre></div>
</div>
<p>This command starts the Thread network and automatically attaches the device to it.</p>
</div><div aria-labelledby="tab-7-TkNQ" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-TkNQ" name="TkNQ" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">wpanctl:joiner_if&gt; attach</span>
<span class="go">Resuming saved WPAN. . .</span>
</pre></div>
</div>
</div></div>
</li>
</ol>
<p>Both devices are now able to ping each other.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../configuring.html" class="btn btn-neutral float-right" title="Configuring Thread in the nRF Connect SDK" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="power_consumption.html" class="btn btn-neutral" title="OpenThread power consumption" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2023, Nordic Semiconductor.
      Last updated on Mar 20, 2023.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../../_static/images/nordic-logo.png" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>

<div id="scroll-container">
  <button type="button" id="scroll-btn" class="btn">
    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="#fff"/></svg>
  </button>
</div>

<script>
  const scrollBtn = document.querySelector("#scroll-btn");

  document.addEventListener("scroll", () => {
    if (window.scrollY > 400) {
          scrollBtn.style.visibility = "visible";
      } else {
          scrollBtn.style.visibility = "hidden";
      }
  });

  scrollBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nRF Connect SDK</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <div class="rst-other-version ncs">
        <a href="../../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      
      <div class="rst-other-version nrfx">
        <a href="../../../../nrfx/index.html">nrfx</a>
      </div>
      
      <div class="rst-other-version nrfxlib">
        <a href="../../../../nrfxlib/README.html">nrfxlib</a>
      </div>
      
      <div class="rst-other-version zephyr">
        <a href="../../../../zephyr/index.html">Zephyr Project</a>
      </div>
      
      <div class="rst-other-version mcuboot">
        <a href="../../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      
      <div class="rst-other-version tfm">
        <a href="../../../../tfm/index.html">Trusted Firmware-M</a>
      </div>
      
      <div class="rst-other-version matter">
        <a href="../../../../matter/index.html">Matter</a>
      </div>
      
      <div class="rst-other-version kconfig">
        <a href="../../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>