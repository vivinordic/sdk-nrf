<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="en-US">
  <compounddef id="nsms_8h" kind="file" language="C++">
    <compoundname>nsms.h</compoundname>
    <includes local="no">zephyr/kernel.h</includes>
    <includes local="no">zephyr/types.h</includes>
    <includes local="no">zephyr/bluetooth/conn.h</includes>
    <includes local="no">zephyr/bluetooth/uuid.h</includes>
    <includes local="no">zephyr/bluetooth/gatt.h</includes>
    <incdepgraph>
      <node id="5">
        <label>zephyr/bluetooth/uuid.h</label>
      </node>
      <node id="6">
        <label>zephyr/bluetooth/gatt.h</label>
      </node>
      <node id="4">
        <label>zephyr/bluetooth/conn.h</label>
      </node>
      <node id="3">
        <label>zephyr/types.h</label>
      </node>
      <node id="2">
        <label>zephyr/kernel.h</label>
      </node>
      <node id="1">
        <label>include/bluetooth/services/nsms.h</label>
        <link refid="nsms_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <innerclass refid="structbt__nsms__status__str" prot="public">bt_nsms_status_str</innerclass>
    <innerclass refid="structbt__nsms" prot="public">bt_nsms</innerclass>
      <sectiondef kind="define">
      <memberdef kind="define" id="group__bt__nsms_gaa0f8a19a75c66970c15b83e423b830cb_1gaa0f8a19a75c66970c15b83e423b830cb" prot="public" static="no">
        <name>BT_UUID_NSMS_VAL</name>
        <initializer>	BT_UUID_128_ENCODE(0x57a70000, 0x9350, 0x11ed, 0xa1eb, 0x0242ac120002)</initializer>
        <briefdescription>
<para>UUID of the NSMS Service. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/bluetooth/services/nsms.h" line="28" column="9" bodyfile="include/bluetooth/services/nsms.h" bodystart="28" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__bt__nsms_ga6e4c1bea732f2fe077fdc80630033a57_1ga6e4c1bea732f2fe077fdc80630033a57" prot="public" static="no">
        <name>BT_UUID_NSMS_STATUS_VAL</name>
        <initializer>	BT_UUID_128_ENCODE(0x57a70001, 0x9350, 0x11ed, 0xa1eb, 0x0242ac120002)</initializer>
        <briefdescription>
<para>UUID of the Status characteristic. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/bluetooth/services/nsms.h" line="32" column="9" bodyfile="include/bluetooth/services/nsms.h" bodystart="32" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__bt__nsms_ga2e7cb8de483ab1bff72a657681ce17a7_1ga2e7cb8de483ab1bff72a657681ce17a7" prot="public" static="no">
        <name>BT_UUID_NSMS_SERVICE</name>
        <initializer>BT_UUID_DECLARE_128(<ref refid="group__bt__nsms_gaa0f8a19a75c66970c15b83e423b830cb_1gaa0f8a19a75c66970c15b83e423b830cb" kindref="member">BT_UUID_NSMS_VAL</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/bluetooth/services/nsms.h" line="35" column="9" bodyfile="include/bluetooth/services/nsms.h" bodystart="35" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__bt__nsms_ga5b0e18a979c602002caea701337e4dc8_1ga5b0e18a979c602002caea701337e4dc8" prot="public" static="no">
        <name>BT_UUID_NSMS_STATUS</name>
        <initializer>BT_UUID_DECLARE_128(<ref refid="group__bt__nsms_ga6e4c1bea732f2fe077fdc80630033a57_1ga6e4c1bea732f2fe077fdc80630033a57" kindref="member">BT_UUID_NSMS_STATUS_VAL</ref>)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/bluetooth/services/nsms.h" line="36" column="9" bodyfile="include/bluetooth/services/nsms.h" bodystart="36" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__bt__nsms_gaf15a2f2a61882130d78dc45eaa13c3b3_1gaf15a2f2a61882130d78dc45eaa13c3b3" prot="public" static="no">
        <name>BT_NSMS_SERVICE_DEF</name>
        <param><defname>_name</defname></param>
        <param><defname>...</defname></param>
        <initializer>	BT_GATT_SERVICE_DEFINE(_name, __VA_ARGS__)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/bluetooth/services/nsms.h" line="83" column="9" bodyfile="include/bluetooth/services/nsms.h" bodystart="83" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__bt__nsms_ga451efb0e0588eb0281df7ca5bd5fa7a6_1ga451efb0e0588eb0281df7ca5bd5fa7a6" prot="public" static="no">
        <name>BT_NSMS_DEF</name>
        <param><defname>_nsms</defname></param>
        <param><defname>_name</defname></param>
        <param><defname>_authen</defname></param>
        <param><defname>_status_init</defname></param>
        <param><defname>_len_max</defname></param>
        <initializer>	static K_MUTEX_DEFINE(CONCAT(_nsms, _status_mtx));                              \
	static char CONCAT(_nsms, _status_buf)[_len_max] = _status_init;                \
	static const struct <ref refid="structbt__nsms__status__str" kindref="compound">bt_nsms_status_str</ref> CONCAT(_nsms, _status_str) = {           \
		.mtx = &amp;CONCAT(_nsms, _status_mtx),                                     \
		.size = (_len_max),                                                     \
		.buf = CONCAT(_nsms, _status_buf)                                       \
	};                                                                              \
	<ref refid="group__bt__nsms_gaf15a2f2a61882130d78dc45eaa13c3b3_1gaf15a2f2a61882130d78dc45eaa13c3b3" kindref="member">BT_NSMS_SERVICE_DEF</ref>(CONCAT(_nsms, _svc),                                        \
		BT_GATT_PRIMARY_SERVICE(<ref refid="group__bt__nsms_ga2e7cb8de483ab1bff72a657681ce17a7_1ga2e7cb8de483ab1bff72a657681ce17a7" kindref="member">BT_UUID_NSMS_SERVICE</ref>),                          \
			BT_GATT_CHARACTERISTIC(<ref refid="group__bt__nsms_ga5b0e18a979c602002caea701337e4dc8_1ga5b0e18a979c602002caea701337e4dc8" kindref="member">BT_UUID_NSMS_STATUS</ref>,                     \
					       BT_GATT_CHRC_READ | BT_GATT_CHRC_NOTIFY, \
					       _BT_NSMS_CH_READ_PERM(_authen),          \
					       <ref refid="group__bt__nsms_gad150b68446357c057442d8a22560ed67_1gad150b68446357c057442d8a22560ed67" kindref="member">bt_nsms_status_read</ref>,                     \
					       NULL,                                    \
					       (void *)&amp;CONCAT(_nsms, _status_str)),    \
			BT_GATT_CCC(NULL, _BT_NSMS_CH_READ_PERM(_authen) |              \
					  _BT_NSMS_CH_WRITE_PERM(_authen)),             \
			BT_GATT_CUD(_name, _BT_NSMS_CH_READ_PERM(_authen)),             \
	);                                                                              \
	static const struct <ref refid="structbt__nsms" kindref="compound">bt_nsms</ref> _nsms = {                                           \
		.status_attr = &amp;CONCAT(_nsms, _svc).attrs[2],                           \
	}</initializer>
        <briefdescription>
<para>Create the Nordic Status Message Service instance. </para>
        </briefdescription>
        <detaileddescription>
<para>This macro creates the Nordic Status Message Service instance and prepares it to work. Note that it allows to implement multiple instances and the only difference between them would be the name.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>_nsms</parametername>
</parameternamelist>
<parameterdescription>
<para>Name of Status Message Service instance. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>_name</parametername>
</parameternamelist>
<parameterdescription>
<para>NULL terminated string used as a CUD for Status Message Characteristic. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>_authen</parametername>
</parameternamelist>
<parameterdescription>
<para>Require authentication to read the characteristic. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>_status_init</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial message. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>_len_max</parametername>
</parameternamelist>
<parameterdescription>
<para>Maximal size of the message. The size of the message buffer. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/bluetooth/services/nsms.h" line="98" column="9" bodyfile="include/bluetooth/services/nsms.h" bodystart="98" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="group__bt__nsms_gad150b68446357c057442d8a22560ed67_1gad150b68446357c057442d8a22560ed67" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>ssize_t</type>
        <definition>ssize_t bt_nsms_status_read</definition>
        <argsstring>(struct bt_conn *conn, struct bt_gatt_attr const *attr, void *buf, uint16_t len, uint16_t offset)</argsstring>
        <name>bt_nsms_status_read</name>
        <param>
          <type>struct bt_conn *</type>
          <declname>conn</declname>
        </param>
        <param>
          <type>struct bt_gatt_attr const *</type>
          <declname>attr</declname>
        </param>
        <param>
          <type>void *</type>
          <declname>buf</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>len</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>offset</declname>
        </param>
        <briefdescription>
<para>Nordic Status Message Service reading command. </para>
        </briefdescription>
        <detaileddescription>
<para>This is implementation used by BLE stack.</para>
<para><simplesect kind="note"><para>Do not use it from the code. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/bluetooth/services/nsms.h" line="65" column="9" declfile="include/bluetooth/services/nsms.h" declline="65" declcolumn="9"/>
      </memberdef>
      <memberdef kind="function" id="group__bt__nsms_ga1784ac8e6bf9eae6d1703e13a8c18c9e_1ga1784ac8e6bf9eae6d1703e13a8c18c9e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int bt_nsms_set_status</definition>
        <argsstring>(const struct bt_nsms *nsms_obj, const char *status)</argsstring>
        <name>bt_nsms_set_status</name>
        <param>
          <type>const struct <ref refid="structbt__nsms" kindref="compound">bt_nsms</ref> *</type>
          <declname>nsms_obj</declname>
        </param>
        <param>
          <type>const char *</type>
          <declname>status</declname>
        </param>
        <briefdescription>
<para>Set status. </para>
        </briefdescription>
        <detaileddescription>
<para>This function sets status message and send notification to a connected peer, or all connected peers.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">nsms_obj</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to Nordic Status Message instance. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">status</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to a status string.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>0</parametername>
</parameternamelist>
<parameterdescription>
<para>If the data is sent. Otherwise, a negative value is returned. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/bluetooth/services/nsms.h" line="133" column="5" declfile="include/bluetooth/services/nsms.h" declline="133" declcolumn="5"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2023<sp/>Nordic<sp/>Semiconductor<sp/>ASA</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>SPDX-License-Identifier:<sp/>LicenseRef-Nordic-5-Clause</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>BT_NSMS_H_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BT_NSMS_H_</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;zephyr/kernel.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;zephyr/types.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;zephyr/bluetooth/conn.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;zephyr/bluetooth/uuid.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;zephyr/bluetooth/gatt.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="group__bt__nsms_gaa0f8a19a75c66970c15b83e423b830cb_1gaa0f8a19a75c66970c15b83e423b830cb" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BT_UUID_NSMS_VAL<sp/>\</highlight></codeline>
<codeline lineno="29"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_UUID_128_ENCODE(0x57a70000,<sp/>0x9350,<sp/>0x11ed,<sp/>0xa1eb,<sp/>0x0242ac120002)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="32" refid="group__bt__nsms_ga6e4c1bea732f2fe077fdc80630033a57_1ga6e4c1bea732f2fe077fdc80630033a57" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BT_UUID_NSMS_STATUS_VAL<sp/>\</highlight></codeline>
<codeline lineno="33"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_UUID_128_ENCODE(0x57a70001,<sp/>0x9350,<sp/>0x11ed,<sp/>0xa1eb,<sp/>0x0242ac120002)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="group__bt__nsms_ga2e7cb8de483ab1bff72a657681ce17a7_1ga2e7cb8de483ab1bff72a657681ce17a7" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BT_UUID_NSMS_SERVICE<sp/><sp/><sp/>BT_UUID_DECLARE_128(BT_UUID_NSMS_VAL)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36" refid="group__bt__nsms_ga5b0e18a979c602002caea701337e4dc8_1ga5b0e18a979c602002caea701337e4dc8" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BT_UUID_NSMS_STATUS<sp/><sp/><sp/><sp/>BT_UUID_DECLARE_128(BT_UUID_NSMS_STATUS_VAL)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="structbt__nsms__status__str" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbt__nsms__status__str" kindref="compound">bt_nsms_status_str</ref><sp/>{</highlight></codeline>
<codeline lineno="42" refid="structbt__nsms__status__str_a556097795d6cd1a3858bac83d606685c_1a556097795d6cd1a3858bac83d606685c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">k_mutex<sp/>*<ref refid="structbt__nsms__status__str_a556097795d6cd1a3858bac83d606685c_1a556097795d6cd1a3858bac83d606685c" kindref="member">mtx</ref>;</highlight></codeline>
<codeline lineno="44" refid="structbt__nsms__status__str_a6766eccf5b46624c1dbc6e6a58e0e41d_1a6766eccf5b46624c1dbc6e6a58e0e41d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="structbt__nsms__status__str_a6766eccf5b46624c1dbc6e6a58e0e41d_1a6766eccf5b46624c1dbc6e6a58e0e41d" kindref="member">size</ref>;</highlight></codeline>
<codeline lineno="46" refid="structbt__nsms__status__str_a9c84eaa82764abcebd2e55fc60cc7e1f_1a9c84eaa82764abcebd2e55fc60cc7e1f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<ref refid="structbt__nsms__status__str_a9c84eaa82764abcebd2e55fc60cc7e1f_1a9c84eaa82764abcebd2e55fc60cc7e1f" kindref="member">buf</ref>;</highlight></codeline>
<codeline lineno="47"><highlight class="normal">};</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="53" refid="structbt__nsms" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structbt__nsms" kindref="compound">bt_nsms</ref><sp/>{</highlight></codeline>
<codeline lineno="55" refid="structbt__nsms_adda045786fc00263a7a56c0ab201cdfb_1adda045786fc00263a7a56c0ab201cdfb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">bt_gatt_attr<sp/>*<ref refid="structbt__nsms_adda045786fc00263a7a56c0ab201cdfb_1adda045786fc00263a7a56c0ab201cdfb" kindref="member">status_attr</ref>;</highlight></codeline>
<codeline lineno="56"><highlight class="normal">};</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="65" refid="group__bt__nsms_gad150b68446357c057442d8a22560ed67_1gad150b68446357c057442d8a22560ed67" refkind="member"><highlight class="normal">ssize_t<sp/><ref refid="group__bt__nsms_gad150b68446357c057442d8a22560ed67_1gad150b68446357c057442d8a22560ed67" kindref="member">bt_nsms_status_read</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>bt_conn<sp/>*conn,</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/>bt_gatt_attr<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>*attr,</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*buf,<sp/>uint16_t<sp/>len,<sp/>uint16_t<sp/>offset);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_BT_NSMS_CH_READ_PERM(_authen)<sp/>((_authen)<sp/>?<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="71"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(BT_GATT_PERM_READ_AUTHEN)<sp/>:<sp/>\</highlight></codeline>
<codeline lineno="72"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(BT_GATT_PERM_READ)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="73"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_BT_NSMS_CH_WRITE_PERM(_authen)<sp/>((_authen)<sp/>?<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="76"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(BT_GATT_PERM_WRITE_AUTHEN)<sp/>:<sp/>\</highlight></codeline>
<codeline lineno="77"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(BT_GATT_PERM_WRITE)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="78"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>@note:</highlight></codeline>
<codeline lineno="80"><highlight class="comment"><sp/>*<sp/>The<sp/>macro<sp/>is<sp/>required<sp/>to<sp/>provide<sp/>proper<sp/>arguments<sp/>expansion<sp/>as<sp/>we<sp/>are<sp/>using<sp/>name<sp/>concatenation.</highlight></codeline>
<codeline lineno="81"><highlight class="comment"><sp/>*<sp/>This<sp/>allow<sp/>proper<sp/>double<sp/>argument<sp/>expansion.</highlight></codeline>
<codeline lineno="82"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83" refid="group__bt__nsms_gaf15a2f2a61882130d78dc45eaa13c3b3_1gaf15a2f2a61882130d78dc45eaa13c3b3" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BT_NSMS_SERVICE_DEF(_name,<sp/>...)<sp/>\</highlight></codeline>
<codeline lineno="84"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_GATT_SERVICE_DEFINE(_name,<sp/>__VA_ARGS__)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="group__bt__nsms_ga451efb0e0588eb0281df7ca5bd5fa7a6_1ga451efb0e0588eb0281df7ca5bd5fa7a6" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BT_NSMS_DEF(_nsms,<sp/>_name,<sp/>_authen,<sp/>_status_init,<sp/>_len_max)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="99"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>static<sp/>K_MUTEX_DEFINE(CONCAT(_nsms,<sp/>_status_mtx));<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="100"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>static<sp/>char<sp/>CONCAT(_nsms,<sp/>_status_buf)[_len_max]<sp/>=<sp/>_status_init;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="101"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>static<sp/>const<sp/>struct<sp/>bt_nsms_status_str<sp/>CONCAT(_nsms,<sp/>_status_str)<sp/>=<sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="102"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.mtx<sp/>=<sp/>&amp;CONCAT(_nsms,<sp/>_status_mtx),<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="103"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.size<sp/>=<sp/>(_len_max),<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="104"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.buf<sp/>=<sp/>CONCAT(_nsms,<sp/>_status_buf)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="105"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="106"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_NSMS_SERVICE_DEF(CONCAT(_nsms,<sp/>_svc),<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="107"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_GATT_PRIMARY_SERVICE(BT_UUID_NSMS_SERVICE),<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="108"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_GATT_CHARACTERISTIC(BT_UUID_NSMS_STATUS,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="109"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_GATT_CHRC_READ<sp/>|<sp/>BT_GATT_CHRC_NOTIFY,<sp/>\</highlight></codeline>
<codeline lineno="110"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_BT_NSMS_CH_READ_PERM(_authen),<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="111"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bt_nsms_status_read,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="112"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NULL,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="113"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(void<sp/>*)&amp;CONCAT(_nsms,<sp/>_status_str)),<sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="114"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_GATT_CCC(NULL,<sp/>_BT_NSMS_CH_READ_PERM(_authen)<sp/>|<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="115"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_BT_NSMS_CH_WRITE_PERM(_authen)),<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="116"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BT_GATT_CUD(_name,<sp/>_BT_NSMS_CH_READ_PERM(_authen)),<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="117"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="118"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>static<sp/>const<sp/>struct<sp/>bt_nsms<sp/>_nsms<sp/>=<sp/>{<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="119"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.status_attr<sp/>=<sp/>&amp;CONCAT(_nsms,<sp/>_svc).attrs[2],<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="120"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="133" refid="group__bt__nsms_ga1784ac8e6bf9eae6d1703e13a8c18c9e_1ga1784ac8e6bf9eae6d1703e13a8c18c9e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__bt__nsms_ga1784ac8e6bf9eae6d1703e13a8c18c9e_1ga1784ac8e6bf9eae6d1703e13a8c18c9e" kindref="member">bt_nsms_set_status</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="structbt__nsms" kindref="compound">bt_nsms</ref><sp/>*nsms_obj,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*status);</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__cplusplus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal">}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>BT_NSMS_H_<sp/>*/</highlight><highlight class="preprocessor"></highlight></codeline>
    </programlisting>
    <location file="include/bluetooth/services/nsms.h"/>
  </compounddef>
</doxygen>
